<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>SubProjectionTraces.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FunctionalExtensionality Lia FinFun Eqdep Program.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Lib.Preamble Lib.ListExtras Lib.StdppListSet.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Core.VLSM Core.VLSMProjections Core.ProjectionTraces Core.Composition Core.Equivocation Core.EquivocationProjections Core.Equivocation.NoEquivocation.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">VLSM Subcomposition</h1>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sub_composition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  (<span class="nv">sub_index_list</span> : list index)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_index_prop</span> (<span class="nv">i</span> : index) : <span class="kt">Prop</span> := i ‚àà sub_index_list.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Program Instance</span> <span class="nf">sub_index_prop_dec</span>
  (<span class="nv">i</span> : index)
  : Decision (sub_index_prop i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk0"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{sub_index_prop i} + {¬¨ sub_index_prop i}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1"><span class="nb">unfold</span> sub_index_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{i ‚àà sub_index_list} + {i ‚àâ sub_index_list}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> decide_rel; <span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_index</span> : <span class="kt">Type</span>
  := dec_sig sub_index_prop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_IM</span>
  (<span class="nv">ei</span> : sub_index)
  : VLSM message
  := IM (proj1_sig ei).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2"><span class="kn">Lemma</span> <span class="nf">sub_IM_state_pi</span>
  (<span class="nv">i</span> : index)
  (<span class="nv">s</span> : composite_state sub_IM)
  (<span class="nv">e1</span> <span class="nv">e2</span> : sub_index_prop i)
  : s (dexist i e1) = s (dexist i e2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dexist i e1) = s (dexist i e2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dexist i e1) = s (dexist i e2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4"><span class="nb">unfold</span> composite_state <span class="kr">in</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dexist i e1) = s (dexist i e2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5"><span class="nb">simpl</span> <span class="kr">in</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dexist i e1) = s (dexist i e2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6"><span class="nb">unfold</span> _composite_state <span class="kr">in</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">n</span> : sub_index, vstate (sub_IM n)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dexist i e1) = s (dexist i e2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (dsig_f_equal (<span class="kr">fun</span> <span class="nv">i</span> =&gt; vstate (IM i)) s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7"><span class="kn">Lemma</span> <span class="nf">sub_IM_state_update_eq</span>
  (<span class="nv">i</span> : index)
  (<span class="nv">s</span> : composite_state sub_IM)
  (<span class="nv">si</span> : vstate (IM i))
  (<span class="nv">e1</span> <span class="nv">e2</span> : sub_index_prop i)
  : state_update sub_IM s (dec_exist _ i e1) si (dec_exist _ i e2) = si.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM s (dec_exist sub_index_prop i e1)
  si (dec_exist sub_index_prop i e2) = si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM s (dec_exist sub_index_prop i e1)
  si (dec_exist sub_index_prop i e2) = si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9"><span class="nb">cut</span> (<span class="kr">forall</span> <span class="nv">be1</span> <span class="nv">be2</span>, be1 = be2 -&gt;
      state_update sub_IM s (exist _ i be1) si (exist _ i be2) = si).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> <span class="nv">be1</span>
    <span class="nv">be2</span> : (<span class="kr">Œª</span> <span class="nv">x</span> : index, bool_decide (sub_index_prop x))
            i,
   be1 = be2
   ‚Üí state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) = si)
‚Üí state_update sub_IM s
    (dec_exist sub_index_prop i e1) si
    (dec_exist sub_index_prop i e2) = si</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chka"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">be1</span>
   <span class="nv">be2</span> : (<span class="kr">Œª</span> <span class="nv">x</span> : index, bool_decide (sub_index_prop x))
           i,
  be1 = be2
  ‚Üí state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) = si</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> <span class="nv">be1</span>
    <span class="nv">be2</span> : (<span class="kr">Œª</span> <span class="nv">x</span> : index, bool_decide (sub_index_prop x))
            i,
   be1 = be2
   ‚Üí state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) = si)
‚Üí state_update sub_IM s
    (dec_exist sub_index_prop i e1) si
    (dec_exist sub_index_prop i e2) = si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc"><span class="nb">intro</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">be1</span>
   <span class="nv">be2</span> : (<span class="kr">Œª</span> <span class="nv">x</span> : index,
            bool_decide (sub_index_prop x)) i,
  be1 = be2
  ‚Üí state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) =
    si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM s (dec_exist sub_index_prop i e1)
  si (dec_exist sub_index_prop i e2) = si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd"><span class="nb">apply</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">be1</span>
   <span class="nv">be2</span> : (<span class="kr">Œª</span> <span class="nv">x</span> : index,
            bool_decide (sub_index_prop x)) i,
  be1 = be2
  ‚Üí state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) =
    si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">bool_decide_pack (sub_index_prop i) e1 =
bool_decide_pack (sub_index_prop i) e2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> proof_irrel.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">be1</span>
   <span class="nv">be2</span> : (<span class="kr">Œª</span> <span class="nv">x</span> : index, bool_decide (sub_index_prop x))
           i,
  be1 = be2
  ‚Üí state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) = si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>be1, be2</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Œª</span> <span class="nv">x</span> : index, bool_decide (sub_index_prop x)) i</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>be1 = be2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM s (i ‚Üæ be1) si (i ‚Üæ be2) = si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>e1, e2</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>be2</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Œª</span> <span class="nv">x</span> : index, bool_decide (sub_index_prop x)) i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM s (i ‚Üæ be2) si (i ‚Üæ be2) = si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> state_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">free_sub_vlsm_composition</span> : VLSM message
  := free_composite_vlsm sub_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">seeded_free_sub_composition</span>
  (<span class="nv">messageSet</span> : message -&gt; <span class="kt">Prop</span>)
  := pre_loaded_vlsm free_sub_vlsm_composition
      (<span class="kr">fun</span> <span class="nv">m</span> =&gt; messageSet m \/ composite_initial_message_prop IM m).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">composite_state_sub_projection</span>
  (<span class="nv">s</span> : composite_state IM)
  : composite_state sub_IM
  := <span class="kr">fun</span> (<span class="nv">subi</span> : sub_index) =&gt; s (proj1_sig subi) : vstate (sub_IM subi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11"><span class="kn">Lemma</span> <span class="nf">composite_initial_state_sub_projection</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">Hs</span> : composite_initial_state_prop IM s)
  : composite_initial_state_prop sub_IM (composite_state_sub_projection s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk13"><span class="nb">intros</span> (i, Hi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM (i ‚Üæ Hi))
  (composite_state_sub_projection s (i ‚Üæ Hi))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">composite_label_sub_projection</span>
  (<span class="nv">l</span> : composite_label IM)
  (<span class="nv">i</span> := projT1 l)
  (<span class="nv">e</span> : sub_index_prop i)
  : composite_label sub_IM
  :=
  existT (dec_exist _ i e) (projT2 l).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_sub_label</span>
  (<span class="nv">l</span> : composite_label sub_IM)
  : composite_label IM
  :=
  existT (proj1_sig (projT1 l)) (projT2 l).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_sub_state_to</span>
  (<span class="nv">s0</span> : composite_state IM)
  (<span class="nv">s</span> : composite_state sub_IM)
  : composite_state IM
  := <span class="kr">fun</span> <span class="nv">i</span> =&gt;
    <span class="kr">match</span> @decide  (sub_index_prop i) (sub_index_prop_dec i) <span class="kr">with</span>
    | <span class="nb">left</span> e =&gt;  s (dec_exist _ i e)
    | _ =&gt; s0 i
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_sub_state</span> := lift_sub_state_to (<span class="kr">fun</span> (<span class="nv">n</span> : index) =&gt; proj1_sig (vs0 (IM n))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14"><span class="kn">Lemma</span> <span class="nf">lift_sub_state_to_eq</span>
  (<span class="nv">s0</span> : composite_state IM)
  (<span class="nv">s</span> : composite_state sub_IM)
  <span class="nv">i</span>
  (<span class="nv">Hi</span> : sub_index_prop i)
  : lift_sub_state_to s0 s i = s (dec_exist _ i Hi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to s0 s i =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to s0 s i =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk16"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
| in_right =&gt; s0 i
<span class="kr">end</span> = s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi, H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist sub_index_prop i H) =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sub_IM_state_pi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk18"><span class="kn">Lemma</span> <span class="nf">lift_sub_state_to_neq</span>
  (<span class="nv">s0</span> : composite_state IM)
  (<span class="nv">s</span> : composite_state sub_IM)
  <span class="nv">i</span>
  (<span class="nv">Hni</span> : ~sub_index_prop i)
  : lift_sub_state_to s0 s i = s0 i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to s0 s i = s0 i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk19"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to s0 s i = s0 i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
| in_right =&gt; s0 i
<span class="kr">end</span> = s0 i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b">case_decide; [<span class="bp">contradiction</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni, H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s0 i = s0 i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c"><span class="kn">Lemma</span> <span class="nf">composite_state_sub_projection_lift_to</span>
  (<span class="nv">s0</span> : composite_state IM)
  (<span class="nv">s</span> : composite_state sub_IM)
  : composite_state_sub_projection (lift_sub_state_to s0 s) = s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (lift_sub_state_to s0 s) = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (lift_sub_state_to s0 s) = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e">extensionality sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (lift_sub_state_to s0 s) sub_i = s sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (lift_sub_state_to s0 s) sub_i = s sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (lift_sub_state_to s0 s)
  (dec_exist sub_index_prop i Hi) =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk21"><span class="nb">unfold</span> composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to s0 s
  (` (dec_exist sub_index_prop i Hi)) =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to s0 s i =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := Hi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist sub_index_prop i Hi) =
s (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk24"><span class="kn">Lemma</span> <span class="nf">lift_sub_state_to_neq_state_update</span>
  (<span class="nv">s0</span> : composite_state IM)
  (<span class="nv">s</span> : composite_state sub_IM)
  <span class="nv">i</span>
  (<span class="nv">Hni</span> : ~sub_index_prop i)
  <span class="nv">si&#39;</span>
  : state_update IM (lift_sub_state_to s0 s) i si&#39; =
    lift_sub_state_to (state_update IM s0 i si&#39;) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state_to s0 s) i si&#39; =
lift_sub_state_to (state_update IM s0 i si&#39;) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state_to s0 s) i si&#39; =
lift_sub_state_to (state_update IM s0 i si&#39;) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s =
state_update IM (lift_sub_state_to s0 s) i si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk27"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  lift_sub_state_to (state_update IM s0 i si&#39;) s x =
  state_update IM (lift_sub_state_to s0 s) i si&#39; x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28"><span class="nb">intro</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s j =
state_update IM (lift_sub_state_to s0 s) i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29"><span class="nb">destruct</span> (decide (j = i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s j =
state_update IM (lift_sub_state_to s0 s) i si&#39; j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2a"><hr></label><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s j =
state_update IM (lift_sub_state_to s0 s) i si&#39; j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s j =
state_update IM (lift_sub_state_to s0 s) i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s i =
state_update IM (lift_sub_state_to s0 s) i si&#39; i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s i = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
| in_right =&gt; state_update IM s0 i si&#39; i
<span class="kr">end</span> = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f">case_decide; [<span class="bp">contradiction</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM s0 i si&#39; i = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> state_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk30">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s j =
state_update IM (lift_sub_state_to s0 s) i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to (state_update IM s0 i si&#39;) s j =
lift_sub_state_to s0 s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop j e)
| in_right =&gt; state_update IM s0 i si&#39; j
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop j e)
| in_right =&gt; s0 j
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33">case_decide; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM s0 i si&#39; j = s0 j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk34"><span class="nb">apply</span> state_update_neq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>vstate (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j ‚â† i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_induced_sub_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">X</span> := composite_vlsm IM constraint)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">composite_label_sub_projection_option</span>
  (<span class="nv">l</span> : composite_label IM)
  : option (composite_label sub_IM) :=
  <span class="kr">match</span> decide (projT1 l ‚àà sub_index_list) <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt; Some (composite_label_sub_projection l i_in)
  | _ =&gt; None
  <span class="kr">end</span>.</span></span></pre><div class="doc">
By restricting the components of a composition to a subset we obtain a
<span class="inlinecode"><span class="id" title="var">projection_induced_vlsm</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">induced_sub_projection</span> : VLSM message :=
  projection_induced_vlsm X (composite_type sub_IM)
    composite_label_sub_projection_option
    composite_state_sub_projection
    lift_sub_label lift_sub_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk35"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_transition_consistency_None</span>
  : weak_projection_transition_consistency_None X (composite_type sub_IM)
      composite_label_sub_projection_option composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37"><span class="nb">intros</span> lX HlX sX om s&#39;X om&#39; HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (sX, om) (s&#39;X, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection s&#39;X =
composite_state_sub_projection sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38">extensionality sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (sX, om) (s&#39;X, om&#39;)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection s&#39;X sub_i =
composite_state_sub_projection sX sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (sX, om) (s&#39;X, om&#39;)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection s&#39;X sub_i =
composite_state_sub_projection sX sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a"><span class="nb">subst</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (sX, om) (s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection s&#39;X
  (dec_exist sub_index_prop i Hi) =
composite_state_sub_projection sX
  (dec_exist sub_index_prop i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b"><span class="nb">unfold</span> composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (sX, om) (s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39;X (` (dec_exist sub_index_prop i Hi)) =
sX (` (dec_exist sub_index_prop i Hi))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (sX, om) (s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39;X i = sX i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d"><span class="nb">destruct</span> lX <span class="kr">as</span> [x v].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X 
  (existT x v) (sX, om) 
  (s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39;X i = sX i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e"><span class="nb">apply</span> proj2 <span class="kr">in</span> HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition (existT x v) (sX, om) = (s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39;X i = sX i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f"><span class="nb">cbn</span> <span class="kr">in</span> HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM x) v (sX x, om) <span class="kr">in</span>
 (state_update IM sX x si&#39;, om&#39;)) = 
(s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39;X i = sX i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>(state_update IM sX x si&#39;, _om&#39;) = (s&#39;X, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39;X i = sX i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41"><span class="nb">inversion_clear</span> HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX x si&#39; i = sX i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42"><span class="nb">rewrite</span> state_update_neq; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚â† x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43"><span class="nb">intros</span> -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT x v) = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk44"><span class="nb">unfold</span> composite_label_sub_projection_option <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  decide (projT1 (existT x v) ‚àà sub_index_list)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT x v) i_in)
| in_right =&gt; None
<span class="kr">end</span> = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45"><span class="nb">simpl</span> <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>vlabel (IM x)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (x ‚àà sub_index_list) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT x v) i_in)
| in_right =&gt; None
<span class="kr">end</span> = None</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">case_decide; [<span class="bp">discriminate</span>|<span class="bp">contradiction</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46"><span class="kn">Lemma</span> <span class="nf">composite_label_sub_projection_option_lift</span>
  : induced_projection_label_lift_prop (free_composite_vlsm IM) (composite_type sub_IM)
      composite_label_sub_projection_option lift_sub_label.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_label_sub_projection_option lift_sub_label</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_label_sub_projection_option lift_sub_label</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48"><span class="nb">intros</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_label_sub_projection_option
  (lift_sub_label (existT sub_i li)) =
Some (existT sub_i li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_label_sub_projection_option
  (lift_sub_label (existT sub_i li)) =
Some (existT sub_i li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_label_sub_projection_option
  (lift_sub_label
     (existT (dec_exist sub_index_prop i Hi) li)) =
Some (existT (dec_exist sub_index_prop i Hi) li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b"><span class="nb">unfold</span> lift_sub_label, composite_label_sub_projection_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  decide
    (projT1
       (existT
          (`
           (projT1
              (existT (dec_exist sub_index_prop i Hi)
                 li)))
          (projT2
             (existT (dec_exist sub_index_prop i Hi)
                li))) ‚àà sub_index_list)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT
            (`
             (projT1
                (existT
                   (dec_exist sub_index_prop i Hi) li)))
            (projT2
               (existT (dec_exist sub_index_prop i Hi)
                  li))) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some (existT (dec_exist sub_index_prop i Hi) li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (i ‚àà sub_index_list) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection (existT i li)
         i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some (existT (dec_exist sub_index_prop i Hi) li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (composite_label_sub_projection (existT i li) H) =
Some (existT (dec_exist sub_index_prop i Hi) li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4e"><span class="nb">unfold</span> composite_label_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (existT
     (dec_exist sub_index_prop (projT1 (existT i li))
        H) (projT2 (existT i li))) =
Some (existT (dec_exist sub_index_prop i Hi) li)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4f"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existT
  (dec_exist sub_index_prop (projT1 (existT i li)) H)
  (projT2 (existT i li)) =
existT (dec_exist sub_index_prop i Hi) li</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk50"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existT (dec_exist sub_index_prop i H) li =
existT (dec_exist sub_index_prop i Hi) li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk51"><span class="nb">apply</span>
    (@dec_sig_sigT_eq _ _ sub_index_prop_dec (<span class="kr">fun</span> <span class="nv">i</span> =&gt; vlabel (IM i))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">li = li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk52"><span class="kn">Lemma</span> <span class="nf">composite_state_sub_projection_lift</span>
  : induced_projection_state_lift_prop (free_composite_vlsm IM) (composite_type sub_IM)
      composite_state_sub_projection lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_state_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_state_sub_projection lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_state_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_state_sub_projection lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk54"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection (lift_sub_state sY) =
sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_state_sub_projection_lift_to.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk55"><span class="kn">Lemma</span> <span class="nf">composite_trace_sub_projection_lift</span>
  (<span class="nv">tr</span> : list (composite_transition_item sub_IM))
  : @pre_VLSM_projection_trace_project _ (composite_type IM) _
    composite_label_sub_projection_option composite_state_sub_projection
    (pre_VLSM_full_projection_finite_trace_project _ _ lift_sub_label lift_sub_state tr)
    = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item sub_IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (composite_type IM)
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection
  (pre_VLSM_full_projection_finite_trace_project
     (composite_type sub_IM) (composite_type IM)
     lift_sub_label lift_sub_state tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk56"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item sub_IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (composite_type IM)
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection
  (pre_VLSM_full_projection_finite_trace_project
     (composite_type sub_IM) (composite_type IM)
     lift_sub_label lift_sub_state tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk57"><span class="nb">apply</span> (induced_projection_trace_lift (free_composite_vlsm IM)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item sub_IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_label_sub_projection_option lift_sub_label</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item sub_IM)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk58"><hr></label><div class="goal-conclusion">induced_projection_state_lift_prop
  (free_composite_vlsm IM) 
  (composite_type sub_IM)
  composite_state_sub_projection lift_sub_state</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item sub_IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_label_sub_projection_option lift_sub_label</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_label_sub_projection_option_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item sub_IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_state_lift_prop
  (free_composite_vlsm IM) (composite_type sub_IM)
  composite_state_sub_projection lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_state_sub_projection_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5b"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_transition_consistency_Some</span>
  : induced_projection_transition_consistency_Some X (composite_type sub_IM)
      composite_label_sub_projection_option composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5d"><span class="nb">intros</span> lX1 lX2 lY HlX1_pr HlX2_pr sX1 sX2 HsXeq_pr iom sX1&#39; oom1 Ht1 sX2&#39; oom2 Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>lX1, lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX1_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX1 =
Some lY</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some lY</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X lX1 (sX1, iom) = (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5e"><span class="nb">destruct</span> lX1 <span class="kr">as</span> (i, lXi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX1_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT i lXi) = Some lY</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some lY</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk5f"><span class="nb">unfold</span> composite_label_sub_projection_option <span class="kr">in</span> HlX1_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX1_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  decide
    (projT1 (existT i lXi) ‚àà sub_index_list)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT i lXi) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some lY</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some lY</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk60"><span class="nb">simpl</span> <span class="kr">in</span> HlX1_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX1_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (i ‚àà sub_index_list) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT i lXi) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some lY</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some lY</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk61">case_decide <span class="kr">as</span> Hi; [|<span class="bp">discriminate</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX1_pr</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection
     (existT i lXi) Hi) = 
Some lY</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some lY</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk62"><span class="nb">apply</span> Some_inj <span class="kr">in</span> HlX1_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX1_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection
  (existT i lXi) Hi = lY</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some lY</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk63"><span class="nb">subst</span> lY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lX2</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX2 =
Some
  (composite_label_sub_projection
     (existT i lXi) Hi)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk64"><span class="nb">destruct</span> lX2 <span class="kr">as</span> (_i, _lXi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT _i _lXi) =
Some
  (composite_label_sub_projection
     (existT i lXi) Hi)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk65"><span class="nb">unfold</span> composite_label_sub_projection_option <span class="kr">in</span> HlX2_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  decide
    (projT1 (existT _i _lXi)
     ‚àà sub_index_list)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT _i _lXi) i_in)
| in_right =&gt; None
<span class="kr">end</span> =
Some
  (composite_label_sub_projection
     (existT i lXi) Hi)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk66"><span class="nb">simpl</span> <span class="kr">in</span> HlX2_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (_i ‚àà sub_index_list) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT _i _lXi) i_in)
| in_right =&gt; None
<span class="kr">end</span> =
Some
  (composite_label_sub_projection
     (existT i lXi) Hi)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk67">case_decide <span class="kr">as</span> H_i; [|<span class="bp">discriminate</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>H_i</var><span class="hyp-type"><b>: </b><span>_i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection
     (existT _i _lXi) H_i) =
Some
  (composite_label_sub_projection
     (existT i lXi) Hi)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk68"><span class="nb">apply</span> Some_inj <span class="kr">in</span> HlX2_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>H_i</var><span class="hyp-type"><b>: </b><span>_i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection
  (existT _i _lXi) H_i =
composite_label_sub_projection
  (existT i lXi) Hi</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk69"><span class="nb">unfold</span> composite_label_sub_projection <span class="kr">in</span> HlX2_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>H_i</var><span class="hyp-type"><b>: </b><span>_i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>existT
  (dec_exist sub_index_prop
     (projT1 (existT _i _lXi)) H_i)
  (projT2 (existT _i _lXi)) =
existT
  (dec_exist sub_index_prop
     (projT1 (existT i lXi)) Hi)
  (projT2 (existT i lXi))</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6a"><span class="nb">simpl</span> <span class="kr">in</span> HlX2_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>H_i</var><span class="hyp-type"><b>: </b><span>_i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>existT (dec_exist sub_index_prop _i H_i)
  _lXi =
existT (dec_exist sub_index_prop i Hi) lXi</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6b"><span class="nb">inversion</span> HlX2_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM _i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>H_i</var><span class="hyp-type"><b>: </b><span>_i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>existT (dec_exist sub_index_prop _i H_i)
  _lXi =
existT (dec_exist sub_index_prop i Hi) lXi</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT _i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>_i = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6c"><span class="nb">subst</span> _i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi, _lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX2_pr</var><span class="hyp-type"><b>: </b><span>existT (dec_exist sub_index_prop i H_i) _lXi =
existT (dec_exist sub_index_prop i Hi) lXi</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i _lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6d"><span class="nb">apply</span>
    (@dec_sig_sigT_eq_rev _ _ _ sub_index_prop_dec (<span class="kr">fun</span> <span class="nv">i</span> =&gt; vlabel (IM i)))
    <span class="kr">in</span> HlX2_pr <span class="kr">as</span> -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6e"><span class="nb">apply</span> f_equal_dep <span class="kr">with</span> (x := dexist i Hi) <span class="kr">in</span> HsXeq_pr <span class="kr">as</span> HsXeq_pri.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1
  (dexist i Hi) =
composite_state_sub_projection sX2
  (dexist i Hi)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk6f"><span class="nb">cbv</span> <span class="kr">in</span> HsXeq_pri.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX1, iom) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i lXi) (sX2, iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk70"><span class="nb">cbn</span> <span class="kr">in</span> Ht1, Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) lXi (sX1 i, iom) <span class="kr">in</span>
 (state_update IM sX1 i si&#39;, om&#39;)) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) lXi (sX2 i, iom) <span class="kr">in</span>
 (state_update IM sX2 i si&#39;, om&#39;)) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk71"><span class="nb">rewrite</span> &lt;- HsXeq_pri <span class="kr">in</span> Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) lXi (sX1 i, iom) <span class="kr">in</span>
 (state_update IM sX1 i si&#39;, om&#39;)) =
(sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) lXi (sX1 i, iom) <span class="kr">in</span>
 (state_update IM sX2 i si&#39;, om&#39;)) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk72"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>(state_update IM sX1 i si&#39;, om&#39;) = (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(state_update IM sX2 i si&#39;, om&#39;) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection sX1&#39; =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk73"><span class="nb">inversion</span> Ht1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>(state_update IM sX1 i si&#39;, om&#39;) = (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(state_update IM sX2 i si&#39;, om&#39;) = (sX2&#39;, oom2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_update IM sX1 i si&#39; = sX1&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>om&#39; = oom1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk74"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>(state_update IM sX1 i si&#39;, oom1) =
(state_update IM sX1 i si&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(state_update IM sX2 i si&#39;, oom1) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk75"><span class="nb">clear</span> Ht1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si', sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(state_update IM sX2 i si&#39;, oom1) = (sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk76"><span class="nb">inversion</span> Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si', sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(state_update IM sX2 i si&#39;, oom1) = (sX2&#39;, oom2)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_update IM sX2 i si&#39; = sX2&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>oom1 = oom2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;) ‚àß oom2 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk77"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>(state_update IM sX2 i si&#39;, oom2) =
(state_update IM sX2 i si&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;) ‚àß oom2 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk78"><span class="nb">clear</span> Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;) ‚àß oom2 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk79"><span class="nb">split</span>; [|<span class="bp">reflexivity</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7a">extensionality sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 =
composite_state_sub_projection sX2</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) sub_j =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7b"><span class="nb">apply</span> f_equal_dep <span class="kr">with</span> (x := sub_j) <span class="kr">in</span> HsXeq_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 sub_j =
composite_state_sub_projection sX2 sub_j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) sub_j =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7c">destruct_dec_sig sub_j j Hj Heqsub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1 sub_j =
composite_state_sub_projection sX2 sub_j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>Heqsub_j</var><span class="hyp-type"><b>: </b><span>sub_j = dec_exist sub_index_prop j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;) sub_j =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7d"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX1
  (dec_exist sub_index_prop j Hj) =
composite_state_sub_projection sX2
  (dec_exist sub_index_prop j Hj)</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection
  (state_update IM sX1 i si&#39;)
  (dec_exist sub_index_prop j Hj) =
composite_state_sub_projection
  (state_update IM sX2 i si&#39;)
  (dec_exist sub_index_prop j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7e"><span class="nb">unfold</span> composite_state_sub_projection <span class="kr">in</span> HsXeq_pr |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 (` (dec_exist sub_index_prop j Hj)) =
sX2 (` (dec_exist sub_index_prop j Hj))</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX1 i si&#39;
  (` (dec_exist sub_index_prop j Hj)) =
state_update IM sX2 i si&#39;
  (` (dec_exist sub_index_prop j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk7f"><span class="nb">simpl</span> <span class="kr">in</span> HsXeq_pr |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX1 i si&#39; j =
state_update IM sX2 i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk80"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX1 i si&#39; j =
state_update IM sX2 i si&#39; j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk81" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk81"><hr></label><div class="goal-conclusion">state_update IM sX1 i si&#39; j =
state_update IM sX2 i si&#39; j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk82">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX1 i si&#39; j =
state_update IM sX2 i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk83"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i, Hi</var><span class="hyp-type"><b>: </b><span>j ‚àà sub_index_list</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr, HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX1 j si&#39; j =
state_update IM sX2 j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk84"><span class="nb">rewrite</span> !state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i, Hi</var><span class="hyp-type"><b>: </b><span>j ‚àà sub_index_list</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr, HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk85">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM sX1 i si&#39; j =
state_update IM sX2 i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk86"><span class="nb">rewrite</span> !state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hi, H_i</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>HsXeq_pr</var><span class="hyp-type"><b>: </b><span>sX1 j = sX2 j</span></span></span><br><span><var>HsXeq_pri</var><span class="hyp-type"><b>: </b><span>sX1 i = sX2 i</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sX1 j = sX2 j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk87"><span class="kn">Lemma</span> <span class="nf">weak_induced_sub_projection_transition_consistency_Some</span>
  : weak_projection_transition_consistency_Some X (composite_type sub_IM)
      composite_label_sub_projection_option composite_state_sub_projection
      lift_sub_label lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk88"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk89"><span class="nb">apply</span> basic_weak_projection_transition_consistency_Some.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop X
  (composite_type sub_IM)
  composite_label_sub_projection_option lift_sub_label</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk8a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk8a"><hr></label><div class="goal-conclusion">induced_projection_state_lift_prop X
  (composite_type sub_IM)
  composite_state_sub_projection lift_sub_state</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk8b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk8b"><hr></label><div class="goal-conclusion">induced_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk8c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop X
  (composite_type sub_IM)
  composite_label_sub_projection_option lift_sub_label</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_label_sub_projection_option_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk8d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_state_lift_prop X
  (composite_type sub_IM)
  composite_state_sub_projection lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_state_sub_projection_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk8e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> induced_sub_projection_transition_consistency_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The <span class="inlinecode"><span class="id" title="var">induced_sub_projection</span></span> is actually a <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span> of the
original composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk8f"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_is_projection</span>
  : VLSM_projection X induced_sub_projection
    composite_label_sub_projection_option
    composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X induced_sub_projection
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk90"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X induced_sub_projection
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk91"><span class="nb">apply</span> projection_induced_vlsm_is_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk92" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk92"><hr></label><div class="goal-conclusion">weak_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk93">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> induced_sub_projection_transition_consistency_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk94">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_Some X
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> weak_induced_sub_projection_transition_consistency_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk95"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_valid_projection</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span> : vvalid induced_sub_projection l (s, om))
  : <span class="kr">exists</span> <span class="nv">i</span>, i ‚àà sub_index_list /\
    <span class="kr">exists</span> <span class="nv">l</span> <span class="nv">s</span>, input_valid (pre_loaded_with_all_messages_vlsm (IM i)) l (s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid induced_sub_projection l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid induced_sub_projection l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk97"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid induced_sub_projection 
  (existT sub_i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk98"><span class="nb">destruct</span> Hv <span class="kr">as</span> [lX [sX [HlX [Heqs [HsX [Hom Hv]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option lX =
Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk99"><span class="nb">destruct</span> lX <span class="kr">as</span> [i _li].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option
  (existT i _li) = Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9a"><span class="nb">unfold</span> composite_label_sub_projection_option <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  decide
    (projT1 (existT i _li) ‚àà sub_index_list)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT i _li) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9b"><span class="nb">simpl</span> <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (i ‚àà sub_index_list) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection
         (existT i _li) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9c">case_decide; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection 
     (existT i _li) H) = 
Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9d"><span class="nb">unfold</span> composite_label_sub_projection <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>Some
  (existT
     (dec_exist sub_index_prop
        (projT1 (existT i _li)) H)
     (projT2 (existT i _li))) =
Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9e"><span class="nb">simpl</span> <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>Some (existT (dec_exist sub_index_prop i H) _li) =
Some (existT sub_i li)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk9f"><span class="nb">apply</span> Some_inj <span class="kr">in</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>existT (dec_exist sub_index_prop i H) _li =
existT sub_i li</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka0"><span class="nb">inversion</span> HlX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>existT (dec_exist sub_index_prop i H) _li =
existT sub_i li</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop i H = sub_i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka1"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>existT (dec_exist sub_index_prop i H) _li =
existT (dec_exist sub_index_prop i H) li</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka2">simpl_existT.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>_li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i _li) (sX, om)</span></span></span><br><span><var>HlX0</var><span class="hyp-type"><b>: </b><span>_li = li</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka3"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : index,
  i ‚àà sub_index_list
  ‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
       input_valid
         (pre_loaded_with_all_messages_vlsm (IM i)) l
         (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka4"><span class="kr">exists</span> <span class="nv">i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà sub_index_list
‚àß (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
     input_valid
       (pre_loaded_with_all_messages_vlsm (IM i)) l
       (s, om))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka5"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) l
    (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka6"><span class="nb">apply</span> proj1 <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) l
    (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka7"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state),
  input_valid
    (pre_loaded_with_all_messages_vlsm (IM i)) l
    (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka8"><span class="kr">exists</span> <span class="nv">li</span>, (sX i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chka9"><span class="kp">repeat</span> <span class="nb">split</span>; [|<span class="nb">apply</span> any_message_is_valid_in_preloaded|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm (IM i)) (sX i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkaa"><span class="nb">apply</span> (VLSM_projection_valid_state (preloaded_component_projection IM i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkab"><span class="nb">apply</span> (VLSM_incl_valid_state (vlsm_incl_pre_loaded_with_all_messages_vlsm (free_composite_vlsm IM))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (mk_vlsm (machine (free_composite_vlsm IM))) sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkac"><span class="nb">apply</span> (VLSM_incl_valid_state (constraint_free_incl IM constraint)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà sub_index_list</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (mk_vlsm (machine (composite_vlsm IM constraint)))
  sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_induced_sub_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">induced_sub_projection_subsumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">constraint1</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">constraint2</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkad"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_constraint_subsumption_incl</span>
  (<span class="nv">Hsubsumption</span> : input_valid_constraint_subsumption IM constraint1 constraint2)
  : VLSM_incl (induced_sub_projection constraint1) (induced_sub_projection constraint2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (induced_sub_projection constraint1)
  (induced_sub_projection constraint2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkae"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (induced_sub_projection constraint1)
  (induced_sub_projection constraint2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkaf"><span class="nb">apply</span> projection_induced_vlsm_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_Some
  (mk_vlsm (composite_vlsm_machine IM constraint1))
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkb0"><hr></label><div class="goal-conclusion">weak_projection_transition_consistency_Some
  (mk_vlsm (composite_vlsm_machine IM constraint2))
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkb1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkb1"><hr></label><div class="goal-conclusion">VLSM_incl
  (mk_vlsm (composite_vlsm_machine IM constraint1))
  (mk_vlsm (composite_vlsm_machine IM constraint2))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_Some
  (mk_vlsm (composite_vlsm_machine IM constraint1))
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> weak_induced_sub_projection_transition_consistency_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_Some
  (mk_vlsm (composite_vlsm_machine IM constraint2))
  (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection lift_sub_label
  lift_sub_state</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> weak_induced_sub_projection_transition_consistency_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm (composite_vlsm_machine IM constraint1))
  (mk_vlsm (composite_vlsm_machine IM constraint2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb5"><span class="nb">apply</span> constraint_subsumption_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint1, constraint2</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsubsumption</var><span class="hyp-type"><b>: </b><span>input_valid_constraint_subsumption IM
  constraint1 constraint2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_constraint_subsumption IM constraint1
  constraint2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">induced_sub_projection_subsumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">from_sub_projection</span> : composite_transition_item IM -&gt; <span class="kt">Prop</span> :=
  @pre_VLSM_projection_in_projection _ (composite_type IM) _ composite_label_sub_projection_option.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">finite_trace_sub_projection</span>
  : list (composite_transition_item IM) -&gt; list (composite_transition_item sub_IM) :=
  @pre_VLSM_projection_trace_project _ (composite_type IM) _ composite_label_sub_projection_option composite_state_sub_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sub_projection_with_no_equivocation_constraints</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_has_been_sent_capabilities</span>
  (<span class="nv">has_been_sent_capabilities</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, (HasBeenSentCapability (IM i)))
  : <span class="kr">forall</span> <span class="nv">i</span> : sub_index, (HasBeenSentCapability (sub_IM i))
  := <span class="kr">fun</span> <span class="nv">sub_i</span> =&gt; has_been_sent_capabilities (proj1_sig sub_i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_has_been_received_capabilities</span>
  (<span class="nv">has_been_received_capabilities</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, (HasBeenReceivedCapability (IM i)))
  : <span class="kr">forall</span> <span class="nv">i</span> : sub_index, (HasBeenReceivedCapability (sub_IM i))
  := <span class="kr">fun</span> <span class="nv">sub_i</span> =&gt; has_been_received_capabilities (proj1_sig sub_i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span>  <span class="nf">IndEqDec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">has_been_sent_capabilities</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, (HasBeenSentCapability (IM i)))
  {<span class="nv">index_listing</span> : list index}
  (<span class="nv">finite_index</span> : Listing index_listing)
  (<span class="nv">Free</span> := free_composite_vlsm IM)
  (<span class="nv">Sub_Free</span> := free_composite_vlsm sub_IM)
  (<span class="nv">X</span> := composite_vlsm IM constraint)
  (<span class="nv">Pre</span> := pre_loaded_with_all_messages_vlsm (free_composite_vlsm IM))
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">select_sub_indices</span>
  (<span class="nv">l</span> : list index)
  : list sub_index
  :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | [] =&gt; []
  | h :: t =&gt;
    <span class="kr">let</span> <span class="nv">t&#39;</span> := select_sub_indices t <span class="kr">in</span>
    <span class="kr">match</span> decide (sub_index_prop h) <span class="kr">with</span>
    | <span class="nb">left</span> e =&gt; dec_exist _ h e :: t&#39;
    | _ =&gt; t&#39;
    <span class="kr">end</span>
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_index_listing</span> : list sub_index := select_sub_indices index_listing.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb6"><span class="kn">Lemma</span> <span class="nf">in_select_sub_indices</span>
  (<span class="nv">a</span>: index)
  (<span class="nv">s</span>: sub_index_prop a)
  (<span class="nv">l</span>: list index)
  : (dec_exist sub_index_prop a s) ‚àà (select_sub_indices l) &lt;-&gt; a ‚àà l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s ‚àà select_sub_indices l
‚Üî a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s ‚àà select_sub_indices l
‚Üî a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb8"><span class="nb">induction</span> l; [<span class="nb">simpl</span>; <span class="nb">intuition</span>; <span class="nb">inversion</span> H|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s
‚àà select_sub_indices (a0 :: l) ‚Üî a ‚àà a0 :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkb9"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s
‚àà <span class="kr">match</span> decide (sub_index_prop a0) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt;
      dec_exist sub_index_prop a0 e
      :: select_sub_indices l
  | in_right =&gt; select_sub_indices l
  <span class="kr">end</span> ‚Üî a ‚àà a0 :: l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkba"><span class="nb">destruct</span> (decide (sub_index_prop a0)); [|<span class="nb">rewrite</span> IHl].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s
‚àà dec_exist sub_index_prop a0 s0
  :: select_sub_indices l ‚Üî a ‚àà a0 :: l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkbb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop a0</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkbb"><hr></label><div class="goal-conclusion">a ‚àà l ‚Üî a ‚àà a0 :: l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkbc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s
‚àà dec_exist sub_index_prop a0 s0
  :: select_sub_indices l ‚Üî a ‚àà a0 :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkbd"><span class="nb">rewrite</span> <span class="mi">2</span>!elem_of_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0
‚à® dec_exist sub_index_prop a s ‚àà select_sub_indices l
‚Üî a = a0 ‚à® a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkbe"><span class="nb">split</span>; <span class="nb">intros</span> [Heq | H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 ‚à® a ‚àà l</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkbf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkbf"><hr></label><div class="goal-conclusion">a = a0 ‚à® a ‚àà l</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkc0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkc0"><hr></label><div class="goal-conclusion">dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0
‚à® dec_exist sub_index_prop a s ‚àà select_sub_indices l</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkc1"><hr></label><div class="goal-conclusion">dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0
‚à® dec_exist sub_index_prop a s ‚àà select_sub_indices l</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 ‚à® a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>; <span class="nb">apply</span> dec_sig_eq_iff <span class="kr">in</span> Heq; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc3">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 ‚à® a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">right</span>; <span class="nb">apply</span> IHl; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0
‚à® dec_exist sub_index_prop a s ‚àà select_sub_indices l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">left</span>; <span class="nb">apply</span> dec_sig_eq_iff; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc5">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s =
dec_exist sub_index_prop a0 s0
‚à® dec_exist sub_index_prop a s ‚àà select_sub_indices l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">right</span>; <span class="nb">apply</span> IHl; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l ‚Üî a ‚àà a0 :: l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc7"><span class="nb">rewrite</span> !elem_of_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l ‚Üî a = a0 ‚à® a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc8"><span class="nb">split</span>; [<span class="nb">intuition</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a = a0 ‚à® a ‚àà l ‚Üí a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkc9"><span class="nb">intros</span> [Heq | H]; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l ‚Üî 
a ‚àà l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop a0</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>a = a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkca"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a0</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a0</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a0 s
‚àà select_sub_indices l ‚Üî 
a0 ‚àà l</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop a0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a0 ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkcb"><span class="kn">Lemma</span> <span class="nf">select_sub_indices_nodup</span> <span class="nv">l</span> (<span class="nv">Hl</span> : NoDup l) : NoDup (select_sub_indices l).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkcc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkcd"><span class="nb">induction</span> l; [<span class="nb">constructor</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup l ‚Üí NoDup (select_sub_indices l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices (a :: l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkce"><span class="nb">inversion</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup l ‚Üí NoDup (select_sub_indices l)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x = a</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l0 = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices (a :: l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkcf"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup l ‚Üí NoDup (select_sub_indices l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices (a :: l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd0"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup l ‚Üí NoDup (select_sub_indices l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  <span class="kr">match</span> decide (sub_index_prop a) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt;
      dec_exist sub_index_prop a e
      :: select_sub_indices l
  | in_right =&gt; select_sub_indices l
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd1">spec IHl H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup (select_sub_indices l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  <span class="kr">match</span> decide (sub_index_prop a) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt;
      dec_exist sub_index_prop a e
      :: select_sub_indices l
  | in_right =&gt; select_sub_indices l
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd2"><span class="nb">destruct</span> (decide (sub_index_prop a)); [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup (select_sub_indices l)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup
  (dec_exist sub_index_prop a s
   :: select_sub_indices l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd3"><span class="nb">constructor</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup (select_sub_indices l)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop a s ‚àâ select_sub_indices l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd4"><span class="nb">intro</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>a ‚àâ l</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup (select_sub_indices l)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd5"><span class="bp">contradict</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup (select_sub_indices l)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop a s
‚àà select_sub_indices l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd6"><span class="nb">apply</span> in_select_sub_indices <span class="kr">in</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>NoDup (a :: l)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>NoDup l</span></span></span><br><span><var>IHl</var><span class="hyp-type"><b>: </b><span>NoDup (select_sub_indices l)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>sub_index_prop a</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>a ‚àà l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà l</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd7"><span class="kn">Lemma</span> <span class="nf">finite_sub_index</span> : Listing sub_index_listing.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing sub_index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing sub_index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkd9"><span class="nb">unfold</span> sub_index_listing.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkda"><span class="nb">clear</span> -finite_index.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkdb"><span class="nb">destruct</span> finite_index <span class="kr">as</span> [Hnodup Hfinite].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkdc"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.NoDup (select_sub_indices index_listing)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkdd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkdd"><hr></label><div class="goal-conclusion">Full (select_sub_indices index_listing)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkde">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.NoDup (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkdf"><span class="nb">apply</span> NoDup_ListNoDup <span class="kr">in</span> Hnodup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.NoDup (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke0"><span class="nb">apply</span> NoDup_ListNoDup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke1"><span class="nb">revert</span> Hnodup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup index_listing
‚Üí NoDup (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> select_sub_indices_nodup.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Full (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke3"><span class="nb">intros</span> subi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br><span><var>subi</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In subi (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke4">destruct_dec_sig subi i Hi Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br><span><var>subi</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>subi = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In subi (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke5"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In (dec_exist sub_index_prop i Hi)
  (select_sub_indices index_listing)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke6"><span class="nb">apply</span> elem_of_list_In.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop i Hi
‚àà select_sub_indices index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke7"><span class="nb">apply</span> in_select_sub_indices.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke8"><span class="nb">apply</span> elem_of_list_In.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>sub_index_list, index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Hnodup</var><span class="hyp-type"><b>: </b><span>List.NoDup index_listing</span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>Full index_listing</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In i index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hfinite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chke9"><span class="kn">Global Instance</span> <span class="nf">stdpp_finite_sub_index</span>
  {<span class="nv">Hfinite</span> : finite.Finite index}
  : finite.Finite sub_index.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite.Finite sub_index</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkea"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite.Finite sub_index</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkeb"><span class="kr">exists</span> (<span class="nv">select_sub_indices</span> (enum index)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices (enum index))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkec" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkec"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : sub_index, x ‚àà select_sub_indices (enum index)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chked">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (select_sub_indices (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkee"><span class="nb">apply</span> select_sub_indices_nodup.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (enum index)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hfinite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkef">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : sub_index, x ‚àà select_sub_indices (enum index)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf0"><span class="nb">intro</span> sub_x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_x</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_x ‚àà select_sub_indices (enum index)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf1">destruct_dec_sig sub_x x Hx Heqsub_x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_x</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>sub_index_prop x</span></span></span><br><span><var>Heqsub_x</var><span class="hyp-type"><b>: </b><span>sub_x = dec_exist sub_index_prop x Hx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_x ‚àà select_sub_indices (enum index)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf2"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>sub_index_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop x Hx
‚àà select_sub_indices (enum index)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf3"><span class="nb">apply</span> in_select_sub_indices.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hfinite</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>sub_index_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà enum index</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hfinite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Instance</span> <span class="nf">Sub_Free_HasBeenSentCapability</span>
  : HasBeenSentCapability Sub_Free
  :=
  free_composite_HasBeenSentCapability sub_IM finite_sub_index (sub_has_been_sent_capabilities has_been_sent_capabilities).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">finite_trace_sub_projection_app</span>
  (<span class="nv">tr1</span> <span class="nv">tr2</span> : list (composite_transition_item IM))
  : finite_trace_sub_projection (tr1 ++ tr2) =
    finite_trace_sub_projection tr1 ++ finite_trace_sub_projection tr2
  :=
  @pre_VLSM_projection_trace_project_app _ (composite_type IM) _ composite_label_sub_projection_option composite_state_sub_projection tr1 tr2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf4"><span class="kn">Lemma</span> <span class="nf">X_incl_Pre</span> : VLSM_incl X Pre.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Pre</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Pre</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf6"><span class="nb">apply</span> VLSM_incl_trans <span class="kr">with</span> (machine (free_composite_vlsm IM)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm (composite_vlsm_machine IM constraint))
  (mk_vlsm (machine (free_composite_vlsm IM)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chkf7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chkf7"><hr></label><div class="goal-conclusion">VLSM_incl (mk_vlsm (machine (free_composite_vlsm IM)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (free_composite_vlsm IM)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm (composite_vlsm_machine IM constraint))
  (mk_vlsm (machine (free_composite_vlsm IM)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (constraint_free_incl IM constraint).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkf9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (mk_vlsm (machine (free_composite_vlsm IM)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (free_composite_vlsm IM)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> vlsm_incl_pre_loaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkfa"><span class="kn">Lemma</span> <span class="nf">finite_trace_sub_projection_last_state</span>
  (<span class="nv">start</span> : composite_state IM)
  (<span class="nv">transitions</span> : list (composite_transition_item IM))
  (<span class="nv">Htr</span> : finite_valid_trace_from X start transitions)
  (<span class="nv">lstx</span> := finite_trace_last start transitions)
  (<span class="nv">lstj</span> := finite_trace_last
    (composite_state_sub_projection start)
    (finite_trace_sub_projection transitions))
  : lstj = composite_state_sub_projection lstx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>start</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>transitions</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X start transitions</span></span></span><br><span><var>lstx</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last start transitions</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>lstj</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last
  (composite_state_sub_projection start)
  (finite_trace_sub_projection transitions)</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lstj = composite_state_sub_projection lstx</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkfb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>start</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>transitions</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X start transitions</span></span></span><br><span><var>lstx</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last start transitions</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>lstj</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last
  (composite_state_sub_projection start)
  (finite_trace_sub_projection transitions)</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lstj = composite_state_sub_projection lstx</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkfc"><span class="nb">apply</span> (VLSM_projection_finite_trace_last (induced_sub_projection_is_projection constraint))
    <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>start</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>transitions</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection
  (finite_trace_last start transitions) =
finite_trace_last
  (composite_state_sub_projection start)
  (VLSM_projection_trace_project
     (induced_sub_projection_is_projection
        constraint) transitions)</span></span></span><br><span><var>lstx</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last start transitions</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>lstj</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last
  (composite_state_sub_projection start)
  (finite_trace_sub_projection transitions)</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lstj = composite_state_sub_projection lstx</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkfd"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>start</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>transitions</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection
  (finite_trace_last start transitions) =
finite_trace_last
  (composite_state_sub_projection start)
  (VLSM_projection_trace_project
     (induced_sub_projection_is_projection
        constraint) transitions)</span></span></span><br><span><var>lstx</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last start transitions</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>lstj</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last
  (composite_state_sub_projection start)
  (finite_trace_sub_projection transitions)</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection lstx = lstj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkfe"><span class="kn">Lemma</span> <span class="nf">transition_sub_projection</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span> : composite_transition IM l  (s, om) = (s&#39;, om&#39;))
  (<span class="nv">Hsub</span> : sub_index_prop (projT1 l))
  : composite_transition sub_IM
    (existT
      (dec_exist _ (projT1 l) Hsub)
      (projT2 l)
    )
    (composite_state_sub_projection s, om)
    = (composite_state_sub_projection s&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition IM l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition sub_IM
  (existT (dec_exist sub_index_prop (projT1 l) Hsub)
     (projT2 l))
  (composite_state_sub_projection s, om) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chkff"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition IM l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition sub_IM
  (existT (dec_exist sub_index_prop (projT1 l) Hsub)
     (projT2 l))
  (composite_state_sub_projection s, om) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk100"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition IM l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition
     (sub_IM
        (dec_exist sub_index_prop (projT1 l) Hsub))
     (projT2 l)
     (composite_state_sub_projection s
        (dec_exist sub_index_prop (projT1 l) Hsub),
     om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop (projT1 l) Hsub) si&#39;,
 om&#39;)) = (composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk101"><span class="nb">simpl</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
 <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition
     (sub_IM
        (dec_exist sub_index_prop (projT1 l) Hsub))
     (projT2 l)
     (composite_state_sub_projection s
        (dec_exist sub_index_prop (projT1 l) Hsub),
     om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop (projT1 l) Hsub) si&#39;,
 om&#39;)) = (composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk102"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition
     (sub_IM
        (dec_exist sub_index_prop
           (projT1 (existT i li)) Hsub))
     (projT2 (existT i li))
     (composite_state_sub_projection s
        (dec_exist sub_index_prop
           (projT1 (existT i li)) Hsub), om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop (projT1 (existT i li))
       Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk103"><span class="nb">unfold</span> vtransition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition (projT2 (existT i li))
     (composite_state_sub_projection s
        (dec_exist sub_index_prop
           (projT1 (existT i li)) Hsub), om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop (projT1 (existT i li))
       Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk104"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (composite_state_sub_projection s
        (dec_exist sub_index_prop i Hsub), om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk105"><span class="nb">unfold</span> composite_state_sub_projection <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (` (dec_exist sub_index_prop i Hsub)), om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk106"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk107"><span class="nb">destruct</span> (vtransition (IM i) li (s i, om)) <span class="kr">as</span> (si&#39;, omi&#39;) <span class="nb">eqn</span>:Hti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>omi'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, omi&#39;)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, omi&#39;) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk108"><span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>omi'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, omi&#39;)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, omi&#39;) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_update IM s i si&#39; = s&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>omi&#39; = om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection
   (state_update IM s i si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk109"><span class="nb">subst</span> omi&#39; s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, om&#39;) =
(state_update IM s i si&#39;, om&#39;)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection
   (state_update IM s i si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10a"><span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection s)
    (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;)) =
(composite_state_sub_projection
   (state_update IM s i si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10b"><span class="kr">match goal with</span>
  |- (<span class="kr">let</span> (<span class="nv">_</span>, _) := <span class="nl">?t</span> <span class="kr">in</span> _) = _ =&gt;
    <span class="nb">replace</span> t <span class="kr">with</span> (si&#39;, om&#39;)
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update sub_IM
   (composite_state_sub_projection s)
   (dec_exist sub_index_prop i Hsub) si&#39;, om&#39;) =
(composite_state_sub_projection
   (state_update IM s i si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10c"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39; =
composite_state_sub_projection
  (state_update IM s i si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10d">extensionality sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39; sub_j =
composite_state_sub_projection
  (state_update IM s i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10e">destruct_dec_sig sub_j j Hj Heqj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>sub_j = dec_exist sub_index_prop j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39; sub_j =
composite_state_sub_projection
  (state_update IM s i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk10f"><span class="nb">subst</span> sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop j Hj) =
composite_state_sub_projection
  (state_update IM s i si&#39;)
  (dec_exist sub_index_prop j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk110"><span class="nb">unfold</span> composite_state_sub_projection <span class="nb">at</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop j Hj) =
state_update IM s i si&#39;
  (` (dec_exist sub_index_prop j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk111"><span class="nb">destruct</span> (decide (j = i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop j Hj) =
state_update IM s i si&#39;
  (` (dec_exist sub_index_prop j Hj))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk112" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk112"><hr></label><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop j Hj) =
state_update IM s i si&#39;
  (` (dec_exist sub_index_prop j Hj))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk113">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop j Hj) =
state_update IM s i si&#39;
  (` (dec_exist sub_index_prop j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk114"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop i Hj) =
state_update IM s i si&#39;
  (` (dec_exist sub_index_prop i Hj))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk115"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop i Hj) =
state_update IM s i si&#39; i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk116"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop i Hj) = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sub_IM_state_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk117">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update sub_IM (composite_state_sub_projection s)
  (dec_exist sub_index_prop i Hsub) si&#39;
  (dec_exist sub_index_prop j Hj) =
state_update IM s i si&#39;
  (` (dec_exist sub_index_prop j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk118"><span class="nb">rewrite</span>! state_update_neq; [<span class="bp">reflexivity</span>|<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop j Hj
‚â† dec_exist sub_index_prop i Hsub</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk119"><span class="nb">intro</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop j Hj =
dec_exist sub_index_prop i Hsub</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11a"><span class="nb">apply</span> dec_sig_eq_iff <span class="kr">in</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>vtransition (IM i) li (s i, om) = (si&#39;, om&#39;)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>` (dec_exist sub_index_prop j Hj) =
` (dec_exist sub_index_prop i Hsub)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11b"><span class="kn">Lemma</span> <span class="nf">valid_sub_projection</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span> : composite_valid IM l  (s, om))
  (<span class="nv">Hsub</span> : sub_index_prop (projT1 l))
  : composite_valid sub_IM
    (existT
      (dec_exist _ (projT1 l) Hsub)
      (projT2 l)
    )
    (composite_state_sub_projection s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, om)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM
  (existT (dec_exist sub_index_prop (projT1 l) Hsub)
     (projT2 l))
  (composite_state_sub_projection s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, om)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM
  (existT (dec_exist sub_index_prop (projT1 l) Hsub)
     (projT2 l))
  (composite_state_sub_projection s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l (s, om)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (sub_IM (dec_exist sub_index_prop (projT1 l) Hsub))
  (projT2 l)
  (composite_state_sub_projection s
     (dec_exist sub_index_prop (projT1 l) Hsub), om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11e"><span class="nb">simpl</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span> vvalid (IM i) li (s i, om)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (sub_IM (dec_exist sub_index_prop (projT1 l) Hsub))
  (projT2 l)
  (composite_state_sub_projection s
     (dec_exist sub_index_prop (projT1 l) Hsub), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk11f"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (s i, om)</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>sub_index_prop (projT1 (existT i li))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (sub_IM
     (dec_exist sub_index_prop (projT1 (existT i li))
        Hsub)) (projT2 (existT i li))
  (composite_state_sub_projection s
     (dec_exist sub_index_prop (projT1 (existT i li))
        Hsub), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">seed</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">sub_constraint</span> : composite_label sub_IM -&gt; composite_state sub_IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Xj</span> := composite_no_equivocation_vlsm_with_pre_loaded sub_IM (free_constraint sub_IM) (sub_has_been_sent_capabilities has_been_sent_capabilities) seed )
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk120"><span class="kn">Lemma</span> <span class="nf">Xj_incl_Pre_Sub_Free</span>
  : VLSM_incl Xj (pre_loaded_with_all_messages_vlsm Sub_Free).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Xj
  (pre_loaded_with_all_messages_vlsm Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk121"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Xj
  (pre_loaded_with_all_messages_vlsm Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk122"><span class="nb">subst</span> Xj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (composite_no_equivocation_vlsm_with_pre_loaded
     sub_IM (free_constraint sub_IM)
     (sub_has_been_sent_capabilities
        has_been_sent_capabilities) seed)
  (pre_loaded_with_all_messages_vlsm Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk123"><span class="nb">unfold</span> composite_no_equivocation_vlsm_with_pre_loaded.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (pre_loaded_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed)) seed)
  (pre_loaded_with_all_messages_vlsm Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk124"><span class="nb">specialize</span>
    (preloaded_constraint_subsumption_incl sub_IM
      (no_equivocations_additional_constraint_with_pre_loaded sub_IM
        (free_constraint sub_IM) (sub_has_been_sent_capabilities has_been_sent_capabilities)
        seed)
      (free_constraint sub_IM)
    ) <span class="kr">as</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>preloaded_constraint_subsumption sub_IM
  (no_equivocations_additional_constraint_with_pre_loaded
     sub_IM (free_constraint sub_IM)
     (sub_has_been_sent_capabilities
        has_been_sent_capabilities) seed)
  (free_constraint sub_IM)
‚Üí VLSM_incl
    (pre_loaded_with_all_messages_vlsm
       (composite_vlsm sub_IM
          (no_equivocations_additional_constraint_with_pre_loaded
             sub_IM (free_constraint sub_IM)
             (sub_has_been_sent_capabilities
                has_been_sent_capabilities)
             seed)))
    (pre_loaded_with_all_messages_vlsm
       (composite_vlsm sub_IM
          (free_constraint sub_IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (pre_loaded_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed)) seed)
  (pre_loaded_with_all_messages_vlsm Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk125">spec Hincl; [<span class="nb">intro</span>; <span class="nb">intros</span>; <span class="bp">exact</span> I|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl
  (pre_loaded_with_all_messages_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed)))
  (pre_loaded_with_all_messages_vlsm
     (composite_vlsm sub_IM
        (free_constraint sub_IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (pre_loaded_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed)) seed)
  (pre_loaded_with_all_messages_vlsm Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk126"><span class="kr">match goal with</span>
  |- <span class="kp">context</span> [pre_loaded_vlsm <span class="nl">?v</span> _] =&gt;
    <span class="nb">apply</span> VLSM_incl_trans <span class="kr">with</span> (machine (pre_loaded_with_all_messages_vlsm v))
  <span class="kr">end</span>; [| <span class="nb">apply</span> Hincl].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl
  (pre_loaded_with_all_messages_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed)))
  (pre_loaded_with_all_messages_vlsm
     (composite_vlsm sub_IM
        (free_constraint sub_IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2
           (projT2
              (composite_vlsm sub_IM
                 (no_equivocations_additional_constraint_with_pre_loaded
                    sub_IM (free_constraint sub_IM)
                    (sub_has_been_sent_capabilities
                       has_been_sent_capabilities)
                    seed)))) seed))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk127"><span class="nb">clear</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2
           (projT2
              (composite_vlsm sub_IM
                 (no_equivocations_additional_constraint_with_pre_loaded
                    sub_IM (free_constraint sub_IM)
                    (sub_has_been_sent_capabilities
                       has_been_sent_capabilities)
                    seed)))) seed))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk128"><span class="kr">match goal with</span>
  |- <span class="kp">context</span> [pre_loaded_with_all_messages_vlsm <span class="nl">?v</span>] =&gt;
    <span class="nb">apply</span> VLSM_incl_trans <span class="kr">with</span> (machine (pre_loaded_vlsm v (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">True</span>)))
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2
           (projT2
              (composite_vlsm sub_IM
                 (no_equivocations_additional_constraint_with_pre_loaded
                    sub_IM (free_constraint sub_IM)
                    (sub_has_been_sent_capabilities
                       has_been_sent_capabilities)
                    seed)))) seed))
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk129" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk129"><hr></label><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM 
                 (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM 
                 (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2
           (projT2
              (composite_vlsm sub_IM
                 (no_equivocations_additional_constraint_with_pre_loaded
                    sub_IM (free_constraint sub_IM)
                    (sub_has_been_sent_capabilities
                       has_been_sent_capabilities)
                    seed)))) seed))
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12b"><span class="kr">match goal with</span>
    |- <span class="kp">context</span> [pre_loaded_vlsm <span class="nl">?v</span> _] =&gt;
      <span class="nb">apply</span> (pre_loaded_vlsm_incl v seed (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">True</span>))
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, seed m ‚Üí <span class="kt">True</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12d"><span class="kr">match goal with</span>
    |- <span class="kp">context</span> [pre_loaded_with_all_messages_vlsm <span class="nl">?v</span>] =&gt;
      <span class="nb">specialize</span> (pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True v) <span class="kr">as</span> Hincl
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq
  (pre_loaded_with_all_messages_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed)))
  (pre_loaded_vlsm
     (composite_vlsm sub_IM
        (no_equivocations_additional_constraint_with_pre_loaded
           sub_IM (free_constraint sub_IM)
           (sub_has_been_sent_capabilities
              has_been_sent_capabilities) seed))
     (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12e"><span class="nb">apply</span> VLSM_eq_incl_iff <span class="kr">in</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (composite_vlsm sub_IM
           (no_equivocations_additional_constraint_with_pre_loaded
              sub_IM (free_constraint sub_IM)
              (sub_has_been_sent_capabilities
                 has_been_sent_capabilities)
              seed))))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2
           (projT2
              (composite_vlsm sub_IM
                 (no_equivocations_additional_constraint_with_pre_loaded
                    sub_IM
                    (free_constraint sub_IM)
                    (sub_has_been_sent_capabilities
                      has_been_sent_capabilities)
                    seed))))
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages
          (projT2
             (projT2
                (composite_vlsm sub_IM
                   (no_equivocations_additional_constraint_with_pre_loaded
                      sub_IM
                      (free_constraint sub_IM)
                      (sub_has_been_sent_capabilities
                      has_been_sent_capabilities)
                      seed))))
          (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine
          (composite_vlsm sub_IM
             (no_equivocations_additional_constraint_with_pre_loaded
                sub_IM
                (free_constraint sub_IM)
                (sub_has_been_sent_capabilities
                   has_been_sent_capabilities)
                seed))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk12f"><span class="nb">apply</span> proj2 <span class="kr">in</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2
           (projT2
              (composite_vlsm sub_IM
                 (no_equivocations_additional_constraint_with_pre_loaded
                    sub_IM
                    (free_constraint sub_IM)
                    (sub_has_been_sent_capabilities
                      has_been_sent_capabilities)
                    seed))))
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (composite_vlsm sub_IM
           (no_equivocations_additional_constraint_with_pre_loaded
              sub_IM (free_constraint sub_IM)
              (sub_has_been_sent_capabilities
                 has_been_sent_capabilities)
              seed))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (machine
        (pre_loaded_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))
           (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))))
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Property of a composite trace requiring that every message received in an
transition involving a machine in the chosen subset must either belong to
the set specified by <span class="inlinecode"><span class="id" title="var">seed</span></span>, or it must <span class="inlinecode"><span class="id" title="var">have_been_sent</span></span> by some machine
in the chosen subset (prior to it being received).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">trace_sub_item_input_is_seeded_or_sub_previously_sent</span>
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  : <span class="kt">Prop</span>
  :=
  <span class="kr">forall</span> <span class="nv">pre</span> <span class="nv">item</span> <span class="nv">suf</span> <span class="nv">m</span>,
    tr = pre ++ [item] ++ suf -&gt;
    input item = Some m -&gt;
    from_sub_projection item -&gt;
    seed m \/ <span class="kr">exists</span> <span class="nv">pre_item</span>, pre_item ‚àà pre /\ output pre_item = Some m /\ from_sub_projection pre_item.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state_sub_item_input_is_seeded_or_sub_previously_sent</span>
  (<span class="nv">s</span> : composite_state IM)
  : <span class="kt">Prop</span>
  := <span class="kr">forall</span> <span class="nv">is</span> <span class="nv">tr</span>,
    finite_valid_trace_init_to Pre <span class="kr">is</span> s tr -&gt;
    trace_sub_item_input_is_seeded_or_sub_previously_sent tr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk130"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_sub_projection</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  (<span class="nv">Hmsg</span> :  trace_sub_item_input_is_seeded_or_sub_previously_sent tr)
  (<span class="nv">Htr</span> : finite_valid_trace X s tr)
  : finite_valid_trace Xj (composite_state_sub_projection s) (finite_trace_sub_projection tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk131"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk132"><span class="nb">destruct</span> Htr <span class="kr">as</span> [Htr His].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk133"><span class="nb">apply</span> (composite_initial_state_sub_projection s) <span class="kr">in</span> His.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk134"><span class="nb">split</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk135"><span class="nb">apply</span> (initial_state_is_valid Xj) <span class="kr">in</span> His <span class="kr">as</span> Hisp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk136"><span class="nb">induction</span> tr <span class="nb">using</span> rev_ind; <span class="nb">simpl</span>
  ; [<span class="nb">constructor</span>; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr
‚Üí finite_valid_trace_from X s tr
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk137"><span class="nb">apply</span> finite_valid_trace_from_app_iff <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr
‚àß finite_valid_trace_from X
    (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr
‚Üí finite_valid_trace_from X s tr
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk138"><span class="nb">destruct</span> Htr <span class="kr">as</span> [Htr Hx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr
‚Üí finite_valid_trace_from X s tr
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk139">spec IHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr
‚Üí finite_valid_trace_from X s tr
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk13a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr
‚Üí finite_valid_trace_from Xj
    (composite_state_sub_projection s)
    (finite_trace_sub_projection tr)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk13a"><hr></label><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection (tr ++ [x]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk13b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr
‚Üí finite_valid_trace_from X s tr
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk13c"><span class="nb">intros</span> pre item suf m Heq Hin_m Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr
‚Üí finite_valid_trace_from X s tr
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection tr)</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = pre ++ [item] ++ suf</span></span></span><br><span><var>Hin_m</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà pre
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk13d"><span class="nb">subst</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s (pre ++ [item] ++ suf))
  [x]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s
  (pre ++ [item] ++ suf)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  ((pre ++ [item] ++ suf) ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ [item] ++ suf)
‚Üí finite_valid_trace_from X s
    (pre ++ [item] ++ suf)
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection
         (pre ++ [item] ++ suf))</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hin_m</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà pre
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk13e"><span class="nb">specialize</span> (Hmsg pre item (suf ++ [x]) m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s (pre ++ [item] ++ suf))
  [x]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s
  (pre ++ [item] ++ suf)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>(pre ++ [item] ++ suf) ++ [x] =
pre ++ [item] ++ suf ++ [x]
‚Üí input item = Some m
  ‚Üí from_sub_projection item
    ‚Üí seed m
      ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
           pre_item ‚àà pre
           ‚àß output pre_item = Some m
             ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ [item] ++ suf)
‚Üí finite_valid_trace_from X s
    (pre ++ [item] ++ suf)
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection
         (pre ++ [item] ++ suf))</span></span></span><br><span><var>Hin_m</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà pre
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk13f"><span class="nb">rewrite</span>! app_assoc <span class="kr">in</span> Hmsg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s (pre ++ [item] ++ suf))
  [x]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s
  (pre ++ [item] ++ suf)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>((pre ++ [item]) ++ suf) ++ [x] =
((pre ++ [item]) ++ suf) ++ [x]
‚Üí input item = Some m
  ‚Üí from_sub_projection item
    ‚Üí seed m
      ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
           pre_item ‚àà pre
           ‚àß output pre_item = Some m
             ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ [item] ++ suf)
‚Üí finite_valid_trace_from X s
    (pre ++ [item] ++ suf)
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection
         (pre ++ [item] ++ suf))</span></span></span><br><span><var>Hin_m</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà pre
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk140"><span class="nb">specialize</span> (Hmsg eq_refl Hin_m Hitem).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s (pre ++ [item] ++ suf))
  [x]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s
  (pre ++ [item] ++ suf)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà pre
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ [item] ++ suf)
‚Üí finite_valid_trace_from X s
    (pre ++ [item] ++ suf)
  ‚Üí finite_valid_trace_from Xj
      (composite_state_sub_projection s)
      (finite_trace_sub_projection
         (pre ++ [item] ++ suf))</span></span></span><br><span><var>Hin_m</var><span class="hyp-type"><b>: </b><span>input item = Some m</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà pre
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> Hmsg <span class="kr">as</span> [Hseed | Hmsg]
    ; [<span class="nb">left</span> | <span class="nb">right</span>] ; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk141">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr
‚Üí finite_valid_trace_from Xj
    (composite_state_sub_projection s)
    (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk142">spec IHtr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk143"><span class="nb">rewrite</span> finite_trace_sub_projection_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr ++
   finite_trace_sub_projection [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk144"><span class="nb">apply</span> finite_valid_trace_from_app_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)
‚àß finite_valid_trace_from Xj
    (finite_trace_last
       (composite_state_sub_projection s)
       (finite_trace_sub_projection tr))
    (finite_trace_sub_projection [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk145"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))
  (finite_trace_sub_projection [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk146"><span class="kr">match goal with</span>
  |- finite_valid_trace_from _ <span class="nl">?l</span> _ =&gt; <span class="nb">remember</span> l <span class="kr">as</span> lst
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj lst
  (finite_trace_sub_projection [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk147"><span class="nb">assert</span> (Hlst : valid_state_prop Xj lst).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj lst</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk148" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk148"><hr></label><div class="goal-conclusion">finite_valid_trace_from Xj lst
  (finite_trace_sub_projection [x])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk149">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj lst</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14a"><span class="nb">apply</span> finite_valid_trace_last_pstate <span class="kr">in</span> IHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj lst</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14b"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj lst
  (finite_trace_sub_projection [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj lst
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (composite_type IM) (composite_type sub_IM)
      composite_label_sub_projection_option
      composite_state_sub_projection x
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14e"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project, composite_label_sub_projection_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj lst
  <span class="kr">match</span>
    <span class="kr">match</span>
      <span class="kr">match</span>
        decide (projT1 (l x) ‚àà sub_index_list)
      <span class="kr">with</span>
      | <span class="nb">left</span> i_in =&gt;
          Some
            (composite_label_sub_projection (l x) i_in)
      | in_right =&gt; None
      <span class="kr">end</span>
    <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := input x;
            destination :=
              composite_state_sub_projection
                (destination x);
            output := output x
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk14f">case_decide; [|<span class="nb">constructor</span>; <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 (l x) ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj lst
  [{|
     l := composite_label_sub_projection (l x) H;
     input := input x;
     destination :=
       composite_state_sub_projection (destination x);
     output := output x
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk150"><span class="nb">apply</span> (finite_valid_trace_singleton Xj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr) [x]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 (l x) ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection (l x) H)
  (lst, input x)
  (composite_state_sub_projection (destination x),
  output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk151"><span class="nb">inversion</span> Hx; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1
  (VLSM.l
     {|
       l := l;
       input := iom;
       destination := s0;
       output := oom
     |}) ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := s0;
          output := oom
        |}) H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr),
  input
    {|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |})
  (composite_state_sub_projection
     (destination
        {|
          l := l;
          input := iom;
          destination := s0;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk152"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)
  (composite_state_sub_projection s0, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk153"><span class="nb">destruct</span> Ht <span class="kr">as</span> [Hv Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)
  (composite_state_sub_projection s0, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk154"><span class="nb">specialize</span> (transition_sub_projection _ _ _ _ _ Ht H)
    <span class="kr">as</span> Htj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (composite_state_sub_projection
     (finite_trace_last s tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)
  (composite_state_sub_projection s0, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk155"><span class="nb">destruct</span> Hv <span class="kr">as</span> [_ [_ [Hv Hc]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (composite_state_sub_projection
     (finite_trace_last s tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)
  (composite_state_sub_projection s0, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk156"><span class="nb">specialize</span> (valid_sub_projection _ _ _ Hv H)
    <span class="kr">as</span> Hvj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (composite_state_sub_projection
     (finite_trace_last s tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (composite_state_sub_projection
     (finite_trace_last s tr), iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)
  (composite_state_sub_projection s0, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk157"><span class="nb">rewrite</span> &lt;- (finite_trace_sub_projection_last_state s tr Htr) <span class="kr">in</span> Htj, Hvj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Xj
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)
  (composite_state_sub_projection s0, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk158"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">assumption</span> | | <span class="bp">assumption</span> | | <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Xj iom</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk159" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk159"><hr></label><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Xj iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15b"><span class="nb">destruct</span> iom <span class="kr">as</span> [m|]; [|<span class="nb">apply</span> (option_valid_message_None Xj)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, Some m)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, Some m) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), 
  Some m) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), 
  Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Xj (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15c"><span class="nb">apply</span> (option_valid_message_Some Xj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, Some m)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, Some m) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), 
  Some m) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), 
  Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15d"><span class="nb">clear</span> -Hmsg m H IHtr tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15e"><span class="nb">remember</span> {| input := Some m |} <span class="kr">as</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk15f"><span class="nb">specialize</span> (Hmsg tr x []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk160"><span class="nb">assert</span> (Hx : from_sub_projection x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk161" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk161"><hr></label><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk162">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk163"><span class="nb">unfold</span> from_sub_projection <span class="nb">at</span> <span class="mi">1</span>, pre_VLSM_projection_in_projection, composite_label_sub_projection_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  <span class="kr">match</span>
    decide (projT1 (VLSM.l x) ‚àà sub_index_list)
  <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt;
      Some
        (composite_label_sub_projection (VLSM.l x)
           i_in)
  | in_right =&gt; None
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk164"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m0</span> : message,
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] =
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] ++ []
  ‚Üí input
      {|
        l := l;
        input := Some m;
        destination := s0;
        output := oom
      |} = Some m0
    ‚Üí from_sub_projection
        {|
          l := l;
          input := Some m;
          destination := s0;
          output := oom
        |}
      ‚Üí seed m0
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m0
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  <span class="kr">match</span>
    decide
      (projT1
         (VLSM.l
            {|
              l := l;
              input := Some m;
              destination := s0;
              output := oom
            |}) ‚àà sub_index_list)
  <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt;
      Some
        (composite_label_sub_projection
           (VLSM.l
              {|
                l := l;
                input := Some m;
                destination := s0;
                output := oom
              |}) i_in)
  | in_right =&gt; None
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk165">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m0</span> : message,
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] =
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] ++ []
  ‚Üí input
      {|
        l := l;
        input := Some m;
        destination := s0;
        output := oom
      |} = Some m0
    ‚Üí from_sub_projection
        {|
          l := l;
          input := Some m;
          destination := s0;
          output := oom
        |}
      ‚Üí seed m0
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m0
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>projT1
  (VLSM.l
     {|
       l := l;
       input := Some m;
       destination := s0;
       output := oom
     |}) ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (Some
     (composite_label_sub_projection
        (VLSM.l
           {|
             l := l;
             input := Some m;
             destination := s0;
             output := oom
           |}) H0))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk166">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk167"><span class="nb">rewrite</span> Heqx <span class="kr">in</span> Hmsg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m0</span> : message,
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] =
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] ++ []
  ‚Üí input
      {|
        l := l;
        input := Some m;
        destination := s0;
        output := oom
      |} = Some m0
    ‚Üí from_sub_projection
        {|
          l := l;
          input := Some m;
          destination := s0;
          output := oom
        |}
      ‚Üí seed m0
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m0
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk168"><span class="nb">specialize</span> (Hmsg m eq_refl eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk169">spec Hmsg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk16a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà tr
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk16a"><hr></label><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk16b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk16c"><span class="nb">subst</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk16d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà tr
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk16e"><span class="nb">destruct</span> Hmsg <span class="kr">as</span> [Hseed | [item [Hitem [Hout Hsub_item]]]]
    ; [<span class="nb">apply</span> (initial_message_is_valid Xj); <span class="nb">right</span>; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Xj m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk16f"><span class="nb">apply</span> (valid_trace_output_is_valid Xj _ _ IHtr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) m
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk170"><span class="nb">apply</span> Exists_exists.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">x</span> : transition_item,
  x ‚àà finite_trace_sub_projection tr
  ‚àß field_selector output m x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk171"><span class="nb">specialize</span>
      (@pre_VLSM_projection_transition_item_project_is_Some _ (composite_type IM) _
        composite_label_sub_projection_option composite_state_sub_projection
        item Hsub_item)
      <span class="kr">as</span> [itemX HitemX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">x</span> : transition_item,
  x ‚àà finite_trace_sub_projection tr
  ‚àß field_selector output m x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk172"><span class="kr">exists</span> <span class="nv">itemX</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">itemX ‚àà finite_trace_sub_projection tr
‚àß field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk173"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">itemX ‚àà finite_trace_sub_projection tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk174" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk174"><hr></label><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk175">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">itemX ‚àà finite_trace_sub_projection tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk176"><span class="nb">apply</span> elem_of_map_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : transition_item,
  a ‚àà tr
  ‚àß pre_VLSM_projection_transition_item_project
      (composite_type IM) (composite_type sub_IM)
      composite_label_sub_projection_option
      composite_state_sub_projection a = Some itemX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk177"><span class="kr">exists</span> <span class="nv">item</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà tr
‚àß pre_VLSM_projection_transition_item_project
    (composite_type IM) (composite_type sub_IM)
    composite_label_sub_projection_option
    composite_state_sub_projection item = Some itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk178">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk179"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project <span class="kr">in</span> HitemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  composite_label_sub_projection_option
    (VLSM.l item)
<span class="kr">with</span>
| Some lY =&gt;
    Some
      {|
        l := lY;
        input := input item;
        destination :=
          composite_state_sub_projection
            (destination item);
        output := output item
      |}
| None =&gt; None
<span class="kr">end</span> = Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17a"><span class="nb">destruct</span> (composite_label_sub_projection_option _); [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  {|
    l := c;
    input := input item;
    destination :=
      composite_state_sub_projection
        (destination item);
    output := output item
  |} = Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17b"><span class="nb">inversion</span> HitemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  {|
    l := c;
    input := input item;
    destination :=
      composite_state_sub_projection
        (destination item);
    output := output item
  |} = Some itemX</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>{|
  l := c;
  input := input item;
  destination :=
    composite_state_sub_projection
      (destination item);
  output := output item
|} = itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m
  {|
    l := c;
    input := input item;
    destination :=
      composite_state_sub_projection
        (destination item);
    output := output item
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last s tr)
  [{|
     l := l;
     input := iom;
     destination := s0;
     output := oom
   |}]</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s0 []</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM l
  (finite_trace_last s tr, iom)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint l (finite_trace_last s tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last s tr, iom) =
(s0, oom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom) =
(composite_state_sub_projection s0, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist sub_index_prop (projT1 l) H)
     (projT2 l))
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17d"><span class="nb">clear</span> -Hmsg Sub_Free finite_index Hlst His IHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := iom;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17e"><span class="nb">destruct</span> iom <span class="kr">as</span> [m|]; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk17f"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk180"><span class="nb">remember</span> {| input := Some m |} <span class="kr">as</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk181"><span class="nb">assert</span> (Hx : from_sub_projection x).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk182" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk182"><hr></label><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), 
  Some m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk183">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk184"><span class="nb">unfold</span> from_sub_projection <span class="nb">at</span> <span class="mi">1</span>, pre_VLSM_projection_in_projection, composite_label_sub_projection_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  <span class="kr">match</span>
    decide (projT1 (VLSM.l x) ‚àà sub_index_list)
  <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt;
      Some
        (composite_label_sub_projection (VLSM.l x)
           i_in)
  | in_right =&gt; None
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk185"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  <span class="kr">match</span>
    decide
      (projT1
         (VLSM.l
            {|
              l := l;
              input := Some m;
              destination := s0;
              output := oom
            |}) ‚àà sub_index_list)
  <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt;
      Some
        (composite_label_sub_projection
           (VLSM.l
              {|
                l := l;
                input := Some m;
                destination := s0;
                output := oom
              |}) i_in)
  | in_right =&gt; None
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk186">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++
   [{|
      l := l;
      input := Some m;
      destination := s0;
      output := oom
    |}])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>projT1
  (VLSM.l
     {|
       l := l;
       input := Some m;
       destination := s0;
       output := oom
     |}) ‚àà sub_index_list</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (Some
     (composite_label_sub_projection
        (VLSM.l
           {|
             l := l;
             input := Some m;
             destination := s0;
             output := oom
           |}) H0))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk187">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  (tr ++ [x])</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">     </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk188"><span class="nb">specialize</span> (Hmsg tr x []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  tr ++ [x] = tr ++ [x] ++ []
  ‚Üí input x = Some m
    ‚Üí from_sub_projection x
      ‚Üí seed m
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk189"><span class="nb">rewrite</span> Heqx <span class="kr">in</span> Hmsg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m0</span> : message,
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] =
  tr ++
  [{|
     l := l;
     input := Some m;
     destination := s0;
     output := oom
   |}] ++ []
  ‚Üí input
      {|
        l := l;
        input := Some m;
        destination := s0;
        output := oom
      |} = Some m0
    ‚Üí from_sub_projection
        {|
          l := l;
          input := Some m;
          destination := s0;
          output := oom
        |}
      ‚Üí seed m0
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
             pre_item ‚àà tr
             ‚àß output pre_item = Some m0
               ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk18a"><span class="nb">specialize</span> (Hmsg m eq_refl eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk18b">spec Hmsg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk18c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà tr
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk18c"><hr></label><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), 
  Some m)</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk18d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}
‚Üí seed m
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
       pre_item ‚àà tr
       ‚àß output pre_item = Some m
         ‚àß from_sub_projection pre_item)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">from_sub_projection
  {|
    l := l;
    input := Some m;
    destination := s0;
    output := oom
  |}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">subst</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk18e">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>seed m
‚à® (<span class="kr">‚àÉ</span> <span class="nv">pre_item</span> : transition_item,
     pre_item ‚àà tr
     ‚àß output pre_item = Some m
       ‚àß from_sub_projection pre_item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk18f"><span class="nb">destruct</span> Hmsg <span class="kr">as</span> [Hseed | [item [Hitem [Hout Hsub_item]]]]
    ; [<span class="nb">right</span>; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed
  (composite_label_sub_projection l H)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk190"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities)
  (finite_trace_last
     (composite_state_sub_projection s)
     (finite_trace_sub_projection tr), Some m).<span class="mi">1</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk191"><span class="nb">remember</span> (finite_trace_last (composite_state_sub_projection _) _) <span class="kr">as</span> lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) (lst, Some m).<span class="mi">1</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk192"><span class="nb">specialize</span> (proper_sent Sub_Free lst (HasBeenSentCapability := Sub_Free_HasBeenSentCapability)) <span class="kr">as</span> Hproper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) (lst, Some m).<span class="mi">1</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk193"><span class="nb">assert</span> (Hlstp : valid_state_prop (pre_loaded_with_all_messages_vlsm Sub_Free) lst).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free) lst</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk194" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk194"><hr></label><div class="goal-conclusion">composite_has_been_sent sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) 
  (lst, Some m).<span class="mi">1</span> m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk195">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free) lst</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk196"><span class="nb">revert</span> Hlst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj lst
‚Üí valid_state_prop
    (pre_loaded_with_all_messages_vlsm Sub_Free) lst</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk197"><span class="nb">apply</span> VLSM_incl_valid_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (VLSMClass_pre_loaded_with_messages
     (projT2
        (projT2
           (composite_vlsm sub_IM
              (no_equivocations_additional_constraint_with_pre_loaded
                 sub_IM (free_constraint sub_IM)
                 (sub_has_been_sent_capabilities
                    has_been_sent_capabilities) seed))))
     seed)
  (pre_loaded_with_all_messages_vlsm_machine Sub_Free)</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Xj_incl_Pre_Sub_Free.</span><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk198">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     Sub_Free) lst
‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
    has_been_sent_prop Sub_Free
      (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) (lst, Some m).<span class="mi">1</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk199">spec Hproper Hlstp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) (lst, Some m).<span class="mi">1</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk19a"><span class="nb">apply</span> Hproper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">selected_message_exists_in_all_preloaded_traces
  Sub_Free (field_selector output) lst m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk19b"><span class="nb">apply</span> has_been_sent_consistency; [<span class="nb">apply</span> Sub_Free_HasBeenSentCapability| <span class="bp">assumption</span>| ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">selected_message_exists_in_some_preloaded_traces
  Sub_Free (field_selector output) lst m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk19c"><span class="kr">exists</span> (<span class="nv">composite_state_sub_projection</span> <span class="nv">s</span>), (finite_trace_sub_projection tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_</span> : finite_valid_trace_init_to
        (pre_loaded_with_all_messages_vlsm Sub_Free)
        (composite_state_sub_projection s) lst
        (finite_trace_sub_projection tr),
  trace_has_message (field_selector output) m
    (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk19d"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  (composite_state_sub_projection s) lst
  (finite_trace_sub_projection tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk19e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk19e"><hr></label><div class="goal-conclusion">trace_has_message (field_selector output) m
  (finite_trace_sub_projection tr)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk19f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  (composite_state_sub_projection s) lst
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a0"><span class="nb">split</span>;[|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  (composite_state_sub_projection s) lst
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">       </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a1"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from_to Xj_incl_Pre_Sub_Free).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (mk_vlsm (machine Xj))
  (composite_state_sub_projection s) lst
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">       </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a2"><span class="nb">apply</span> valid_trace_add_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm (machine Xj))
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk1a3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk1a3"><hr></label><div class="goal-conclusion">finite_trace_last (composite_state_sub_projection s)
  (finite_trace_sub_projection tr) = lst</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">       </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a4"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (composite_state_sub_projection s)
  (finite_trace_sub_projection tr) = lst</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">       </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>;<span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a5">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) m
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a6"><span class="nb">unfold</span> trace_has_message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (field_selector output m)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a7"><span class="nb">apply</span> Exists_exists.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">x</span> : transition_item,
  x ‚àà finite_trace_sub_projection tr
  ‚àß field_selector output m x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a8"><span class="nb">specialize</span>
      (@pre_VLSM_projection_transition_item_project_is_Some _ (composite_type IM) _
        composite_label_sub_projection_option composite_state_sub_projection
        item Hsub_item)
      <span class="kr">as</span> [itemX HitemX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">x</span> : transition_item,
  x ‚àà finite_trace_sub_projection tr
  ‚àß field_selector output m x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1a9"><span class="kr">exists</span> <span class="nv">itemX</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">itemX ‚àà finite_trace_sub_projection tr
‚àß field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1aa"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">itemX ‚àà finite_trace_sub_projection tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk1ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk1ab"><hr></label><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ac">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">itemX ‚àà finite_trace_sub_projection tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ad"><span class="nb">apply</span> elem_of_map_option.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : transition_item,
  a ‚àà tr
  ‚àß pre_VLSM_projection_transition_item_project
      (composite_type IM) (composite_type sub_IM)
      composite_label_sub_projection_option
      composite_state_sub_projection a = Some itemX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ae"><span class="kr">exists</span> <span class="nv">item</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">item ‚àà tr
‚àß pre_VLSM_projection_transition_item_project
    (composite_type IM) (composite_type sub_IM)
    composite_label_sub_projection_option
    composite_state_sub_projection item = Some itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1af">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  (composite_type IM) (composite_type sub_IM)
  composite_label_sub_projection_option
  composite_state_sub_projection item =
Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b0"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project <span class="kr">in</span> HitemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  composite_label_sub_projection_option
    (VLSM.l item)
<span class="kr">with</span>
| Some lY =&gt;
    Some
      {|
        l := lY;
        input := input item;
        destination :=
          composite_state_sub_projection
            (destination item);
        output := output item
      |}
| None =&gt; None
<span class="kr">end</span> = Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b1"><span class="nb">destruct</span> (composite_label_sub_projection_option _); [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  {|
    l := c;
    input := input item;
    destination :=
      composite_state_sub_projection
        (destination item);
    output := output item
  |} = Some itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b2"><span class="nb">inversion</span> HitemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>_composite_label IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x =
{|
  l := l;
  input := Some m;
  destination := s0;
  output := oom
|}</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection s)</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj lst</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>projT1 l ‚àà sub_index_list</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>from_sub_projection x</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item ‚àà tr</span></span></span><br><span><var>Hout</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>Hsub_item</var><span class="hyp-type"><b>: </b><span>from_sub_projection item</span></span></span><br><span><var>Hlstp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Sub_Free)
  lst</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  has_been_sent_prop Sub_Free
    (has_been_sent Sub_Free) lst m</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  {|
    l := c;
    input := input item;
    destination :=
      composite_state_sub_projection
        (destination item);
    output := output item
  |} = Some itemX</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>{|
  l := c;
  input := input item;
  destination :=
    composite_state_sub_projection
      (destination item);
  output := output item
|} = itemX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m
  {|
    l := c;
    input := input item;
    destination :=
      composite_state_sub_projection
        (destination item);
    output := output item
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b3"><span class="kn">Lemma</span> <span class="nf">valid_state_sub_projection</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">Hs</span> : state_sub_item_input_is_seeded_or_sub_previously_sent s)
  (<span class="nv">Hps</span> : valid_state_prop X s)
  : valid_state_prop Xj (composite_state_sub_projection s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  s</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  s</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b5"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  s</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b6"><span class="nb">destruct</span> Hps <span class="kr">as</span> [<span class="kr">is</span> [tr Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b7"><span class="nb">specialize</span> (Hs _ _ (VLSM_incl_finite_valid_trace_init_to X_incl_Pre _ _ _ Htr)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b8"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr <span class="kr">as</span> Hlst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1b9"><span class="nb">apply</span> valid_trace_forget_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ba"><span class="nb">specialize</span> (finite_trace_sub_projection_last_state _ _ (proj1 Htr)) <span class="kr">as</span> Hlst&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> tr <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection tr) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1bb"><span class="nb">apply</span> (finite_valid_trace_sub_projection _ _ Hs) <span class="kr">in</span> Htr <span class="kr">as</span> Hptr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> tr <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection tr) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1bc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> tr <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection tr) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1bd"><span class="nb">destruct</span> Hptr <span class="kr">as</span> [Hptr _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> tr <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection tr) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1be"><span class="nb">apply</span> finite_valid_trace_last_pstate <span class="kr">in</span> Hptr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection <span class="kr">is</span>)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> tr <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection tr) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1bf"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (finite_trace_last
     (composite_state_sub_projection <span class="kr">is</span>)
     (finite_trace_sub_projection tr))</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span>finite_trace_last
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection tr) =
composite_state_sub_projection
  (finite_trace_last <span class="kr">is</span> tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c0"><span class="nb">rewrite</span> Hlst&#39; <span class="kr">in</span> Hptr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> tr))</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span>finite_trace_last
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection tr) =
composite_state_sub_projection
  (finite_trace_last <span class="kr">is</span> tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj (composite_state_sub_projection s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c1"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>trace_sub_item_input_is_seeded_or_sub_previously_sent
  tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> tr</span></span></span><br><span><var>Hptr</var><span class="hyp-type"><b>: </b><span>valid_state_prop Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> tr))</span></span></span><br><span><var>Hlst'</var><span class="hyp-type"><b>: </b><span>finite_trace_last
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection tr) =
composite_state_sub_projection
  (finite_trace_last <span class="kr">is</span> tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c2"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_from_sub_projection</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  (<span class="nv">lst</span> := finite_trace_last s tr)
  (<span class="nv">Hmsg</span> : state_sub_item_input_is_seeded_or_sub_previously_sent lst)
  (<span class="nv">Htr</span> : finite_valid_trace_from X s tr)
  : finite_valid_trace_from Xj (composite_state_sub_projection s) (finite_trace_sub_projection tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c4"><span class="nb">apply</span> finite_valid_trace_from_complete_left <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">is</span> : state) (<span class="nv">trs</span> : list transition_item),
  finite_valid_trace X <span class="kr">is</span> (trs ++ tr)
  ‚àß finite_trace_last <span class="kr">is</span> trs = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c5"><span class="nb">destruct</span> Htr <span class="kr">as</span> [<span class="kr">is</span> [pre [Htr Hs]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c6"><span class="nb">assert</span> (Hpre := proj1 Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> (pre ++ tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c7"><span class="nb">apply</span> finite_valid_trace_from_app_iff <span class="kr">in</span> Hpre.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre
‚àß finite_valid_trace_from X
    (finite_trace_last <span class="kr">is</span> pre) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c8"><span class="nb">destruct</span> Hpre <span class="kr">as</span> [Hpre _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1c9"><span class="nb">specialize</span> (finite_trace_sub_projection_last_state _ _ Hpre) <span class="kr">as</span> Hpre_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ca"><span class="nb">apply</span> finite_valid_trace_sub_projection <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection (pre ++ tr))</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk1cb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk1cb"><hr></label><div class="goal-conclusion">trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ tr)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1cc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection (pre ++ tr))</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1cd"><span class="nb">destruct</span> Htr <span class="kr">as</span> [Htr His].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection (pre ++ tr))</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ce"><span class="nb">rewrite</span> finite_trace_sub_projection_app <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection pre ++
   finite_trace_sub_projection tr)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1cf"><span class="nb">apply</span> finite_valid_trace_from_app_iff <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection pre)
‚àß finite_valid_trace_from Xj
    (finite_trace_last
       (composite_state_sub_projection <span class="kr">is</span>)
       (finite_trace_sub_projection pre))
    (finite_trace_sub_projection tr)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d0"><span class="nb">destruct</span> Htr <span class="kr">as</span> [_ Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (finite_trace_last
     (composite_state_sub_projection <span class="kr">is</span>)
     (finite_trace_sub_projection pre))
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection s)
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d1"><span class="nb">subst</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (finite_trace_last
     (composite_state_sub_projection <span class="kr">is</span>)
     (finite_trace_sub_projection pre))
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> pre))
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d2"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr</span></span><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (finite_trace_last
     (composite_state_sub_projection <span class="kr">is</span>)
     (finite_trace_sub_projection pre))
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span>finite_trace_last
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection pre) =
composite_state_sub_projection
  (finite_trace_last <span class="kr">is</span> pre)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> pre))
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d3"><span class="nb">rewrite</span> Hpre_lst <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr</span></span><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> pre))
  (finite_trace_sub_projection tr)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM
  (composite_state_sub_projection <span class="kr">is</span>)</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span>finite_trace_last
  (composite_state_sub_projection <span class="kr">is</span>)
  (finite_trace_sub_projection pre) =
composite_state_sub_projection
  (finite_trace_last <span class="kr">is</span> pre)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Xj
  (composite_state_sub_projection
     (finite_trace_last <span class="kr">is</span> pre))
  (finite_trace_sub_projection tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>state_sub_item_input_is_seeded_or_sub_previously_sent
  lst</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d5"><span class="nb">specialize</span> (Hmsg <span class="kr">is</span> (pre ++ tr)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_sub_item_input_is_seeded_or_sub_previously_sent
  (pre ++ tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d6"><span class="nb">apply</span> Hmsg.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Pre <span class="kr">is</span> lst (pre ++ tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d7"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_init_to X_incl_Pre).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to (mk_vlsm (machine X)) <span class="kr">is</span>
  lst (pre ++ tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1d8"><span class="nb">apply</span> valid_trace_add_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm (machine X)) <span class="kr">is</span>
  (pre ++ tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk1d9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk1d9"><hr></label><div class="goal-conclusion">finite_trace_last <span class="kr">is</span> (pre ++ tr) = lst</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1da"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last <span class="kr">is</span> (pre ++ tr) = lst</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1db"><span class="nb">rewrite</span> finite_trace_last_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr = lst</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1dc"><span class="nb">unfold</span> lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last s tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> pre = s</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr =
finite_trace_last s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1dd"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>has_been_sent_capabilities</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  HasBeenSentCapability
    (IM i)</span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>Listing index_listing</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Sub_Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm sub_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Pre</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm
  (free_composite_vlsm IM)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_constraint</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM
‚Üí composite_state sub_IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Xj</var><span><span class="hyp-body"><b>:= </b><span>composite_no_equivocation_vlsm_with_pre_loaded
  sub_IM (free_constraint sub_IM)
  (sub_has_been_sent_capabilities
     has_been_sent_capabilities) seed</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span><span class="hyp-body"><b>:= </b><span>finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr</span></span><span class="hyp-type"><b>: </b><span>state</span></span></span></span><br><span><var>Hmsg</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Pre <span class="kr">is</span> lst
  (pre ++ tr)
‚Üí trace_sub_item_input_is_seeded_or_sub_previously_sent
    (pre ++ tr)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (pre ++ tr)</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> pre</span></span></span><br><span><var>Hpre_lst</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">lstx</span> := finite_trace_last <span class="kr">is</span> pre <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">lstj</span> :=
  finite_trace_last
    (composite_state_sub_projection <span class="kr">is</span>)
    (finite_trace_sub_projection pre) <span class="kr">in</span>
lstj = composite_state_sub_projection lstx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr =
finite_trace_last (finite_trace_last <span class="kr">is</span> pre) tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sub_projection_with_no_equivocation_constraints</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1de"><span class="kn">Lemma</span> <span class="nf">lift_sub_state_initial</span>
  (<span class="nv">s</span> : composite_state sub_IM)
  (<span class="nv">Hs</span> : composite_initial_state_prop sub_IM s)
  : composite_initial_state_prop IM (lift_sub_state s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop IM (lift_sub_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1df"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop IM (lift_sub_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e0"><span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (lift_sub_state s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e1"><span class="nb">unfold</span> lift_sub_state, lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  <span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
  | in_right =&gt; ` (vs0 (IM i))
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e2">case_decide.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (s (dec_exist sub_index_prop i H))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk1e3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk1e3"><hr></label><div class="goal-conclusion">vinitial_state_prop (IM i) (` (vs0 (IM i)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (s (dec_exist sub_index_prop i H))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e5"><span class="nb">specialize</span> (Hs (dec_exist _ i H)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (sub_IM (dec_exist sub_index_prop i H))
  (s (dec_exist sub_index_prop i H))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (s (dec_exist sub_index_prop i H))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (` (vs0 (IM i)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e7"><span class="nb">destruct</span> (vs0 _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>initial_state_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (` (x ‚Üæ i0))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e8"><span class="kn">Lemma</span> <span class="nf">lift_sub_state_to_initial</span>
  (<span class="nv">s0</span> : composite_state IM)
  (<span class="nv">Hs0</span> : composite_initial_state_prop IM s0)
  (<span class="nv">s</span> : composite_state sub_IM)
  (<span class="nv">Hs</span> : composite_initial_state_prop sub_IM s)
  : composite_initial_state_prop IM (lift_sub_state_to s0 s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop IM
  (lift_sub_state_to s0 s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1e9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop IM
  (lift_sub_state_to s0 s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ea"><span class="nb">intros</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (lift_sub_state_to s0 s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1eb"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  <span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
  | in_right =&gt; s0 i
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ec">case_decide.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (s (dec_exist sub_index_prop i H))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk1ed" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk1ed"><hr></label><div class="goal-conclusion">vinitial_state_prop (IM i) (s0 i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ee">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (s (dec_exist sub_index_prop i H))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ef"><span class="nb">specialize</span> (Hs (dec_exist _ i H)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (sub_IM (dec_exist sub_index_prop i H))
  (s (dec_exist sub_index_prop i H))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (s (dec_exist sub_index_prop i H))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s0</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (s0 i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hs0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f1"><span class="kn">Lemma</span> <span class="nf">lift_sub_message_initial</span>
  (<span class="nv">m</span> : message)
  (<span class="nv">Hm</span> : composite_initial_message_prop sub_IM m)
  : composite_initial_message_prop IM m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>composite_initial_message_prop sub_IM m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop IM m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>composite_initial_message_prop sub_IM m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop IM m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f3"><span class="nb">destruct</span> Hm <span class="kr">as</span> [[i Hi] Hm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (sub_IM (i ‚Üæ Hi)),
  ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop IM m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f4"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM (` (i ‚Üæ Hi))),
  ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop IM m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f5"><span class="nb">simpl</span> <span class="kr">in</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop IM m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f6"><span class="kr">exists</span> <span class="nv">i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f7"><span class="kn">Lemma</span> <span class="nf">lift_sub_valid</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span>: composite_valid sub_IM l (s, om))
  : composite_valid IM (lift_sub_label l) (lift_sub_state s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (lift_sub_label l)
  (lift_sub_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (lift_sub_label l)
  (lift_sub_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1f9"><span class="nb">revert</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM l (s, om)
‚Üí composite_valid IM (lift_sub_label l)
    (lift_sub_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1fa"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM (existT sub_i li) (s, om)
‚Üí composite_valid IM
    (lift_sub_label (existT sub_i li))
    (lift_sub_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1fb">destruct_dec_sig sub_i i H Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM (existT sub_i li) (s, om)
‚Üí composite_valid IM
    (lift_sub_label (existT sub_i li))
    (lift_sub_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1fc"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (sub_IM sub_i) li (s sub_i, om)
‚Üí vvalid (IM (` sub_i)) li
    (lift_sub_state s (` sub_i), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1fd"><span class="nb">unfold</span> vvalid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s sub_i, om)
‚Üí valid li (lift_sub_state s (` sub_i), om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1fe"><span class="nb">unfold</span> lift_sub_state, lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s sub_i, om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop (` sub_i)) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s (dec_exist sub_index_prop (` sub_i) e)
     | in_right =&gt; ` (vs0 (IM (` sub_i)))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk1ff"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s sub_i, om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop (` sub_i)) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s (dec_exist sub_index_prop (` sub_i) e)
     | in_right =&gt; ` (vs0 (IM (` sub_i)))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk200"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s (dec_exist sub_index_prop i H), om)
‚Üí valid li
    (<span class="kr">match</span>
       decide
         (sub_index_prop
            (` (dec_exist sub_index_prop i H)))
     <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s
           (dec_exist sub_index_prop
              (` (dec_exist sub_index_prop i H)) e)
     | in_right =&gt;
         `
         (vs0 (IM (` (dec_exist sub_index_prop i H))))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk201"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i H))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s (dec_exist sub_index_prop i H), om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
     | in_right =&gt; ` (vs0 (IM i))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk202"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM (` (dec_exist sub_index_prop i H)))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s (dec_exist sub_index_prop i H), om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
     | in_right =&gt; ` (vs0 (IM i))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk203"><span class="nb">simpl</span> <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s (dec_exist sub_index_prop i H), om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
     | in_right =&gt; ` (vs0 (IM i))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk204">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s (dec_exist sub_index_prop i H), om)
‚Üí valid li (s (dec_exist sub_index_prop i H0), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk205"><span class="kr">match goal with</span>
  |- valid _ (s <span class="nl">?i1</span>, _) -&gt; valid _ (s <span class="nl">?i2</span>, _)
    =&gt; <span class="nb">replace</span> (s i1) <span class="kr">with</span> (s i2)
  <span class="kr">end</span>; [<span class="bp">exact</span> id|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist sub_index_prop i H0) =
s (dec_exist sub_index_prop i H)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sub_IM_state_pi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk206"><span class="kn">Lemma</span> <span class="nf">lift_sub_transition</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span>: composite_transition sub_IM l (s, om) = (s&#39;, om&#39;))
  : composite_transition IM
    (lift_sub_label l) (lift_sub_state s, om) = (lift_sub_state s&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM (lift_sub_label l)
  (lift_sub_state s, om) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk207"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition sub_IM l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM (lift_sub_label l)
  (lift_sub_state s, om) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk208"><span class="nb">revert</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label sub_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition sub_IM l (s, om) = (s&#39;, om&#39;)
‚Üí composite_transition IM (lift_sub_label l)
    (lift_sub_state s, om) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk209"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition sub_IM (existT sub_i li) (s, om) =
(s&#39;, om&#39;)
‚Üí composite_transition IM
    (lift_sub_label (existT sub_i li))
    (lift_sub_state s, om) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20a">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition sub_IM (existT sub_i li) (s, om) =
(s&#39;, om&#39;)
‚Üí composite_transition IM
    (lift_sub_label (existT sub_i li))
    (lift_sub_state s, om) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (sub_IM sub_i) li (s sub_i, om) <span class="kr">in</span>
 (state_update sub_IM s sub_i si&#39;, om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM (` sub_i)) li
       (lift_sub_state s (` sub_i), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) (` sub_i) si&#39;,
   om&#39;)) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20c"><span class="nb">unfold</span> vtransition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub_i, om) <span class="kr">in</span>
 (state_update sub_IM s sub_i si&#39;, om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li (lift_sub_state s (` sub_i), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) (` sub_i) si&#39;,
   om&#39;)) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20d"><span class="nb">unfold</span> lift_sub_state <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub_i, om) <span class="kr">in</span>
 (state_update sub_IM s sub_i si&#39;, om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (lift_sub_state_to
          (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s (` sub_i),
       om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) (` sub_i) si&#39;,
   om&#39;)) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20e"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub_i, om) <span class="kr">in</span>
 (state_update sub_IM s sub_i si&#39;, om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop (` sub_i)) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s (dec_exist sub_index_prop (` sub_i) e)
        | in_right =&gt; ` (vs0 (IM (` sub_i)))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) (` sub_i) si&#39;,
   om&#39;)) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk20f"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub_i, om) <span class="kr">in</span>
 (state_update sub_IM s sub_i si&#39;, om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop (` sub_i)) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s (dec_exist sub_index_prop (` sub_i) e)
        | in_right =&gt; ` (vs0 (IM (` sub_i)))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) (` sub_i) si&#39;,
   om&#39;)) = (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk210"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span>
          decide
            (sub_index_prop
               (` (dec_exist sub_index_prop i Hi)))
        <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist sub_index_prop
                 (` (dec_exist sub_index_prop i Hi)) e)
        | in_right =&gt;
            `
            (vs0
               (IM (` (dec_exist sub_index_prop i Hi))))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s)
      (` (dec_exist sub_index_prop i Hi)) si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk211"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM (dec_exist sub_index_prop i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
        | in_right =&gt; ` (vs0 (IM i))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) i si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk212"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM (` (dec_exist sub_index_prop i Hi)))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
        | in_right =&gt; ` (vs0 (IM i))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) i si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk213"><span class="nb">simpl</span> <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop i) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop i e)
        | in_right =&gt; ` (vs0 (IM i))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) i si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk214">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (s (dec_exist sub_index_prop i H), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) i si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk215"><span class="nb">replace</span> (s (dec_exist sub_index_prop i H)) <span class="kr">with</span> (s (dexist i Hi))
    <span class="bp">by</span> <span class="nb">apply</span> sub_IM_state_pi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li (s (dexist i Hi), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) i si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk216"><span class="nb">clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist sub_index_prop i Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist sub_index_prop i Hi) si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li (s (dexist i Hi), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state s) i si&#39;, om&#39;)) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk217"><span class="nb">destruct</span> (transition _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update sub_IM s (dec_exist sub_index_prop i Hi)
   si&#39;, _om&#39;) = (s&#39;, om&#39;)
‚Üí (state_update IM (lift_sub_state s) i si&#39;, _om&#39;) =
  (lift_sub_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk218"><span class="nb">inversion_clear</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (lift_sub_state s) i si&#39;, om&#39;) =
(lift_sub_state
   (state_update sub_IM s
      (dec_exist sub_index_prop i Hi) si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk219"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state s) i si&#39; =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk21a"><span class="nb">apply</span> functional_extensionality_dep_good.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  state_update IM (lift_sub_state s) i si&#39; x =
  lift_sub_state
    (state_update sub_IM s
       (dec_exist sub_index_prop i Hi) si&#39;) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk21b"><span class="nb">intros</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state s) i si&#39; j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk21c"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state s) i si&#39; j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;) j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk21d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk21d"><hr></label><div class="goal-conclusion">state_update IM (lift_sub_state s) i si&#39; j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;) j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk21e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state s) i si&#39; j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk21f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state s) j si&#39; j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop j Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk220"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop j Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk221"><span class="nb">unfold</span> lift_sub_state, lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
<span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update sub_IM s
      (dec_exist sub_index_prop j Hi) si&#39;
      (dec_exist sub_index_prop j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk222"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
<span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update sub_IM s
      (dec_exist sub_index_prop j Hi) si&#39;
      (dec_exist sub_index_prop j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk223">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
state_update sub_IM s (dec_exist sub_index_prop j Hi)
  si&#39; (dec_exist sub_index_prop j H)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk224"><span class="nb">rewrite</span> sub_IM_state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk225">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state s) i si&#39; j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk226"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state s j =
lift_sub_state
  (state_update sub_IM s
     (dec_exist sub_index_prop i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk227"><span class="nb">unfold</span> lift_sub_state, lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update sub_IM s
      (dec_exist sub_index_prop i Hi) si&#39;
      (dec_exist sub_index_prop j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk228"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt; s (dec_exist sub_index_prop j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update sub_IM s
      (dec_exist sub_index_prop i Hi) si&#39;
      (dec_exist sub_index_prop j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk229">case_decide; [|<span class="bp">reflexivity</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist sub_index_prop j H) =
state_update sub_IM s (dec_exist sub_index_prop i Hi)
  si&#39; (dec_exist sub_index_prop j H)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22a"><span class="nb">rewrite</span> state_update_neq; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist sub_index_prop j H
‚â† dec_exist sub_index_prop i Hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22b"><span class="nb">intro</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>dec_exist sub_index_prop j H =
dec_exist sub_index_prop i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22c"><span class="nb">apply</span> dec_sig_eq_iff <span class="kr">in</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>` (dec_exist sub_index_prop j H) =
` (dec_exist sub_index_prop i Hi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22d"><span class="nb">simpl</span> <span class="kr">in</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_list</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop j</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sub_composition</span>.</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Lifting a trace from a sub-composition to the full composition</h2>
<div class="paragraph"> </div>

In this section we first show that given a valid state for a composition of
all nodes we can reset some of its state-components to initial states for those
components without losing the valid state property.

<div class="paragraph"> </div>

The set of nodes for which the reset operation will happen is <code>equivocators</code>.

<div class="paragraph"> </div>

We then show that a similar result holds for replacing the equivocator
components with the components corresponding to any valid state of the
composition of just the equivocators.

<div class="paragraph"> </div>

We proving those results for compositions pre-loaded with all messages
(Lemmas <span class="inlinecode"><span class="id" title="var">reset_equivocating_transitions_preloaded_projection</span></span> and
<span class="inlinecode"><span class="id" title="var">PreSubFree_PreFree_weak_full_projection</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">lift_sub_state_to_preloaded</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  (<span class="nv">equivocators</span> : list index)
  (<span class="nv">Free</span> := free_composite_vlsm IM)
  (<span class="nv">PreFree</span> := pre_loaded_with_all_messages_vlsm Free)
  (<span class="nv">equivocating_IM</span> := sub_IM IM equivocators )
  (<span class="nv">SubFree</span> : VLSM message :=  free_composite_vlsm equivocating_IM)
  (<span class="nv">PreSubFree</span> := pre_loaded_with_all_messages_vlsm SubFree)
  (<span class="nv">base_s</span> : composite_state IM)
  (<span class="nv">Hbase_s</span> : valid_state_prop PreFree base_s)
  .</span></span></pre><div class="doc">
A partial label projection function which only keeps non-equivocating transitions.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">remove_equivocating_label_project</span> (<span class="nv">l</span> : composite_label IM) : option (composite_label IM)
  := <span class="kr">if</span> decide (projT1 l ‚àà equivocators) <span class="kr">then</span> None <span class="kr">else</span> Some l.</span></span></pre><div class="doc">
Replaces the state components of the given state with those of <code>eqv_is</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">remove_equivocating_state_project</span> <span class="nv">eqv_is</span>
  : composite_state IM -&gt; composite_state IM
  := <span class="kr">fun</span> <span class="nv">s</span> =&gt; lift_sub_state_to IM equivocators s eqv_is.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22e"><span class="kn">Lemma</span> <span class="nf">remove_equivocating_strong_projection_valid_preservation</span> <span class="nv">eqv_is</span>
  : strong_projection_valid_preservation Free Free remove_equivocating_label_project (remove_equivocating_state_project eqv_is).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation Free Free
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk22f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation Free Free
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk230"><span class="nb">intros</span> lX lY Hl s om Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>lX, lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>remove_equivocating_label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free lX (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free lY
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk231"><span class="nb">destruct</span> lX <span class="kr">as</span> (i, liX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>remove_equivocating_label_project (existT i liX) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free lY
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk232"><span class="nb">unfold</span> remove_equivocating_label_project <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (projT1 (existT i liX) ‚àà equivocators)
 <span class="kr">then</span> None
 <span class="kr">else</span> Some (existT i liX)) = 
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free lY
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk233"><span class="nb">simpl</span> <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (i ‚àà equivocators)
 <span class="kr">then</span> None
 <span class="kr">else</span> Some (existT i liX)) = 
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free lY
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk234"><span class="nb">destruct</span> (decide _); [<span class="bp">congruence</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (existT i liX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free lY
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk235"><span class="nb">inversion</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (existT i liX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>existT i liX = lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk236"><span class="nb">subst</span> lY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (existT i liX) = Some (existT i liX)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk237"><span class="nb">clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Free (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk238"><span class="nb">apply</span> proj1 <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk239"><span class="nb">split</span>; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i liX) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i liX)
  (remove_equivocating_state_project eqv_is s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23a"><span class="nb">cbn</span> <span class="kr">in</span> Hv |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) liX (s i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) liX
  (remove_equivocating_state_project eqv_is s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23b"><span class="nb">unfold</span> remove_equivocating_state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) liX (s i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) liX
  (lift_sub_state_to IM equivocators s eqv_is i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> lift_sub_state_to_neq; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23c"><span class="kn">Lemma</span> <span class="nf">remove_equivocating_strong_projection_transition_preservation_Some</span> <span class="nv">eqv_is</span>
  : strong_projection_transition_preservation_Some Free Free remove_equivocating_label_project (remove_equivocating_state_project eqv_is).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_preservation_Some Free
  Free remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_preservation_Some Free
  Free remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23e"><span class="nb">intros</span> lX lY Hl s om s&#39; om&#39; Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>lX, lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>remove_equivocating_label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free lY
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk23f"><span class="nb">destruct</span> lX <span class="kr">as</span> (i, liX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>remove_equivocating_label_project (existT i liX) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free lY
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk240"><span class="nb">unfold</span> remove_equivocating_label_project <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (projT1 (existT i liX) ‚àà equivocators)
 <span class="kr">then</span> None
 <span class="kr">else</span> Some (existT i liX)) = 
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free lY
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk241"><span class="nb">simpl</span> <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (i ‚àà equivocators)
 <span class="kr">then</span> None
 <span class="kr">else</span> Some (existT i liX)) = 
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free lY
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk242"><span class="nb">destruct</span> (decide _); [<span class="bp">congruence</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (existT i liX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free lY
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk243"><span class="nb">inversion</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (existT i liX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>existT i liX = lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk244"><span class="nb">subst</span> lY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (existT i liX) = Some (existT i liX)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk245"><span class="nb">clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free (existT i liX)
  (remove_equivocating_state_project eqv_is s, om) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk246"><span class="nb">cbn</span> <span class="kr">in</span> Ht |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) liX (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) liX
     (remove_equivocating_state_project eqv_is s i,
     om) <span class="kr">in</span>
 (state_update IM
    (remove_equivocating_state_project eqv_is s) i si&#39;,
 om&#39;)) =
(remove_equivocating_state_project eqv_is s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk247"><span class="nb">unfold</span> remove_equivocating_state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) liX (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) liX
     (lift_sub_state_to IM equivocators s eqv_is i,
     om) <span class="kr">in</span>
 (state_update IM
    (lift_sub_state_to IM equivocators s eqv_is) i si&#39;,
 om&#39;)) =
(lift_sub_state_to IM equivocators s&#39; eqv_is, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk248"><span class="nb">rewrite</span> lift_sub_state_to_neq <span class="bp">by</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) liX (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := vtransition (IM i) liX (s i, om) <span class="kr">in</span>
 (state_update IM
    (lift_sub_state_to IM equivocators s eqv_is) i si&#39;,
 om&#39;)) =
(lift_sub_state_to IM equivocators s&#39; eqv_is, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk249"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, _om&#39;) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM
   (lift_sub_state_to IM equivocators s eqv_is) i si&#39;,
_om&#39;) =
(lift_sub_state_to IM equivocators s&#39; eqv_is, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk24a"><span class="nb">inversion_clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM
   (lift_sub_state_to IM equivocators s eqv_is) i si&#39;,
om&#39;) =
(lift_sub_state_to IM equivocators
   (state_update IM s i si&#39;) eqv_is, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk24b"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) i si&#39; =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk24c"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  state_update IM
    (lift_sub_state_to IM equivocators s eqv_is) i si&#39;
    x =
  lift_sub_state_to IM equivocators
    (state_update IM s i si&#39;) eqv_is x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk24d"><span class="nb">intro</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) i si&#39; j =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk24e"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) i si&#39; j =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk24f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk24f"><hr></label><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) i si&#39; j =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk250">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) i si&#39; j =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk251"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚àâ equivocators</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) j si&#39; j =
lift_sub_state_to IM equivocators
  (state_update IM s j si&#39;) eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk252"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚àâ equivocators</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_state_to IM equivocators
  (state_update IM s j si&#39;) eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk253"><span class="nb">rewrite</span> lift_sub_state_to_neq <span class="bp">by</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚àâ equivocators</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = state_update IM s j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk254"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚àâ equivocators</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk255">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators s eqv_is) i si&#39; j =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk256"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators s eqv_is j =
lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk257" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk257"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop equivocators j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    eqv_is
      (dec_exist (sub_index_prop equivocators) j e)
| in_right =&gt; s j
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop equivocators j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    eqv_is
      (dec_exist (sub_index_prop equivocators) j e)
| in_right =&gt; state_update IM s i si&#39; j
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk258">case_decide; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s j = state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk259"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25a"><span class="kn">Lemma</span> <span class="nf">remove_equivocating_strong_projection_transition_consistency_None</span> <span class="nv">eqv_is</span>
  : @strong_projection_transition_consistency_None _ Free _ remove_equivocating_label_project (remove_equivocating_state_project eqv_is).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None Free
  (composite_type IM)
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None Free
  (composite_type IM)
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25c"><span class="nb">intros</span> lX Hl s om s&#39; om&#39; Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel Free</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>remove_equivocating_label_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25d"><span class="nb">destruct</span> lX <span class="kr">as</span> (i, liX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>remove_equivocating_label_project (existT i liX) =
None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25e"><span class="nb">unfold</span> remove_equivocating_label_project <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (projT1 (existT i liX) ‚àà equivocators)
 <span class="kr">then</span> None
 <span class="kr">else</span> Some (existT i liX)) = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk25f"><span class="nb">simpl</span> <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (i ‚àà equivocators)
 <span class="kr">then</span> None
 <span class="kr">else</span> Some (existT i liX)) = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk260" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk260">case_decide; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk261"><span class="nb">clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Free (existT i liX) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk262"><span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) liX (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk263"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, _om&#39;) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is s&#39; =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk264"><span class="nb">inversion_clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is
  (state_update IM s i si&#39;) =
remove_equivocating_state_project eqv_is s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk265"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  remove_equivocating_state_project eqv_is
    (state_update IM s i si&#39;) x =
  remove_equivocating_state_project eqv_is s x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk266"><span class="nb">intro</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">remove_equivocating_state_project eqv_is
  (state_update IM s i si&#39;) j =
remove_equivocating_state_project eqv_is s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk267"><span class="nb">unfold</span> remove_equivocating_state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators
  (state_update IM s i si&#39;) eqv_is j =
lift_sub_state_to IM equivocators s eqv_is j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk268"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop equivocators j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    eqv_is
      (dec_exist (sub_index_prop equivocators) j e)
| in_right =&gt; state_update IM s i si&#39; j
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop equivocators j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    eqv_is
      (dec_exist (sub_index_prop equivocators) j e)
| in_right =&gt; s j
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk269">case_decide; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM s i si&#39; j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26a"><span class="nb">apply</span> state_update_neq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j ‚â† i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26b"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators j</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>liX</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26d"><span class="kn">Lemma</span> <span class="nf">remove_equivocating_strong_full_projection_initial_state_preservation</span> <span class="nv">eqv_is</span>
  (<span class="nv">Heqv_is</span> : composite_initial_state_prop (sub_IM IM equivocators) eqv_is)
  : strong_full_projection_initial_state_preservation Free Free (remove_equivocating_state_project eqv_is).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation Free
  Free (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation Free
  Free (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk26f"><span class="nb">intros</span> s Hs i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (remove_equivocating_state_project eqv_is s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk270"><span class="nb">unfold</span> remove_equivocating_state_project, lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  <span class="kr">match</span> decide (sub_index_prop equivocators i) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt;
      eqv_is
        (dec_exist (sub_index_prop equivocators) i e)
  | in_right =&gt; s i
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk271"><span class="nb">destruct</span> (decide _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (eqv_is
     (dec_exist (sub_index_prop equivocators) i s0))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk272" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk272"><hr></label><div class="goal-conclusion">vinitial_state_prop (IM i) (s i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk273">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i)
  (eqv_is
     (dec_exist (sub_index_prop equivocators) i s0))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Heqv_is (dec_exist _ i s0)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk274">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Free s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop equivocators i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (Hs i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Given any valid trace for the composition of all nodes and an initial state
for the composition of just the equivocators, the trace obtained by resetting
the components corresponding to the equivocators to those of the given initial
state and removing the transitions corresponding to the equivocators is
still a valid trace.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk275"><span class="kn">Lemma</span> <span class="nf">remove_equivocating_transitions_preloaded_projection</span> <span class="nv">eqv_is</span>
  (<span class="nv">Heqv_is</span> : composite_initial_state_prop (sub_IM IM equivocators) eqv_is)
  : VLSM_projection PreFree PreFree remove_equivocating_label_project (remove_equivocating_state_project eqv_is).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection PreFree PreFree
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk276"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection PreFree PreFree
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk277"><span class="nb">apply</span> basic_VLSM_projection_preloaded.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation Free Free
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk278" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk278"><hr></label><div class="goal-conclusion">strong_projection_transition_preservation_Some Free
  Free remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk279" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk279"><hr></label><div class="goal-conclusion">strong_projection_transition_consistency_None Free
  (type Free) remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk27a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk27a"><hr></label><div class="goal-conclusion">strong_full_projection_initial_state_preservation Free
  Free (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk27b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation Free Free
  remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> remove_equivocating_strong_projection_valid_preservation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk27c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_preservation_Some Free
  Free remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> remove_equivocating_strong_projection_transition_preservation_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk27d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None Free
  (type Free) remove_equivocating_label_project
  (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> remove_equivocating_strong_projection_transition_consistency_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk27e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation Free
  Free (remove_equivocating_state_project eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk27f"><span class="nb">apply</span> remove_equivocating_strong_full_projection_initial_state_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop
  (sub_IM IM equivocators) eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop (sub_IM IM equivocators)
  eqv_is</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk280"><span class="kn">Lemma</span> <span class="nf">preloaded_lift_sub_state_to_initial_state</span>
  : weak_full_projection_initial_state_preservation PreSubFree PreFree (lift_sub_state_to IM equivocators base_s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_state_preservation
  PreSubFree PreFree
  (lift_sub_state_to IM equivocators base_s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk281"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_state_preservation
  PreSubFree PreFree
  (lift_sub_state_to IM equivocators base_s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk282"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hbase_s <span class="kr">as</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to PreFree <span class="kr">is</span> base_s
    tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_state_preservation
  PreSubFree PreFree
  (lift_sub_state_to IM equivocators base_s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk283"><span class="nb">destruct</span> Htr <span class="kr">as</span> [<span class="kr">is</span> [tr Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> base_s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_state_preservation
  PreSubFree PreFree
  (lift_sub_state_to IM equivocators base_s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk284"><span class="nb">intros</span> eqv_is Heqv_is.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree <span class="kr">is</span> base_s tr</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop PreSubFree eqv_is</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk285"><span class="nb">apply</span> (VLSM_projection_finite_valid_trace_init_to (remove_equivocating_transitions_preloaded_projection _ Heqv_is)) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop PreSubFree eqv_is</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreFree
  (remove_equivocating_state_project eqv_is <span class="kr">is</span>)
  (remove_equivocating_state_project eqv_is
     base_s)
  (VLSM_projection_trace_project
     (remove_equivocating_transitions_preloaded_projection
        eqv_is Heqv_is) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk286"><span class="nb">apply</span> valid_trace_last_pstate <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>eqv_is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heqv_is</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop PreSubFree eqv_is</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (remove_equivocating_state_project eqv_is
     base_s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s eqv_is)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk287"><span class="kn">Lemma</span> <span class="nf">lift_sub_to_valid</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span>: composite_valid (sub_IM IM equivocators) l (s, om))
  : composite_valid IM (lift_sub_label IM equivocators l) (lift_sub_state_to IM equivocators base_s s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM equivocators)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid (sub_IM IM equivocators) l
  (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk288"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM equivocators)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid (sub_IM IM equivocators) l
  (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk289"><span class="nb">revert</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM equivocators)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM equivocators) l (s, om)
‚Üí composite_valid IM
    (lift_sub_label IM equivocators l)
    (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28a"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM equivocators i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM equivocators) (existT i li)
  (s, om)
‚Üí composite_valid IM
    (lift_sub_label IM equivocators (existT i li))
    (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28b">destruct_dec_sig i j Hj Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM equivocators i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>i = dec_exist (sub_index_prop equivocators) j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM equivocators) (existT i li)
  (s, om)
‚Üí composite_valid IM
    (lift_sub_label IM equivocators (existT i li))
    (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28c"><span class="nb">subst</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM equivocators)
  (existT
     (dec_exist (sub_index_prop equivocators) j Hj) li)
  (s, om)
‚Üí composite_valid IM
    (lift_sub_label IM equivocators
       (existT
          (dec_exist (sub_index_prop equivocators) j
             Hj) li))
    (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j Hj))
  li
  (s (dec_exist (sub_index_prop equivocators) j Hj),
  om)
‚Üí vvalid (IM j) li
    (lift_sub_state_to IM equivocators base_s s j, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28e"><span class="nb">unfold</span> equivocating_IM, sub_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid
  (IM
     (` (dec_exist (sub_index_prop equivocators) j Hj)))
  li
  (s (dec_exist (sub_index_prop equivocators) j Hj),
  om)
‚Üí vvalid (IM j) li
    (lift_sub_state_to IM equivocators base_s s j, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk28f"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM j) li
  (s (dec_exist (sub_index_prop equivocators) j Hj),
  om)
‚Üí vvalid (IM j) li
    (lift_sub_state_to IM equivocators base_s s j, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk290"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := Hj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM j) li
  (s (dec_exist (sub_index_prop equivocators) j Hj),
  om)
‚Üí vvalid (IM j) li
    (s (dec_exist (sub_index_prop equivocators) j Hj),
    om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk291"><span class="kn">Lemma</span> <span class="nf">lift_sub_to_transition</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span>: composite_transition (sub_IM IM equivocators) l (s, om) = (s&#39;, om&#39;))
  : composite_transition IM
    (lift_sub_label IM equivocators l) (lift_sub_state_to IM equivocators base_s s, om) =
    (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM equivocators)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM equivocators) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM
  (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk292" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk292"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM equivocators)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM equivocators) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM
  (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk293"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM equivocators i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM equivocators)
  (existT i li) (s, om) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM
  (lift_sub_label IM equivocators (existT i li))
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk294">destruct_dec_sig i j Hj Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM equivocators i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM equivocators)
  (existT i li) (s, om) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>i = dec_exist (sub_index_prop equivocators) j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM
  (lift_sub_label IM equivocators (existT i li))
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk295"><span class="nb">subst</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM equivocators)
  (existT
     (dec_exist (sub_index_prop equivocators) j
        Hj) li) (s, om) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition IM
  (lift_sub_label IM equivocators
     (existT
        (dec_exist (sub_index_prop equivocators) j Hj)
        li))
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk296"><span class="nb">revert</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM equivocators)
  (existT
     (dec_exist (sub_index_prop equivocators) j Hj) li)
  (s, om) = (s&#39;, om&#39;)
‚Üí composite_transition IM
    (lift_sub_label IM equivocators
       (existT
          (dec_exist (sub_index_prop equivocators) j
             Hj) li))
    (lift_sub_state_to IM equivocators base_s s, om) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk297"><span class="nb">unfold</span> vtransition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM equivocators)
  (existT
     (dec_exist (sub_index_prop equivocators) j Hj) li)
  (s, om) = (s&#39;, om&#39;)
‚Üí composite_transition IM
    (lift_sub_label IM equivocators
       (existT
          (dec_exist (sub_index_prop equivocators) j
             Hj) li))
    (lift_sub_state_to IM equivocators base_s s, om) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk298"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition
     (sub_IM IM equivocators
        (dec_exist (sub_index_prop equivocators) j Hj))
     li
     (s (dec_exist (sub_index_prop equivocators) j Hj),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM equivocators) s
    (dec_exist (sub_index_prop equivocators) j Hj) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM j) li
       (lift_sub_state_to IM equivocators base_s s j,
       om) <span class="kr">in</span>
   (state_update IM
      (lift_sub_state_to IM equivocators base_s s) j
      si&#39;, om&#39;)) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk299"><span class="nb">unfold</span> vtransition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop equivocators) j Hj),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM equivocators) s
    (dec_exist (sub_index_prop equivocators) j Hj) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (lift_sub_state_to IM equivocators base_s s j,
       om) <span class="kr">in</span>
   (state_update IM
      (lift_sub_state_to IM equivocators base_s s) j
      si&#39;, om&#39;)) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop equivocators) j Hj),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM equivocators) s
    (dec_exist (sub_index_prop equivocators) j Hj) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (lift_sub_state_to IM equivocators base_s s j,
       om) <span class="kr">in</span>
   (state_update IM
      (lift_sub_state_to IM equivocators base_s s) j
      si&#39;, om&#39;)) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29b"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := Hj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop equivocators) j Hj),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM equivocators) s
    (dec_exist (sub_index_prop equivocators) j Hj) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (s
          (dec_exist (sub_index_prop equivocators) j
             Hj), om) <span class="kr">in</span>
   (state_update IM
      (lift_sub_state_to IM equivocators base_s s) j
      si&#39;, om&#39;)) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29c"><span class="nb">destruct</span> (transition _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update (sub_IM IM equivocators) s
   (dec_exist (sub_index_prop equivocators) j Hj) si&#39;,
_om&#39;) = (s&#39;, om&#39;)
‚Üí (state_update IM
     (lift_sub_state_to IM equivocators base_s s) j
     si&#39;, _om&#39;) =
  (lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29d"><span class="nb">inversion_clear</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM
   (lift_sub_state_to IM equivocators base_s s) j si&#39;,
om&#39;) =
(lift_sub_state_to IM equivocators base_s
   (state_update (sub_IM IM equivocators) s
      (dec_exist (sub_index_prop equivocators) j Hj)
      si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29e"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk29f"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  state_update IM
    (lift_sub_state_to IM equivocators base_s s) j si&#39;
    x =
  lift_sub_state_to IM equivocators base_s
    (state_update (sub_IM IM equivocators) s
       (dec_exist (sub_index_prop equivocators) j Hj)
       si&#39;) x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a0"><span class="nb">intro</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a1"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2a2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2a2"><hr></label><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a4"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; j =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a5"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := Hj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; j =
state_update (sub_IM IM equivocators) s
  (dec_exist (sub_index_prop equivocators) j Hj) si&#39;
  (dec_exist (sub_index_prop equivocators) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a6"><span class="nb">rewrite</span>! state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM equivocators base_s s) j si&#39; i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a8"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators base_s s i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2a9"><span class="nb">destruct</span> (decide (i ‚àà equivocators)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators base_s s i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2aa"><hr></label><div class="goal-conclusion">lift_sub_state_to IM equivocators base_s s i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ab">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators base_s s i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ac"><span class="nb">rewrite</span> !lift_sub_state_to_eq <span class="kr">with</span> (Hi := e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop equivocators) i e) =
state_update (sub_IM IM equivocators) s
  (dec_exist (sub_index_prop equivocators) j Hj) si&#39;
  (dec_exist (sub_index_prop equivocators) i e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ad"><span class="nb">rewrite</span> state_update_neq; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist (sub_index_prop equivocators) i e
‚â† dec_exist (sub_index_prop equivocators) j Hj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ae"><span class="nb">intro</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>dec_exist (sub_index_prop equivocators) i e =
dec_exist (sub_index_prop equivocators) j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2af"><span class="nb">apply</span> dsig_eq <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>`
(dec_exist (sub_index_prop equivocators) i e) =
`
(dec_exist (sub_index_prop equivocators) j
   Hj)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators base_s s i =
lift_sub_state_to IM equivocators base_s
  (state_update (sub_IM IM equivocators) s
     (dec_exist (sub_index_prop equivocators) j Hj)
     si&#39;) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b1"><span class="nb">rewrite</span> !lift_sub_state_to_neq <span class="bp">by</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM equivocators)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">base_s i = base_s i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Given any valid state for the composition of all nodes and a valid trace
for the composition of just the equivocators, the trace obtained by completing
the state-components from the trace with the components from the given
valid state is a valid trace for the composition of all nodes.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b2"><span class="kn">Lemma</span> <span class="nf">PreSubFree_PreFree_weak_full_projection</span>
  : VLSM_weak_full_projection PreSubFree PreFree (lift_sub_label IM equivocators) (lift_sub_state_to IM equivocators base_s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection PreSubFree PreFree
  (lift_sub_label IM equivocators)
  (lift_sub_state_to IM equivocators base_s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection PreSubFree PreFree
  (lift_sub_label IM equivocators)
  (lift_sub_state_to IM equivocators base_s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b4"><span class="nb">apply</span> basic_VLSM_weak_full_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreSubFree l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop PreFree om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid PreFree (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2b5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreSubFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2b5"><hr></label><div class="goal-conclusion">vtransition PreFree (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2b6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop PreSubFree s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2b6"><hr></label><div class="goal-conclusion">valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2b7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreSubFree l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</span></span></span><br><span><var>HmX</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop PreSubFree m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2b7"><hr></label><div class="goal-conclusion">valid_message_prop PreFree m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreSubFree l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop PreFree om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid PreFree (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2b9"><span class="nb">split</span>; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreSubFree l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop PreFree om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ba"><span class="nb">apply</span> lift_sub_to_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreSubFree l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop PreFree om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM equivocators) l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2bb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2bb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreSubFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition PreFree (lift_sub_label IM equivocators l)
  (lift_sub_state_to IM equivocators base_s s, om) =
(lift_sub_state_to IM equivocators base_s s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2bc"><span class="nb">apply</span> lift_sub_to_transition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreSubFree l 
  (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM equivocators) l
  (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2bd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop PreSubFree s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> preloaded_lift_sub_state_to_initial_state; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2be">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreSubFree l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree
  (lift_sub_state_to IM equivocators base_s s)</span></span></span><br><span><var>HmX</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop PreSubFree m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop PreFree m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If the composition constraint only depends on the projection sub-state,
then valid traces of the <span class="inlinecode"><span class="id" title="var">induced_sub_projection</span></span> can be lifted to valid traces
of the constrained composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2bf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2bf"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_lift</span>
  (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hconstraint_consistency</span> :
    <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>,
      composite_state_sub_projection IM equivocators s1 = composite_state_sub_projection IM equivocators s2 -&gt;
      <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">om</span>, constraint l (s1, om) -&gt; constraint l (s2, om)
    )
  : VLSM_full_projection
    (induced_sub_projection IM equivocators constraint)
    (composite_vlsm IM constraint)
    (lift_sub_label IM equivocators)
    (lift_sub_state IM equivocators).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (induced_sub_projection IM equivocators constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (induced_sub_projection IM equivocators constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c1"><span class="nb">apply</span> basic_VLSM_full_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  (induced_sub_projection IM equivocators
     constraint) l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2c2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (induced_sub_projection IM equivocators
     constraint) l (s, om) 
  (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2c2"><hr></label><div class="goal-conclusion">vtransition (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om) =
(lift_sub_state IM equivocators s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2c3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (induced_sub_projection IM equivocators
     constraint) s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2c3"><hr></label><div class="goal-conclusion">vinitial_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2c4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  (induced_sub_projection IM equivocators
     constraint) l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HmX</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (induced_sub_projection IM equivocators
     constraint) m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2c4"><hr></label><div class="goal-conclusion">valid_message_prop (composite_vlsm IM constraint) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  (induced_sub_projection IM equivocators
     constraint) l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c6"><span class="nb">destruct</span> Hv <span class="kr">as</span> [_ [_ [[i li] [sX [Heql [Heqs [HsX [Hom [Hv Hc]]]]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option IM
  equivocators (existT i li) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM (existT i li) (sX, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c7"><span class="nb">cbn</span> <span class="kr">in</span> Hv, Hc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option IM
  equivocators (existT i li) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c8"><span class="nb">unfold</span> composite_label_sub_projection_option <span class="kr">in</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  decide (projT1 (existT i li) ‚àà equivocators)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection IM
         equivocators (existT i li) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2c9"><span class="nb">simpl</span> <span class="kr">in</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (i ‚àà equivocators) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection IM
         equivocators (existT i li) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ca">case_decide; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection IM
     equivocators (existT i li) H) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2cb"><span class="nb">inversion</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection IM
     equivocators (existT i li) H) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection IM equivocators
  (existT i li) H = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators
     (composite_label_sub_projection IM equivocators
        (existT i li) H))
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2cc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2cc"><span class="nb">subst</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection IM
     equivocators (existT i li) H) =
Some
  (composite_label_sub_projection IM
     equivocators (existT i li) H)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators
     (composite_label_sub_projection IM equivocators
        (existT i li) H))
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2cd"><span class="nb">clear</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators
     (composite_label_sub_projection IM equivocators
        (existT i li) H))
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ce"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_composite_valid IM constraint
  (lift_sub_label IM equivocators
     (composite_label_sub_projection IM equivocators
        (existT i li) H))
  (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2cf"><span class="nb">unfold</span> constrained_composite_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM
  (lift_sub_label IM equivocators
     (composite_label_sub_projection IM equivocators
        (existT i li) H))
  (lift_sub_state IM equivocators s, om)
‚àß constraint
    (lift_sub_label IM equivocators
       (composite_label_sub_projection IM equivocators
          (existT i li) H))
    (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d0"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li
  (lift_sub_state IM equivocators s i, om)
‚àß constraint
    (lift_sub_label IM equivocators
       (composite_label_sub_projection IM equivocators
          (existT i li) H))
    (lift_sub_state IM equivocators s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d1"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s i, om)
‚àß constraint
    (lift_sub_label IM equivocators
       (composite_label_sub_projection IM equivocators
          (existT i li) H))
    (lift_sub_state_to IM equivocators
       (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d2"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li
  (s (dec_exist (sub_index_prop equivocators) i H),
  om)
‚àß constraint
    (lift_sub_label IM equivocators
       (composite_label_sub_projection IM equivocators
          (existT i li) H))
    (lift_sub_state_to IM equivocators
       (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d3"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators
     (composite_state_sub_projection IM
        equivocators sX))</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li
  (composite_state_sub_projection IM equivocators sX
     (dec_exist (sub_index_prop equivocators) i H),
  om)
‚àß constraint
    (lift_sub_label IM equivocators
       (composite_label_sub_projection IM equivocators
          (existT i li) H))
    (lift_sub_state_to IM equivocators
       (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
       (composite_state_sub_projection IM equivocators
          sX), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d4"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i li) (sX, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators
     (composite_state_sub_projection IM
        equivocators sX))</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constraint
  (lift_sub_label IM equivocators
     (composite_label_sub_projection IM equivocators
        (existT i li) H))
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
     (composite_state_sub_projection IM equivocators
        sX), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d5"><span class="nb">revert</span> Hc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators
     (composite_state_sub_projection IM
        equivocators sX))</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constraint (existT i li) (sX, om)
‚Üí constraint
    (lift_sub_label IM equivocators
       (composite_label_sub_projection IM equivocators
          (existT i li) H))
    (lift_sub_state_to IM equivocators
       (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
       (composite_state_sub_projection IM equivocators
          sX), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d6"><span class="nb">apply</span> Hconstraint_consistency.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators
     (composite_state_sub_projection IM
        equivocators sX))</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM equivocators sX =
composite_state_sub_projection IM equivocators
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
     (composite_state_sub_projection IM equivocators
        sX))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d7"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li (sX i, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators
     (composite_state_sub_projection IM
        equivocators sX))</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM equivocators
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
     (composite_state_sub_projection IM equivocators
        sX)) =
composite_state_sub_projection IM equivocators sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_state_sub_projection_lift_to.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (induced_sub_projection IM equivocators
     constraint) l (s, om) 
  (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om) =
(lift_sub_state IM equivocators s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2d9"><span class="nb">apply</span> proj2 <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators l)
  (lift_sub_state IM equivocators s, om) =
(lift_sub_state IM equivocators s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2da"><span class="nb">revert</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition l (s, om) = (s&#39;, om&#39;)
‚Üí vtransition (composite_vlsm IM constraint)
    (lift_sub_label IM equivocators l)
    (lift_sub_state IM equivocators s, om) =
  (lift_sub_state IM equivocators s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2db"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM (` (projT1 l))) (projT2 l)
       (lift_sub_state IM equivocators s
          (` (projT1 l)), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM equivocators s)
      (` (projT1 l)) si&#39;, om&#39;) <span class="kr">in</span>
 (composite_state_sub_projection IM equivocators s&#39;X,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM (` (projT1 l))) (projT2 l)
       (lift_sub_state IM equivocators s
          (` (projT1 l)), om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM equivocators s)
      (` (projT1 l)) si&#39;, om&#39;)) =
  (lift_sub_state IM equivocators s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2dc"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(composite_state_sub_projection IM equivocators
   (state_update IM (lift_sub_state IM equivocators s)
      (` (projT1 l)) si&#39;), _om&#39;) = (s&#39;, om&#39;)
‚Üí (state_update IM (lift_sub_state IM equivocators s)
     (` (projT1 l)) si&#39;, _om&#39;) =
  (lift_sub_state IM equivocators s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2dd"><span class="nb">inversion</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(composite_state_sub_projection IM equivocators
   (state_update IM
      (lift_sub_state IM equivocators s)
      (` (projT1 l)) si&#39;), _om&#39;) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM equivocators
  (state_update IM
     (lift_sub_state IM equivocators s)
     (` (projT1 l)) si&#39;) = s&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>_om&#39; = om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (lift_sub_state IM equivocators s)
   (` (projT1 l)) si&#39;, om&#39;) =
(lift_sub_state IM equivocators
   (composite_state_sub_projection IM equivocators
      (state_update IM
         (lift_sub_state IM equivocators s)
         (` (projT1 l)) si&#39;)), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2de"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(composite_state_sub_projection IM equivocators
   (state_update IM
      (lift_sub_state IM equivocators s)
      (` (projT1 l)) si&#39;), om&#39;) =
(composite_state_sub_projection IM equivocators
   (state_update IM
      (lift_sub_state IM equivocators s)
      (` (projT1 l)) si&#39;), om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (lift_sub_state IM equivocators s)
   (` (projT1 l)) si&#39;, om&#39;) =
(lift_sub_state IM equivocators
   (composite_state_sub_projection IM equivocators
      (state_update IM
         (lift_sub_state IM equivocators s)
         (` (projT1 l)) si&#39;)), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2df"><span class="nb">clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (lift_sub_state IM equivocators s)
   (` (projT1 l)) si&#39;, om&#39;) =
(lift_sub_state IM equivocators
   (composite_state_sub_projection IM equivocators
      (state_update IM
         (lift_sub_state IM equivocators s)
         (` (projT1 l)) si&#39;)), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e0"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s)
  (` (projT1 l)) si&#39; =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s)
        (` (projT1 l)) si&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e1">extensionality i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s)
  (` (projT1 l)) si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s)
        (` (projT1 l)) si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e2"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_j, lj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM equivocators sub_j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s)
  (` (projT1 (existT sub_j lj))) si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s)
        (` (projT1 (existT sub_j lj))) si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e3">destruct_dec_sig sub_j j Hj Heqsub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM equivocators sub_j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>Heqsub_j</var><span class="hyp-type"><b>: </b><span>sub_j =
dec_exist (sub_index_prop equivocators) j
  Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s)
  (` (projT1 (existT sub_j lj))) si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s)
        (` (projT1 (existT sub_j lj))) si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e4"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s)
  (`
   (projT1
      (existT
         (dec_exist (sub_index_prop equivocators) j Hj)
         lj))) si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s)
        (`
         (projT1
            (existT
               (dec_exist
                  (sub_index_prop equivocators) j Hj)
               lj))) si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e5"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s) j
  si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e6"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s) j
  si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2e7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2e7"><hr></label><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s) j
  si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s) j
  si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2e9"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s) j
  si&#39; j =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ea" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ea"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2eb"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_state_to IM equivocators
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state_to IM equivocators
           (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39;)) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ec" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ec"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := Hj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
composite_state_sub_projection IM equivocators
  (state_update IM
     (lift_sub_state_to IM equivocators
        (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39;)
  (dec_exist (sub_index_prop equivocators) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ed" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ed"><span class="nb">unfold</span> composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
state_update IM
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39;
  (` (dec_exist (sub_index_prop equivocators) j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ee" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ee"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
state_update IM
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ef" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ef"><span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (lift_sub_state IM equivocators s) j
  si&#39; i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f1"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state IM equivocators s i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f2"><span class="nb">destruct</span> (decide (i ‚àà equivocators)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state IM equivocators s i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk2f3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk2f3"><hr></label><div class="goal-conclusion">lift_sub_state IM equivocators s i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state IM equivocators s i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f5"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM equivocators
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s i =
lift_sub_state_to IM equivocators
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n)))
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state_to IM equivocators
           (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f6"><span class="nb">rewrite</span> !lift_sub_state_to_eq <span class="kr">with</span> (Hi := e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop equivocators) i e) =
composite_state_sub_projection IM equivocators
  (state_update IM
     (lift_sub_state_to IM equivocators
        (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39;)
  (dec_exist (sub_index_prop equivocators) i e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f7"><span class="nb">unfold</span> composite_state_sub_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop equivocators) i e) =
state_update IM
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39;
  (` (dec_exist (sub_index_prop equivocators) i e))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f8"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop equivocators) i e) =
state_update IM
  (lift_sub_state_to IM equivocators
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s) j si&#39; i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2f9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2f9"><span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> <span class="bp">congruence</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop equivocators) i e) =
lift_sub_state_to IM equivocators
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2fa"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi := e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop equivocators) i e) =
s (dec_exist (sub_index_prop equivocators) i e)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2fb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2fb">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state IM equivocators s i =
lift_sub_state IM equivocators
  (composite_state_sub_projection IM equivocators
     (state_update IM
        (lift_sub_state IM equivocators s) j si&#39;)) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2fc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2fc"><span class="nb">unfold</span> lift_sub_state, lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators j</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) j
        Hj))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i ‚àâ equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop equivocators i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    s (dec_exist (sub_index_prop equivocators) i e)
| in_right =&gt; ` (vs0 (IM i))
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop equivocators i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    composite_state_sub_projection IM equivocators
      (state_update IM
         (<span class="kr">Œª</span> <span class="nv">i</span> : index,
            <span class="kr">match</span>
              decide (sub_index_prop equivocators i)
            <span class="kr">with</span>
            | <span class="nb">left</span> e0 =&gt;
                s
                  (dec_exist
                     (sub_index_prop equivocators) i
                     e0)
            | in_right =&gt; ` (vs0 (IM i))
            <span class="kr">end</span>) j si&#39;)
      (dec_exist (sub_index_prop equivocators) i e)
| in_right =&gt; ` (vs0 (IM i))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (decide _); [<span class="bp">contradiction</span>|<span class="bp">reflexivity</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2fd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (induced_sub_projection IM equivocators
     constraint) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2fe" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2fe"><span class="nb">apply</span> (lift_sub_state_initial IM).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (induced_sub_projection IM equivocators
     constraint) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop (sub_IM IM equivocators)
  s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk2ff" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk2ff"><span class="nb">destruct</span> H <span class="kr">as</span> [sX [&lt;- HsX]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (composite_vlsm IM constraint) sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop (sub_IM IM equivocators)
  (composite_state_sub_projection IM equivocators sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk300"><span class="nb">intro</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (composite_vlsm IM constraint) sX</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM IM equivocators sub_i)
  (composite_state_sub_projection IM equivocators sX
     sub_i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk301" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk301">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (composite_vlsm IM constraint) sX</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index equivocators</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop equivocators) i
  Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM IM equivocators sub_i)
  (composite_state_sub_projection IM equivocators sX
     sub_i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk302" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk302"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (composite_vlsm IM constraint) sX</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop equivocators i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop
  (sub_IM IM equivocators
     (dec_exist (sub_index_prop equivocators) i Hi))
  (composite_state_sub_projection IM equivocators sX
     (dec_exist (sub_index_prop equivocators) i Hi))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> HsX.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk303" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk303">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hconstraint_consistency</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_state_sub_projection
    IM equivocators s1 =
  composite_state_sub_projection
    IM equivocators s2
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l</span> : composite_label
             IM) (<span class="nv">om</span> : 
                  option
                    message),
      constraint l (s1, om)
      ‚Üí constraint l
          (s2, om)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid
  (induced_sub_projection IM equivocators
     constraint) l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  (lift_sub_state IM equivocators s)</span></span></span><br><span><var>HmX</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (induced_sub_projection IM equivocators
     constraint) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (composite_vlsm IM constraint) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
A specialization of <span class="inlinecode"><span class="id" title="var">basic_projection_induces_friendliness</span></span> for
<span class="inlinecode"><span class="id" title="var">induced_sub_projection</span></span>s.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk304"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_friendliness</span>
  (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hlift_proj</span> : VLSM_full_projection
    (induced_sub_projection IM equivocators constraint)
    (composite_vlsm IM constraint)
    (lift_sub_label IM equivocators)
    (lift_sub_state IM equivocators))
  : projection_friendly_prop (induced_sub_projection_is_projection IM equivocators constraint).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_friendly_prop
  (induced_sub_projection_is_projection IM
     equivocators constraint)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk305" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk305"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_friendly_prop
  (induced_sub_projection_is_projection IM
     equivocators constraint)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk306"><span class="nb">eapply</span> (basic_projection_induces_friendliness (composite_vlsm IM constraint)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (projection_induced_vlsm
     (composite_vlsm IM constraint)
     (composite_type (sub_IM IM equivocators))
     (composite_label_sub_projection_option IM
        equivocators)
     (composite_state_sub_projection IM equivocators)
     (lift_sub_label IM equivocators)
     (lift_sub_state IM equivocators))
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk307" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk307"><span class="kn">Unshelve</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_label_sub_projection_option IM
     equivocators)
  (composite_state_sub_projection IM equivocators)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk308" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk308"><hr></label><div class="goal-conclusion">induced_projection_label_lift_prop
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_label_sub_projection_option IM
     equivocators) (lift_sub_label IM equivocators)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk309" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk309"><hr></label><div class="goal-conclusion">induced_projection_state_lift_prop
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_state_sub_projection IM equivocators)
  (lift_sub_state IM equivocators)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk30a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk30a"><hr></label><div class="goal-conclusion">induced_projection_transition_consistency_Some
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_label_sub_projection_option IM
     equivocators)
  (composite_state_sub_projection IM equivocators)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk30b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk30b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_label_sub_projection_option IM
     equivocators)
  (composite_state_sub_projection IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> induced_sub_projection_transition_consistency_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk30c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk30c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_label_sub_projection_option IM
     equivocators) (lift_sub_label IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_label_sub_projection_option_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk30d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk30d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_state_lift_prop
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_state_sub_projection IM equivocators)
  (lift_sub_state IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_state_sub_projection_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk30e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>equivocators</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocating_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM equivocators</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocators
‚Üí VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm equivocating_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>base_s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hbase_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreFree base_s</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hlift_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (induced_sub_projection IM equivocators
     constraint)
  (composite_vlsm IM constraint)
  (lift_sub_label IM equivocators)
  (lift_sub_state IM equivocators)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_transition_consistency_Some
  (composite_vlsm IM constraint)
  (composite_type (sub_IM IM equivocators))
  (composite_label_sub_projection_option IM
     equivocators)
  (composite_state_sub_projection IM equivocators)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> induced_sub_projection_transition_consistency_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">lift_sub_state_to_preloaded</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sub_composition_incl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  (<span class="nv">indices1</span> <span class="nv">indices2</span> : list index)
  (<span class="nv">Hincl</span> : indices1 ‚äÜ indices2)
  (<span class="nv">sub_IM1</span> := sub_IM IM indices1)
  (<span class="nv">sub_IM2</span> := sub_IM IM indices2)
  (<span class="nv">sub_index1_prop_dec</span> : <span class="kr">forall</span> <span class="nv">i</span>, Decision (sub_index_prop indices1 i) := <span class="kr">fun</span> <span class="nv">i</span> =&gt; sub_index_prop_dec indices1 i)
  (<span class="nv">sub_index2_prop_dec</span> : <span class="kr">forall</span> <span class="nv">i</span>, Decision (sub_index_prop indices2 i) := <span class="kr">fun</span> <span class="nv">i</span> =&gt; sub_index_prop_dec indices2 i)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_sub_incl_state</span>
  (<span class="nv">s</span> : composite_state sub_IM1)
  : composite_state sub_IM2
  := <span class="kr">fun</span> <span class="nv">sub_i2</span> =&gt;
    <span class="kr">let</span> <span class="nv">i</span> := proj1_sig sub_i2 <span class="kr">in</span>
    <span class="kr">match</span> @decide  (sub_index_prop indices1 i) (sub_index1_prop_dec i) <span class="kr">with</span>
    | <span class="nb">left</span> e =&gt;  s (dec_exist _ i e)
    | _ =&gt; proj1_sig (vs0 (IM i))
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk30f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk30f"><span class="kn">Lemma</span> <span class="nf">lift_sub_incl_state_initial</span>
  (<span class="nv">s</span> : composite_state sub_IM1)
  (<span class="nv">Hs</span> : composite_initial_state_prop sub_IM1 s)
  : composite_initial_state_prop sub_IM2 (lift_sub_incl_state s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_IM2
  (lift_sub_incl_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk310" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk310"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_IM2
  (lift_sub_incl_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk311"><span class="nb">intros</span> [i Hi].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  (lift_sub_incl_state s (i ‚Üæ Hi))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk312" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk312"><span class="nb">unfold</span> lift_sub_incl_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  <span class="kr">match</span>
    decide (sub_index_prop indices1 (` (i ‚Üæ Hi)))
  <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt;
      s
        (dec_exist (sub_index_prop indices1)
           (` (i ‚Üæ Hi)) e)
  | in_right =&gt; ` (vs0 (IM (` (i ‚Üæ Hi))))
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk313" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk313">case_decide.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 (` (i ‚Üæ Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  (s
     (dec_exist (sub_index_prop indices1) (` (i ‚Üæ Hi))
        H))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk314" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop indices1 (` (i ‚Üæ Hi))</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk314"><hr></label><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  (` (vs0 (IM (` (i ‚Üæ Hi)))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk315" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk315">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 (` (i ‚Üæ Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  (s
     (dec_exist (sub_index_prop indices1) (` (i ‚Üæ Hi))
        H))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk316"><span class="nb">specialize</span> (Hs (dec_exist _ i H)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 (` (i ‚Üæ Hi))</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (sub_IM1
     (dec_exist (sub_index_prop indices1) i H))
  (s (dec_exist (sub_index_prop indices1) i H))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  (s
     (dec_exist (sub_index_prop indices1) (` (i ‚Üæ Hi))
        H))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk317" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk317">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop indices1 (` (i ‚Üæ Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi))
  (` (vs0 (IM (` (i ‚Üæ Hi)))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk318"><span class="nb">destruct</span> (vs0 _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state sub_IM1</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop sub_IM1 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices2 i)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>¬¨ sub_index_prop indices1 (` (i ‚Üæ Hi))</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i0</var><span class="hyp-type"><b>: </b><span>initial_state_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (sub_IM2 (i ‚Üæ Hi)) (` (x ‚Üæ i0))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk319" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk319"><span class="kn">Lemma</span> <span class="nf">lift_sub_incl_message_initial</span>
  (<span class="nv">m</span> : message)
  (<span class="nv">Hm</span> : composite_initial_message_prop sub_IM1 m)
  : composite_initial_message_prop sub_IM2 m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>composite_initial_message_prop sub_IM1 m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM2 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>composite_initial_message_prop sub_IM1 m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM2 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31b"><span class="nb">destruct</span> Hm <span class="kr">as</span> [[i Hi] Hm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices1 i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (sub_IM1 (i ‚Üæ Hi)),
  ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM2 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31c"><span class="nb">unfold</span> sub_IM1, sub_IM <span class="kr">in</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices1 i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM (` (i ‚Üæ Hi))),
  ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM2 m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31d"><span class="nb">simpl</span> <span class="kr">in</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop indices1 i)</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM2 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31e"><span class="nb">apply</span> bool_decide_spec, Hincl <span class="kr">in</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà indices2</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM2 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk31f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk31f"><span class="kr">exists</span> (<span class="nv">dexist</span> <span class="nv">i</span> <span class="nv">Hi</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà indices2</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (sub_IM2 (dexist i Hi)),
  ` mi = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_sub_incl_label</span>
  (<span class="nv">l</span> : composite_label sub_IM1)
  : composite_label sub_IM2
  :=
  <span class="kr">let</span> <span class="nv">sub1_i</span> := projT1 l <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">i</span> := dec_proj1_sig sub1_i <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">H1i</span> := dec_proj2_sig sub1_i <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">H2i</span> := Hincl _ H1i <span class="kr">in</span>
  <span class="kr">let</span>  <span class="nv">sub2_i</span> := @dec_exist _ _ sub_index2_prop_dec i H2i <span class="kr">in</span>
  existT sub2_i (projT2 l).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk320" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk320"><span class="kn">Lemma</span> <span class="nf">lift_sub_incl_valid</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span>: composite_valid (sub_IM IM indices1) l (s, om))
  : composite_valid (sub_IM IM indices2) (lift_sub_incl_label l) (lift_sub_incl_state s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM indices1)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid (sub_IM IM indices1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk321" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk321"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM indices1)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid (sub_IM IM indices1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk322" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk322"><span class="nb">revert</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM indices1)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices1) l (s, om)
‚Üí composite_valid (sub_IM IM indices2)
    (lift_sub_incl_label l)
    (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk323" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk323"><span class="nb">destruct</span> l <span class="kr">as</span> (sub1_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices1)
  (existT sub1_i li) (s, om)
‚Üí composite_valid (sub_IM IM indices2)
    (lift_sub_incl_label (existT sub1_i li))
    (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk324" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk324">destruct_dec_sig sub1_i i H Heqsub1_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices1)
  (existT sub1_i li) (s, om)
‚Üí composite_valid (sub_IM IM indices2)
    (lift_sub_incl_label (existT sub1_i li))
    (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk325" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk325"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (sub_IM IM indices1 sub1_i) li (s sub1_i, om)
‚Üí vvalid
    (sub_IM IM indices2
       (dec_exist (sub_index_prop indices2)
          (dec_proj1_sig sub1_i)
          (Hincl (` sub1_i) (dec_proj2_sig sub1_i))))
    li
    (lift_sub_incl_state s
       (dec_exist (sub_index_prop indices2)
          (dec_proj1_sig sub1_i)
          (Hincl (` sub1_i) (dec_proj2_sig sub1_i))),
    om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk326" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk326"><span class="nb">unfold</span> vvalid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s sub1_i, om)
‚Üí valid li
    (lift_sub_incl_state s
       (dec_exist (sub_index_prop indices2)
          (dec_proj1_sig sub1_i)
          (Hincl (` sub1_i) (dec_proj2_sig sub1_i))),
    om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk327" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk327"><span class="nb">unfold</span> lift_sub_incl_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s sub1_i, om)
‚Üí valid li
    (<span class="kr">match</span>
       decide
         (sub_index_prop indices1
            (`
             (dec_exist (sub_index_prop indices2)
                (dec_proj1_sig sub1_i)
                (Hincl (` sub1_i)
                   (dec_proj2_sig sub1_i)))))
     <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s
           (dec_exist (sub_index_prop indices1)
              (`
               (dec_exist (sub_index_prop indices2)
                  (dec_proj1_sig sub1_i)
                  (Hincl (` sub1_i)
                     (dec_proj2_sig sub1_i)))) e)
     | in_right =&gt;
         `
         (vs0
            (IM
               (`
                (dec_exist (sub_index_prop indices2)
                   (dec_proj1_sig sub1_i)
                   (Hincl (` sub1_i)
                      (dec_proj2_sig sub1_i))))))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk328" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk328"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i H</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (s sub1_i, om)
‚Üí valid li
    (<span class="kr">match</span>
       decide
         (sub_index_prop indices1
            (dec_proj1_sig sub1_i))
     <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s
           (dec_exist (sub_index_prop indices1)
              (dec_proj1_sig sub1_i) e)
     | in_right =&gt; ` (vs0 (IM (dec_proj1_sig sub1_i)))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk329" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk329"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM indices1
     (dec_exist (sub_index_prop indices1) i H))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li
  (s (dec_exist (sub_index_prop indices1) i H), om)
‚Üí valid li
    (<span class="kr">match</span>
       decide
         (sub_index_prop indices1
            (dec_proj1_sig
               (dec_exist (sub_index_prop indices1) i
                  H)))
     <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s
           (dec_exist (sub_index_prop indices1)
              (dec_proj1_sig
                 (dec_exist (sub_index_prop indices1)
                    i H)) e)
     | in_right =&gt;
         `
         (vs0
            (IM
               (dec_proj1_sig
                  (dec_exist (sub_index_prop indices1)
                     i H))))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM indices1
     (dec_exist (sub_index_prop indices1) i H))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li
  (s (dec_exist (sub_index_prop indices1) i H), om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop indices1 i) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s (dec_exist (sub_index_prop indices1) i e)
     | in_right =&gt; ` (vs0 (IM i))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32b"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (IM
     (` (dec_exist (sub_index_prop indices1) i H)))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li
  (s (dec_exist (sub_index_prop indices1) i H), om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop indices1 i) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s (dec_exist (sub_index_prop indices1) i e)
     | in_right =&gt; ` (vs0 (IM i))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32c"><span class="nb">simpl</span> <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li
  (s (dec_exist (sub_index_prop indices1) i H), om)
‚Üí valid li
    (<span class="kr">match</span> decide (sub_index_prop indices1 i) <span class="kr">with</span>
     | <span class="nb">left</span> e =&gt;
         s (dec_exist (sub_index_prop indices1) i e)
     | in_right =&gt; ` (vs0 (IM i))
     <span class="kr">end</span>, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32d"><span class="nb">destruct</span> (decide (sub_index_prop indices1 i))
  ; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li
  (s (dec_exist (sub_index_prop indices1) i H), om)
‚Üí valid li
    (s (dec_exist (sub_index_prop indices1) i s0), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32e"><span class="kr">match goal with</span>
  |- valid _ (s <span class="nl">?i1</span>, _) -&gt; valid _ (s <span class="nl">?i2</span>, _)
    =&gt; <span class="nb">replace</span> (s i1) <span class="kr">with</span> (s i2)
  <span class="kr">end</span>; [<span class="bp">exact</span> id|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop indices1) i s0) =
s (dec_exist (sub_index_prop indices1) i H)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sub_IM_state_pi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk32f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk32f"><span class="kn">Lemma</span> <span class="nf">lift_sub_incl_transition</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>
  (<span class="nv">Ht</span>: composite_transition (sub_IM IM indices1) l (s, om) = (s&#39;, om&#39;))
  : composite_transition (sub_IM IM indices2)
    (lift_sub_incl_label l) (lift_sub_incl_state s, om) = (lift_sub_incl_state s&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM indices1)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM indices1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om) =
(lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk330" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk330"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM indices1)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition (sub_IM IM indices1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om) =
(lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk331" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk331"><span class="nb">revert</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label (sub_IM IM indices1)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices1) l (s, om) =
(s&#39;, om&#39;)
‚Üí composite_transition (sub_IM IM indices2)
    (lift_sub_incl_label l)
    (lift_sub_incl_state s, om) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk332" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk332"><span class="nb">destruct</span> l <span class="kr">as</span> (sub1_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices1)
  (existT sub1_i li) (s, om) = (s&#39;, om&#39;)
‚Üí composite_transition (sub_IM IM indices2)
    (lift_sub_incl_label (existT sub1_i li))
    (lift_sub_incl_state s, om) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk333" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk333">destruct_dec_sig sub1_i i Hi Heqsub1_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices1)
  (existT sub1_i li) (s, om) = (s&#39;, om&#39;)
‚Üí composite_transition (sub_IM IM indices2)
    (lift_sub_incl_label (existT sub1_i li))
    (lift_sub_incl_state s, om) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk334" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk334"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (sub_IM IM indices1 sub1_i) li
     (s sub1_i, om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s sub1_i si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition
       (sub_IM IM indices2
          (dec_exist (sub_index_prop indices2)
             (dec_proj1_sig sub1_i)
             (Hincl (` sub1_i) (dec_proj2_sig sub1_i))))
       li
       (lift_sub_incl_state s
          (dec_exist (sub_index_prop indices2)
             (dec_proj1_sig sub1_i)
             (Hincl (` sub1_i) (dec_proj2_sig sub1_i))),
       om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2)
         (dec_proj1_sig sub1_i)
         (Hincl (` sub1_i) (dec_proj2_sig sub1_i)))
      si&#39;, om&#39;)) = (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk335" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk335"><span class="nb">unfold</span> vtransition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub1_i, om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s sub1_i si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (lift_sub_incl_state s
          (dec_exist (sub_index_prop indices2)
             (dec_proj1_sig sub1_i)
             (Hincl (` sub1_i) (dec_proj2_sig sub1_i))),
       om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2)
         (dec_proj1_sig sub1_i)
         (Hincl (` sub1_i) (dec_proj2_sig sub1_i)))
      si&#39;, om&#39;)) = (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk336" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk336"><span class="nb">unfold</span> lift_sub_incl_state <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub1_i, om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s sub1_i si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span>
          decide
            (sub_index_prop indices1
               (`
                (dec_exist (sub_index_prop indices2)
                   (dec_proj1_sig sub1_i)
                   (Hincl (` sub1_i)
                      (dec_proj2_sig sub1_i)))))
        <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist (sub_index_prop indices1)
                 (`
                  (dec_exist (sub_index_prop indices2)
                     (dec_proj1_sig sub1_i)
                     (Hincl (` sub1_i)
                        (dec_proj2_sig sub1_i)))) e)
        | in_right =&gt;
            `
            (vs0
               (IM
                  (`
                   (dec_exist
                      (sub_index_prop indices2)
                      (dec_proj1_sig sub1_i)
                      (Hincl (` sub1_i)
                         (dec_proj2_sig sub1_i))))))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2)
         (dec_proj1_sig sub1_i)
         (Hincl (` sub1_i) (dec_proj2_sig sub1_i)))
      si&#39;, om&#39;)) = (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk337" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk337"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>sub1_i</var><span class="hyp-type"><b>: </b><span>sub_index indices1</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM IM indices1 sub1_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>Heqsub1_i</var><span class="hyp-type"><b>: </b><span>sub1_i =
dec_exist (sub_index_prop indices1) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s sub1_i, om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s sub1_i si&#39;, om&#39;)) =
(s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span>
          decide
            (sub_index_prop indices1
               (dec_proj1_sig sub1_i))
        <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist (sub_index_prop indices1)
                 (dec_proj1_sig sub1_i) e)
        | in_right =&gt;
            ` (vs0 (IM (dec_proj1_sig sub1_i)))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2)
         (dec_proj1_sig sub1_i)
         (Hincl (` sub1_i) (dec_proj2_sig sub1_i)))
      si&#39;, om&#39;)) = (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk338" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk338"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM indices1
     (dec_exist (sub_index_prop indices1) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span>
          decide
            (sub_index_prop indices1
               (dec_proj1_sig
                  (dec_exist (sub_index_prop indices1)
                     i Hi)))
        <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist (sub_index_prop indices1)
                 (dec_proj1_sig
                    (dec_exist
                       (sub_index_prop indices1) i Hi))
                 e)
        | in_right =&gt;
            `
            (vs0
               (IM
                  (dec_proj1_sig
                     (dec_exist
                        (sub_index_prop indices1) i Hi))))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2)
         (dec_proj1_sig
            (dec_exist (sub_index_prop indices1) i Hi))
         (Hincl
            (`
             (dec_exist (sub_index_prop indices1) i Hi))
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk339" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk339"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM IM indices1
     (dec_exist (sub_index_prop indices1) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop indices1 i) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist (sub_index_prop indices1) i e)
        | in_right =&gt; ` (vs0 (IM i))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2) i
         (Hincl i
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33a"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (IM
     (`
      (dec_exist (sub_index_prop indices1) i Hi)))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop indices1 i) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist (sub_index_prop indices1) i e)
        | in_right =&gt; ` (vs0 (IM i))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2) i
         (Hincl i
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33b"><span class="nb">simpl</span> <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (<span class="kr">match</span> decide (sub_index_prop indices1 i) <span class="kr">with</span>
        | <span class="nb">left</span> e =&gt;
            s
              (dec_exist (sub_index_prop indices1) i e)
        | in_right =&gt; ` (vs0 (IM i))
        <span class="kr">end</span>, om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2) i
         (Hincl i
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33c"><span class="nb">destruct</span> (decide (sub_index_prop indices1 i))
  ; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li
       (s (dec_exist (sub_index_prop indices1) i s0),
       om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2) i
         (Hincl i
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33d"><span class="nb">replace</span> (s (dec_exist (sub_index_prop indices1) i s0)) <span class="kr">with</span> (s (dexist i Hi))
    <span class="bp">by</span> <span class="nb">apply</span> sub_IM_state_pi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li (s (dexist i Hi), om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2) i
         (Hincl i
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33e"><span class="nb">clear</span> s0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li
     (s (dec_exist (sub_index_prop indices1) i Hi),
     om) <span class="kr">in</span>
 (state_update (sub_IM IM indices1) s
    (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
 om&#39;)) = (s&#39;, om&#39;)
‚Üí (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     transition li (s (dexist i Hi), om) <span class="kr">in</span>
   (state_update (sub_IM IM indices2)
      (lift_sub_incl_state s)
      (dec_exist (sub_index_prop indices2) i
         (Hincl i
            (dec_proj2_sig
               (dec_exist (sub_index_prop indices1) i
                  Hi)))) si&#39;, om&#39;)) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk33f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk33f"><span class="nb">destruct</span> (transition _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update (sub_IM IM indices1) s
   (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
_om&#39;) = (s&#39;, om&#39;)
‚Üí (state_update (sub_IM IM indices2)
     (lift_sub_incl_state s)
     (dec_exist (sub_index_prop indices2) i
        (Hincl i
           (dec_proj2_sig
              (dec_exist (sub_index_prop indices1) i
                 Hi)))) si&#39;, _om&#39;) =
  (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk340" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk340"><span class="nb">intro</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update (sub_IM IM indices1) s
   (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
_om&#39;) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update (sub_IM IM indices2)
   (lift_sub_incl_state s)
   (dec_exist (sub_index_prop indices2) i
      (Hincl i
         (dec_proj2_sig
            (dec_exist (sub_index_prop indices1) i Hi))))
   si&#39;, _om&#39;) = (lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk341" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk341"><span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update (sub_IM IM indices1) s
   (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
_om&#39;) = (s&#39;, om&#39;)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices1) s
  (dec_exist (sub_index_prop indices1) i Hi) si&#39; =
s&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>_om&#39; = om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update (sub_IM IM indices2)
   (lift_sub_incl_state s)
   (dec_exist (sub_index_prop indices2) i
      (Hincl i
         (dec_proj2_sig
            (dec_exist (sub_index_prop indices1) i Hi))))
   si&#39;, om&#39;) =
(lift_sub_incl_state
   (state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) i Hi) si&#39;),
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk342" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk342"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update (sub_IM IM indices1) s
   (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
om&#39;) =
(state_update (sub_IM IM indices1) s
   (dec_exist (sub_index_prop indices1) i Hi) si&#39;,
om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update (sub_IM IM indices2)
   (lift_sub_incl_state s)
   (dec_exist (sub_index_prop indices2) i
      (Hincl i
         (dec_proj2_sig
            (dec_exist (sub_index_prop indices1) i Hi))))
   si&#39;, om&#39;) =
(lift_sub_incl_state
   (state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) i Hi) si&#39;),
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk343" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk343"><span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update (sub_IM IM indices2)
   (lift_sub_incl_state s)
   (dec_exist (sub_index_prop indices2) i
      (Hincl i
         (dec_proj2_sig
            (dec_exist (sub_index_prop indices1) i Hi))))
   si&#39;, om&#39;) =
(lift_sub_incl_state
   (state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) i Hi) si&#39;),
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk344" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk344"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk345" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk345"><span class="nb">apply</span> functional_extensionality_dep_good.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : sub_index indices2,
  state_update (sub_IM IM indices2)
    (lift_sub_incl_state s)
    (dec_exist (sub_index_prop indices2) i
       (Hincl i
          (dec_proj2_sig
             (dec_exist (sub_index_prop indices1) i Hi))))
    si&#39; x =
  lift_sub_incl_state
    (state_update (sub_IM IM indices1) s
       (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
    x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk346" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk346"><span class="nb">intros</span> sub2_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sub2_j</var><span class="hyp-type"><b>: </b><span>sub_index indices2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; sub2_j =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  sub2_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk347" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk347">destruct_dec_sig sub2_j j Hj Heqsub2_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sub2_j</var><span class="hyp-type"><b>: </b><span>sub_index indices2</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Heqsub2_j</var><span class="hyp-type"><b>: </b><span>sub2_j =
dec_exist (sub_index_prop indices2) j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; sub2_j =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  sub2_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk348" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk348"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk349" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk349"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk34a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk34a"><hr></label><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk34b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk34b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk34c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk34c"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) j Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) j Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk34d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk34d"><span class="nb">specialize</span> (sub_IM_state_update_eq IM indices2 j (lift_sub_incl_state s) si&#39;
    (Hincl j (dec_proj2_sig (@dec_exist _ _ sub_index1_prop_dec j Hi))) Hj) <span class="kr">as</span> Hrew.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1)
              j Hi)))) si&#39;
  (dec_exist (sub_index_prop indices2) j Hj) =
si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) j Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) j Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk34e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk34e"><span class="kr">match goal with</span>
    |- <span class="nl">?s1</span> = _ =&gt; <span class="nb">replace</span> s1 <span class="kr">with</span> si&#39;
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1)
              j Hi)))) si&#39;
  (dec_exist (sub_index_prop indices2) j Hj) =
si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) j Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk34f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk34f"><span class="nb">unfold</span> lift_sub_incl_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1)
              j Hi)))) si&#39;
  (dec_exist (sub_index_prop indices2) j Hj) =
si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
<span class="kr">match</span>
  decide
    (sub_index_prop indices1
       (` (dec_exist (sub_index_prop indices2) j Hj)))
<span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) j Hi) si&#39;
      (dec_exist (sub_index_prop indices1)
         (` (dec_exist (sub_index_prop indices2) j Hj))
         e)
| in_right =&gt;
    `
    (vs0
       (IM
          (`
           (dec_exist (sub_index_prop indices2) j Hj))))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk350" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk350"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1)
              j Hi)))) si&#39;
  (dec_exist (sub_index_prop indices2) j Hj) =
si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
<span class="kr">match</span> decide (sub_index_prop indices1 j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) j Hi) si&#39;
      (dec_exist (sub_index_prop indices1) j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk351" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk351"><span class="nb">destruct</span> (decide _); [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1)
              j Hi)))) si&#39;
  (dec_exist (sub_index_prop indices2) j Hj) =
si&#39;</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
state_update (sub_IM IM indices1) s
  (dec_exist (sub_index_prop indices1) j Hi) si&#39;
  (dec_exist (sub_index_prop indices1) j s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk352" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk352"><span class="nb">rewrite</span> sub_IM_state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) j
     (Hincl j
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1)
              j Hi)))) si&#39;
  (dec_exist (sub_index_prop indices2) j Hj) =
si&#39;</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk353" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk353">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update (sub_IM IM indices2)
  (lift_sub_incl_state s)
  (dec_exist (sub_index_prop indices2) i
     (Hincl i
        (dec_proj2_sig
           (dec_exist (sub_index_prop indices1) i Hi))))
  si&#39; (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk354" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk354"><span class="nb">rewrite</span> state_update_neq
    ; [| <span class="nb">intro</span> H; <span class="nb">apply</span> dec_sig_eq_iff <span class="kr">in</span> H; <span class="nb">simpl</span> <span class="kr">in</span> H; <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_incl_state s
  (dec_exist (sub_index_prop indices2) j Hj) =
lift_sub_incl_state
  (state_update (sub_IM IM indices1) s
     (dec_exist (sub_index_prop indices1) i Hi) si&#39;)
  (dec_exist (sub_index_prop indices2) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk355" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk355"><span class="nb">unfold</span> lift_sub_incl_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  decide
    (sub_index_prop indices1
       (` (dec_exist (sub_index_prop indices2) j Hj)))
<span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    s
      (dec_exist (sub_index_prop indices1)
         (` (dec_exist (sub_index_prop indices2) j Hj))
         e)
| in_right =&gt;
    `
    (vs0
       (IM
          (`
           (dec_exist (sub_index_prop indices2) j Hj))))
<span class="kr">end</span> =
<span class="kr">match</span>
  decide
    (sub_index_prop indices1
       (` (dec_exist (sub_index_prop indices2) j Hj)))
<span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) i Hi) si&#39;
      (dec_exist (sub_index_prop indices1)
         (` (dec_exist (sub_index_prop indices2) j Hj))
         e)
| in_right =&gt;
    `
    (vs0
       (IM
          (`
           (dec_exist (sub_index_prop indices2) j Hj))))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk356" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk356"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (sub_index_prop indices1 j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    s (dec_exist (sub_index_prop indices1) j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span> =
<span class="kr">match</span> decide (sub_index_prop indices1 j) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update (sub_IM IM indices1) s
      (dec_exist (sub_index_prop indices1) i Hi) si&#39;
      (dec_exist (sub_index_prop indices1) j e)
| in_right =&gt; ` (vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk357" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk357"><span class="nb">destruct</span> (decide _); [|<span class="bp">reflexivity</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop indices1) j s0) =
state_update (sub_IM IM indices1) s
  (dec_exist (sub_index_prop indices1) i Hi) si&#39;
  (dec_exist (sub_index_prop indices1) j s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk358" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk358"><span class="nb">rewrite</span> state_update_neq; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist (sub_index_prop indices1) j s0
‚â† dec_exist (sub_index_prop indices1) i Hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk359" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk359"><span class="nb">intro</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>dec_exist (sub_index_prop indices1) j s0 =
dec_exist (sub_index_prop indices1) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk35a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk35a"><span class="nb">apply</span> dec_sig_eq_iff <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>` (dec_exist (sub_index_prop indices1) j s0) =
` (dec_exist (sub_index_prop indices1) i Hi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk35b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk35b"><span class="nb">simpl</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (sub_IM IM indices1)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices2 j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices1 j</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk35c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk35c"><span class="kn">Lemma</span> <span class="nf">lift_sub_incl_full_projection</span>
  : VLSM_full_projection (free_composite_vlsm sub_IM1) (free_composite_vlsm sub_IM2) lift_sub_incl_label lift_sub_incl_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (free_composite_vlsm sub_IM1)
  (free_composite_vlsm sub_IM2) lift_sub_incl_label
  lift_sub_incl_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk35d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk35d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (free_composite_vlsm sub_IM1)
  (free_composite_vlsm sub_IM2) lift_sub_incl_label
  lift_sub_incl_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk35e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk35e"><span class="nb">apply</span> basic_VLSM_strong_full_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk35f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (free_composite_vlsm sub_IM1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk35f"><hr></label><div class="goal-conclusion">vtransition (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) 
  (lift_sub_incl_state s, om) =
(lift_sub_incl_state s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk360" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (free_composite_vlsm sub_IM1)
  s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk360"><hr></label><div class="goal-conclusion">vinitial_state_prop (free_composite_vlsm sub_IM2)
  (lift_sub_incl_state s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk361" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (free_composite_vlsm sub_IM1) m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk361"><hr></label><div class="goal-conclusion">vinitial_message_prop (free_composite_vlsm sub_IM2) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk362" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk362">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk363" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk363"><span class="nb">split</span>; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM2 (lift_sub_incl_label l)
  (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk364" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk364"><span class="nb">apply</span> lift_sub_incl_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices1) l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk365" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk365">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (free_composite_vlsm sub_IM1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om) =
(lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk366" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk366"><span class="nb">apply</span> lift_sub_incl_transition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (free_composite_vlsm sub_IM1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices1) l (s, om) =
(s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk367" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk367">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (free_composite_vlsm sub_IM1)
  s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (free_composite_vlsm sub_IM2)
  (lift_sub_incl_state s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk368" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk368"><span class="nb">apply</span> lift_sub_incl_state_initial.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (free_composite_vlsm sub_IM1)
  s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_IM1 s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk369" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk369">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (free_composite_vlsm sub_IM1) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop (free_composite_vlsm sub_IM2) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk36a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk36a"><span class="nb">apply</span> lift_sub_incl_message_initial.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (free_composite_vlsm sub_IM1) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM1 m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk36b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk36b"><span class="kn">Lemma</span> <span class="nf">lift_sub_incl_preloaded_full_projection</span>
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hpq</span> : <span class="kr">forall</span> <span class="nv">m</span>, P m -&gt; Q m)
  : VLSM_full_projection (pre_loaded_vlsm (free_composite_vlsm sub_IM1) P) (pre_loaded_vlsm (free_composite_vlsm sub_IM2) Q) lift_sub_incl_label lift_sub_incl_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (pre_loaded_vlsm (free_composite_vlsm sub_IM1) P)
  (pre_loaded_vlsm (free_composite_vlsm sub_IM2) Q)
  lift_sub_incl_label lift_sub_incl_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk36c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk36c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (pre_loaded_vlsm (free_composite_vlsm sub_IM1) P)
  (pre_loaded_vlsm (free_composite_vlsm sub_IM2) Q)
  lift_sub_incl_label lift_sub_incl_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk36d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk36d"><span class="nb">apply</span> basic_VLSM_full_projection_preloaded_with; [<span class="bp">assumption</span>|..]; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk36e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (free_composite_vlsm sub_IM1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk36e"><hr></label><div class="goal-conclusion">vtransition (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) 
  (lift_sub_incl_state s, om) =
(lift_sub_incl_state s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk36f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (free_composite_vlsm sub_IM1)
  s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk36f"><hr></label><div class="goal-conclusion">vinitial_state_prop (free_composite_vlsm sub_IM2)
  (lift_sub_incl_state s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk370" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (free_composite_vlsm sub_IM1) m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk370"><hr></label><div class="goal-conclusion">vinitial_message_prop (free_composite_vlsm sub_IM2) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk371" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk371">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk372" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk372"><span class="nb">split</span>; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM2 (lift_sub_incl_label l)
  (lift_sub_incl_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk373" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk373"><span class="nb">apply</span> lift_sub_incl_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (free_composite_vlsm sub_IM1) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices1) l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk374" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk374">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (free_composite_vlsm sub_IM1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (free_composite_vlsm sub_IM2)
  (lift_sub_incl_label l) (lift_sub_incl_state s, om) =
(lift_sub_incl_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk375" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk375"><span class="nb">apply</span> lift_sub_incl_transition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (free_composite_vlsm sub_IM1) l
  (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_transition (sub_IM IM indices1) l (s, om) =
(s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk376" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk376">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (free_composite_vlsm sub_IM1)
  s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (free_composite_vlsm sub_IM2)
  (lift_sub_incl_state s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk377" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk377"><span class="nb">apply</span> lift_sub_incl_state_initial.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (free_composite_vlsm sub_IM1)
  s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_IM1 s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk378" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk378">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (free_composite_vlsm sub_IM1) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop (free_composite_vlsm sub_IM2) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk379" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk379"><span class="nb">apply</span> lift_sub_incl_message_initial.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices1, indices2</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>indices1 ‚äÜ indices2</span></span></span><br><span><var>sub_IM1</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices1</span></span><span class="hyp-type"><b>: </b><span>sub_index indices1 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM2</var><span><span class="hyp-body"><b>:= </b><span>sub_IM IM indices2</span></span><span class="hyp-type"><b>: </b><span>sub_index indices2 ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index1_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices1 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices1 i)</span></span></span></span><br><span><var>sub_index2_prop_dec</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index,
  sub_index_prop_dec indices2 i</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices2 i)</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hpq</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop
  (free_composite_vlsm sub_IM1) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop sub_IM1 m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sub_composition_incl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sub_composition_sender</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  <span class="nv">indices</span>
  (<span class="nv">sub_IM</span> := sub_IM IM indices)
  (<span class="nv">sub_index_prop_dec</span> : <span class="kr">forall</span> <span class="nv">i</span>, Decision (sub_index_prop indices i) := sub_index_prop_dec indices)
  {<span class="nv">validator</span> : <span class="kt">Type</span>}
  (<span class="nv">A</span> : validator -&gt; index)
  (<span class="nv">sender</span> : message -&gt; option validator)
  (<span class="nv">Hsender_safety</span> : sender_safety_alt_prop IM A sender)
  .</span></span></pre><div class="doc">
If a sub-composition <span class="inlinecode"><span class="id" title="var">can_emit</span></span> a message then its sender must be one of
the components of the sub-composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37a"><span class="kn">Lemma</span> <span class="nf">sub_can_emit_sender</span> (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  : <span class="kr">forall</span> <span class="nv">m</span> <span class="nv">v</span>,
    sender m = Some v -&gt;
    can_emit (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)  m -&gt;
    A v ‚àà indices.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : message) (<span class="nv">v</span> : validator),
  sender m = Some v
  ‚Üí can_emit
      (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
      m ‚Üí A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : message) (<span class="nv">v</span> : validator),
  sender m = Some v
  ‚Üí can_emit
      (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
      m ‚Üí A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37c"><span class="nb">intros</span> m v Hsender Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm
     (free_composite_vlsm sub_IM) P) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37d"><span class="nb">specialize</span> (Hsender_safety m v Hsender).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm
     (free_composite_vlsm sub_IM) P) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37e"><span class="nb">destruct</span> Hemit <span class="kr">as</span> [(s, om) [(sub_i, li) [s&#39; Ht]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT sub_i li) (s, om) 
  (s&#39;, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk37f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk37f">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT sub_i li) (s, om) 
  (s&#39;, Some m)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop indices) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk380" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk380"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk381" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk381"><span class="nb">unfold</span> sub_IM, SubProjectionTraces.sub_IM <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (IM
     (` (dec_exist (sub_index_prop indices) i Hi)))</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk382" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk382"><span class="nb">simpl</span> <span class="kr">in</span> li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk383" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk383"><span class="nb">specialize</span> (PreSubFree_PreFree_weak_full_projection IM indices (proj1_sig (composite_s0 IM)))
    <span class="kr">as</span> Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (` (composite_s0 IM))
‚Üí VLSM_weak_full_projection
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm
          (SubProjectionTraces.sub_IM IM
             indices)))
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (lift_sub_label IM indices)
    (lift_sub_state_to IM indices
       (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk384" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk384">spec Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (` (composite_s0 IM))
‚Üí VLSM_weak_full_projection
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm
          (SubProjectionTraces.sub_IM IM
             indices)))
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (lift_sub_label IM indices)
    (lift_sub_state_to IM indices
       (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) (` (composite_s0 IM))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk385" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm
        (SubProjectionTraces.sub_IM IM indices)))
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)))</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk385"><hr></label><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk386" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk386">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (` (composite_s0 IM))
‚Üí VLSM_weak_full_projection
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm
          (SubProjectionTraces.sub_IM IM
             indices)))
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (lift_sub_label IM indices)
    (lift_sub_state_to IM indices
       (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) (` (composite_s0 IM))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk387" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk387"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (` (composite_s0 IM))
‚Üí VLSM_weak_full_projection
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm
          (SubProjectionTraces.sub_IM IM
             indices)))
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (lift_sub_label IM indices)
    (lift_sub_state_to IM indices
       (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (` (composite_s0 IM))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk388" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk388"><span class="nb">destruct</span> (composite_s0 IM).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM x</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (` (x ‚Üæ c))
‚Üí VLSM_weak_full_projection
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm
          (SubProjectionTraces.sub_IM IM
             indices)))
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (lift_sub_label IM indices)
    (lift_sub_state_to IM indices (` (x ‚Üæ c)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (` (x ‚Üæ c))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk389" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk389">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm
        (SubProjectionTraces.sub_IM IM indices)))
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38a"><span class="nb">apply</span>
    (VLSM_incl_input_valid_transition
      (pre_loaded_vlsm_incl_pre_loaded_with_all_messages (free_composite_vlsm sub_IM) P))
    <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (free_composite_vlsm sub_IM))))
  (existT
     (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) (s&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm
        (SubProjectionTraces.sub_IM IM indices)))
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38b"><span class="nb">apply</span> (VLSM_weak_full_projection_input_valid_transition Hproj) <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li))
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s, om)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s&#39;, 
  Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm
        (SubProjectionTraces.sub_IM IM indices)))
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38c"><span class="nb">clear</span> Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li))
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s, om)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s&#39;, 
  Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38d"><span class="nb">specialize</span> (ProjectionTraces.preloaded_component_projection IM i)
    <span class="kr">as</span> Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li))
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s, om)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s&#39;, 
  Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38e"><span class="nb">remember</span> (lift_sub_state_to _ _ _ s) <span class="kr">as</span> sX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om)
  (lift_sub_state_to IM indices
     (` (composite_s0 IM)) s&#39;, 
  Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk38f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk38f"><span class="nb">remember</span> (lift_sub_state_to _ _ _ s&#39;) <span class="kr">as</span> sX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk390" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk390"><span class="nb">remember</span> (lift_sub_label _ _ _) <span class="kr">as</span> lX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>HeqlX</var><span class="hyp-type"><b>: </b><span>lX =
lift_sub_label IM indices
  (existT
     (dec_exist (sub_index_prop indices) i Hi)
     li)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) lX 
  (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk391" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk391"><span class="nb">specialize</span> (VLSM_projection_input_valid_transition Hproj lX li) <span class="kr">as</span> Hproj_t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>composite_label IM</span></span></span><br><span><var>HeqlX</var><span class="hyp-type"><b>: </b><span>lX =
lift_sub_label IM indices
  (existT
     (dec_exist (sub_index_prop indices) i Hi)
     li)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) lX 
  (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i lX = Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : state) (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM)) lX
      (s, im) (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li
        ((<span class="kr">Œª</span> <span class="nv">s0</span> : vstate
                   (pre_loaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM)), 
            s0 i) s, im)
        ((<span class="kr">Œª</span> <span class="nv">s0</span> : vstate
                   (pre_loaded_with_all_messages_vlsm
                      (free_composite_vlsm
                      IM)), 
            s0 i) s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk392" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk392"><span class="nb">subst</span> lX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices)
           i Hi) li)) = 
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : state) (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (lift_sub_label IM indices
         (existT
            (dec_exist
               (sub_index_prop indices) i Hi)
            li)) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk393" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk393"><span class="nb">unfold</span> lift_sub_label <span class="kr">in</span> Hproj_t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i
  (existT
     (`
      (projT1
         (existT
            (dec_exist
               (sub_index_prop indices) i Hi)
            li)))
     (projT2
        (existT
           (dec_exist
              (sub_index_prop indices) i Hi)
           li))) = Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : state) (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT
         (`
          (projT1
             (existT
                (dec_exist
                   (sub_index_prop indices)
                   i Hi) li)))
         (projT2
            (existT
               (dec_exist
                  (sub_index_prop indices) i
                  Hi) li))) 
      (s, im) (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk394" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk394"><span class="nb">simpl</span> <span class="kr">in</span> Hproj_t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk395" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk395">spec Hproj_t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_project_label IM i (existT i li) = Some li</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk396" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : _composite_state IM) 
  (<span class="nv">om</span> : option message),
  input_valid_transition
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (existT i li) (s, im) 
    (s&#39;, om)
  ‚Üí input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (IM i)) li (s i, im) 
      (s&#39; i, om)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk396"><hr></label><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk397" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk397">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_project_label IM i (existT i li) = Some li</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk398" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk398"><span class="nb">unfold</span> ProjectionTraces.composite_project_label.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (i = projT1 (existT i li)) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    Some
      (eq_rect_r (<span class="kr">Œª</span> <span class="nv">n</span> : index, vlabel (IM n))
         (projT2 (existT i li)) e)
| in_right =&gt; None
<span class="kr">end</span> = Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk399" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk399"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (i = i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    Some (eq_rect_r (<span class="kr">Œª</span> <span class="nv">n</span> : index, vlabel (IM n)) li e)
| in_right =&gt; None
<span class="kr">end</span> = Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39a">case_decide; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (eq_rect_r (<span class="kr">Œª</span> <span class="nv">n</span> : index, vlabel (IM n)) li H) =
Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39b"><span class="nb">replace</span> H <span class="kr">with</span> (eq_refl (A := index) (x := i))
    ; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eq_refl = H</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39c"><span class="nb">apply</span> Eqdep_dec.UIP_dec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>composite_project_label IM i (existT i li) =
Some li
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
    (<span class="nv">im</span> : option message) 
    (<span class="nv">s&#39;</span> : _composite_state IM) 
    (<span class="nv">om</span> : option message),
    input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (free_composite_vlsm IM))
      (existT i li) (s, im) 
      (s&#39;, om)
    ‚Üí input_valid_transition
        (pre_loaded_with_all_messages_vlsm
           (IM i)) li (s i, im) 
        (s&#39; i, om)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> <span class="nv">y</span> : index, {x = y} + {x ‚â† y}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : _composite_state IM) 
  (<span class="nv">im</span> : option message) 
  (<span class="nv">s&#39;</span> : _composite_state IM) 
  (<span class="nv">om</span> : option message),
  input_valid_transition
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM))
    (existT i li) (s, im) 
    (s&#39;, om)
  ‚Üí input_valid_transition
      (pre_loaded_with_all_messages_vlsm
         (IM i)) li (s i, im) 
      (s&#39; i, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39e"><span class="nb">specialize</span> (Hproj_t _ _ _ _ Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk39f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk39f"><span class="nb">specialize</span> (Hsender_safety i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a0">spec Hsender_safety.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM i)) m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk3a1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>A v = i</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk3a1"><hr></label><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a2">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM i)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a3"><span class="nb">eexists</span> _, _, _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM i)) m ‚Üí A v = i</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i)) <span class="nl">?Goal1</span>
  <span class="nl">?Goal0</span> (<span class="nl">?Goal2</span>, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Hproj_t.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a4">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>A v = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a5"><span class="nb">rewrite</span> Hsender_safety.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX</var><span class="hyp-type"><b>: </b><span>sX =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s</span></span></span><br><span><var>sX'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>HeqsX'</var><span class="hyp-type"><b>: </b><span>sX&#39; =
lift_sub_state_to IM indices
  (` (composite_s0 IM)) s&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM indices
     (existT
        (dec_exist (sub_index_prop indices) i Hi)
        li)) (sX, om) (sX&#39;, Some m)</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_projection
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (pre_loaded_with_all_messages_vlsm (IM i))
  (composite_project_label IM i)
  (<span class="kr">Œª</span> <span class="nv">s</span> : vstate
           (pre_loaded_with_all_messages_vlsm
              (free_composite_vlsm IM)), 
     s i)</span></span></span><br><span><var>Hproj_t</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i))
  li (sX i, om) (sX&#39; i, Some m)</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>A v = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà indices</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h3 class="section">Sender and sender-safety specialized for the subcomposition</h3>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_IM_sender</span> (<span class="nv">m</span> : message)
  : option (dsig (<span class="kr">fun</span> <span class="nv">v</span> =&gt; A v ‚àà indices)) :=
  <span class="kr">match</span> sender m <span class="kr">with</span>
  | None =&gt; None
  | Some v =&gt;
    <span class="kr">match</span> (decide (A v ‚àà indices)) <span class="kr">with</span>
    | <span class="nb">left</span> Av_in =&gt; Some (dec_exist (<span class="kr">fun</span> <span class="nv">v</span> =&gt; A v ‚àà indices) v Av_in)
    | _ =&gt; None
    <span class="kr">end</span>
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_IM_A</span>
  (<span class="nv">v</span> : dsig (<span class="kr">fun</span> <span class="nv">v</span> =&gt; A v ‚àà indices))
  : sub_index indices :=
  dexist (A (proj1_sig v)) (proj2_dsig v).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a6"><span class="kn">Lemma</span> <span class="nf">sub_IM_preserves_channel_authentication</span>
  : channel_authentication_prop IM A sender -&gt;
    channel_authentication_prop sub_IM sub_IM_A sub_IM_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authentication_prop IM A sender
‚Üí channel_authentication_prop sub_IM sub_IM_A
    sub_IM_sender</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authentication_prop IM A sender
‚Üí channel_authentication_prop sub_IM sub_IM_A
    sub_IM_sender</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a8"><span class="nb">intros</span> Hsigned sub_i m Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM sub_i)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authenticated_message sub_IM_A sub_IM_sender
  sub_i m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3a9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3a9">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM sub_i)) m</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop indices) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authenticated_message sub_IM_A sub_IM_sender
  sub_i m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3aa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3aa"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i
           Hi))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authenticated_message sub_IM_A sub_IM_sender
  (dec_exist (sub_index_prop indices) i Hi) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ab" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ab"><span class="nb">apply</span> Hsigned <span class="kr">in</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender
  (` (dec_exist (sub_index_prop indices) i Hi))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authenticated_message sub_IM_A sub_IM_sender
  (dec_exist (sub_index_prop indices) i Hi) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ac" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ac"><span class="nb">unfold</span> channel_authenticated_message <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) =
Some
  (` (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A (sub_IM_sender m) =
Some (dec_exist (sub_index_prop indices) i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ad" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ad"><span class="nb">simpl</span> <span class="kr">in</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A (sub_IM_sender m) =
Some (dec_exist (sub_index_prop indices) i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ae" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ae"><span class="nb">unfold</span> sub_IM_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A
  <span class="kr">match</span> sender m <span class="kr">with</span>
  | Some v =&gt;
      <span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
      | <span class="nb">left</span> Av_in =&gt;
          Some
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v0</span> : validator, A v0 ‚àà indices) v
               Av_in)
      | in_right =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (dec_exist (sub_index_prop indices) i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3af" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3af"><span class="nb">destruct</span> (sender m) <span class="kr">as</span> [v|]; [|<span class="nb">simpl</span> <span class="kr">in</span> Hemit; <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>option_map A (Some v) = Some i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A
  <span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
  | <span class="nb">left</span> Av_in =&gt;
      Some
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Av_in)
  | in_right =&gt; None
  <span class="kr">end</span> = Some (dec_exist (sub_index_prop indices) i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b0"><span class="nb">apply</span> Some_inj <span class="kr">in</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>A v = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A
  <span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
  | <span class="nb">left</span> Av_in =&gt;
      Some
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Av_in)
  | in_right =&gt; None
  <span class="kr">end</span> = Some (dec_exist (sub_index_prop indices) i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b1"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices (A v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A
  <span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
  | <span class="nb">left</span> Av_in =&gt;
      Some
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Av_in)
  | in_right =&gt; None
  <span class="kr">end</span> =
Some (dec_exist (sub_index_prop indices) (A v) Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b2">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices (A v)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map sub_IM_A
  (Some
     (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v H)) =
Some (dec_exist (sub_index_prop indices) (A v) Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b3"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices (A v)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (sub_IM_A
     (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v H)) =
Some (dec_exist (sub_index_prop indices) (A v) Hi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b4"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices (A v)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_A
  (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v H) =
dec_exist (sub_index_prop indices) (A v) Hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> dec_sig_eq_iff; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b5"><span class="kn">Lemma</span> <span class="nf">sub_IM_preserves_no_initial_messages</span>
  : no_initial_messages_in_IM_prop IM -&gt;
    no_initial_messages_in_IM_prop sub_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">no_initial_messages_in_IM_prop IM
‚Üí no_initial_messages_in_IM_prop sub_IM</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">no_initial_messages_in_IM_prop IM
‚Üí no_initial_messages_in_IM_prop sub_IM</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b7"><span class="nb">intros</span> Hno_init sub_i m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hno_init</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop IM</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ vinitial_message_prop (sub_IM sub_i) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b8">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hno_init</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop IM</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop indices) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ vinitial_message_prop (sub_IM sub_i) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3b9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3b9"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>Hno_init</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop IM</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ vinitial_message_prop
    (sub_IM (dec_exist (sub_index_prop indices) i Hi))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hno_init.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ba" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ba"><span class="kn">Lemma</span> <span class="nf">sub_IM_sender_safety</span>
  : sender_safety_alt_prop sub_IM sub_IM_A sub_IM_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender_safety_alt_prop sub_IM sub_IM_A sub_IM_sender</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3bb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3bb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender_safety_alt_prop sub_IM sub_IM_A sub_IM_sender</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3bc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3bc"><span class="nb">intros</span> m sub_v Hsender sub_i Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sub_v</var><span class="hyp-type"><b>: </b><span>dsig (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m = Some sub_v</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM sub_i)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_A sub_v = sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3bd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3bd">destruct_dec_sig sub_v v HAv Heqsub_v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sub_v</var><span class="hyp-type"><b>: </b><span>dsig (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m = Some sub_v</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM sub_i)) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Heqsub_v</var><span class="hyp-type"><b>: </b><span>sub_v =
dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
  v HAv</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_A sub_v = sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3be" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3be">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sub_v</var><span class="hyp-type"><b>: </b><span>dsig (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m = Some sub_v</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM sub_i)) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Heqsub_v</var><span class="hyp-type"><b>: </b><span>sub_v =
dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
  v HAv</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop indices) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_A sub_v = sub_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3bf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3bf"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_A
  (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv) =
dec_exist (sub_index_prop indices) i Hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c0"><span class="nb">unfold</span> sub_IM_A.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dexist
  (A
     (`
      (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
         HAv)))
  (proj2_dsig
     (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)) =
dec_exist (sub_index_prop indices) i Hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c1"><span class="nb">apply</span> dsig_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">`
(dexist
   (A
      (`
       (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
          HAv)))
   (proj2_dsig
      (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
         HAv))) =
` (dec_exist (sub_index_prop indices) i Hi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c2"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A v = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c3"><span class="nb">apply</span> (Hsender_safety m v).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk3c4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk3c4"><hr></label><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM i)) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c6"><span class="nb">clear</span> -Hsender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c7"><span class="nb">unfold</span> sub_IM_sender <span class="kr">in</span> Hsender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> sender m <span class="kr">with</span>
| Some v =&gt;
    <span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
    | <span class="nb">left</span> Av_in =&gt;
        Some
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v0</span> : validator,
                A v0 ‚àà indices) v Av_in)
    | in_right =&gt; None
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sender m = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c8"><span class="nb">destruct</span> (sender m) <span class="kr">as</span> [_v|] <span class="nb">eqn</span>:Hsender_v; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>_v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_v</var><span class="hyp-type"><b>: </b><span>sender m = Some _v</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A _v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> Av_in =&gt;
    Some
      (dec_exist
         (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) _v
         Av_in)
| in_right =&gt; None
<span class="kr">end</span> =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some _v = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3c9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3c9">case_decide; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>_v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender_v</var><span class="hyp-type"><b>: </b><span>sender m = Some _v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A _v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) _v H) =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some _v = Some v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> Hsender; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ca" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>HAv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v HAv)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM i)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3cb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3cb"><span class="nb">clear</span> -Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) i Hi)))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM i)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3cc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3cc"><span class="nb">revert</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_with_all_messages_vlsm
     (sub_IM (dec_exist (sub_index_prop indices) i Hi)))
  m
‚Üí can_emit (pre_loaded_with_all_messages_vlsm (IM i))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3cd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3cd"><span class="nb">unfold</span> sub_IM, SubProjectionTraces.sub_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (` (dec_exist (sub_index_prop indices) i Hi))))
  m
‚Üí can_emit (pre_loaded_with_all_messages_vlsm (IM i))
    m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ce" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ce"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM i)) m
‚Üí can_emit (pre_loaded_with_all_messages_vlsm (IM i))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">sub_IM_Hbs</span> : <span class="kr">forall</span> <span class="nv">sub_i</span>, HasBeenSentCapability (sub_IM sub_i))
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3cf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3cf"><span class="kn">Lemma</span> <span class="nf">sub_IM_has_been_sent_iff_by_sender</span> <span class="nv">s</span>
  (<span class="nv">Hs</span> : valid_state_prop (pre_loaded_with_all_messages_vlsm (free_composite_vlsm sub_IM)) s)
  <span class="nv">m</span> <span class="nv">v</span>
  (<span class="nv">Hsender</span> : sender m = Some v)
  (<span class="nv">Hv</span> : A v ‚àà indices)
  : composite_has_been_sent sub_IM sub_IM_Hbs s m -&gt;
    @has_been_sent _ _ (sub_IM_Hbs (dexist (A v) Hv)) (s (dexist (A v) Hv)) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d1"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d2"><span class="nb">destruct</span> Htr <span class="kr">as</span> [<span class="kr">is</span> [tr Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d3"><span class="nb">specialize</span>
    (has_been_sent_iff_by_sender sub_IM
      sub_IM_Hbs sub_IM_sender_safety Htr)
    <span class="kr">as</span> Hsent_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">m</span> : message) (<span class="nv">v</span> : dsig
                      (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                      A v ‚àà indices)),
  sub_IM_sender m = Some v
  ‚Üí composite_has_been_sent sub_IM
      sub_IM_Hbs s m
    ‚Üî has_been_sent (sub_IM (sub_IM_A v))
        (s (sub_IM_A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d4"><span class="nb">specialize</span> (Hsent_m m (dec_exist (<span class="kr">fun</span> <span class="nv">v</span> =&gt; A v ‚àà indices) _ Hv)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d5">spec Hsent_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_sender m =
Some (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk3d6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent sub_IM sub_IM_Hbs s
  m
‚Üî has_been_sent
    (sub_IM
       (sub_IM_A
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
             v Hv)))
    (s
       (sub_IM_A
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
             v Hv))) m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk3d6"><hr></label><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d7">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_IM_sender m =
Some (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d8"><span class="nb">unfold</span> sub_IM_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> sender m <span class="kr">with</span>
| Some v =&gt;
    <span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
    | <span class="nb">left</span> Av_in =&gt;
        Some
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v0</span> : validator, A v0 ‚àà indices) v
             Av_in)
    | in_right =&gt; None
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3d9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3d9"><span class="nb">rewrite</span> Hsender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> Av_in =&gt;
    Some
      (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
         Av_in)
| in_right =&gt; None
<span class="kr">end</span> =
Some (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3da" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3da">case_decide; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v H) =
Some (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3db" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3db"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>sub_IM_sender m =
Some
  (dec_exist
     (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)
‚Üí composite_has_been_sent sub_IM sub_IM_Hbs
    s m
  ‚Üî has_been_sent
      (sub_IM
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv)))
      (s
         (sub_IM_A
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator,
                  A v ‚àà indices) v Hv))) m</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v H =
dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> dsig_eq; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3dc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3dc">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent sub_IM sub_IM_Hbs s
  m
‚Üî has_been_sent
    (sub_IM
       (sub_IM_A
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
             v Hv)))
    (s
       (sub_IM_A
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
             v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3dd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3dd"><span class="nb">rewrite</span> Hsent_m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hsent_m</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent sub_IM sub_IM_Hbs s
  m
‚Üî has_been_sent
    (sub_IM
       (sub_IM_A
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
             v Hv)))
    (s
       (sub_IM_A
          (dec_exist
             (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
             v Hv))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent
  (sub_IM
     (sub_IM_A
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv)))
  (s
     (sub_IM_A
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv))) m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3de" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3de"><span class="nb">clear</span> -Hsender Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent
  (sub_IM
     (sub_IM_A
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv)))
  (s
     (sub_IM_A
        (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv))) m
‚Üí has_been_sent (sub_IM (dexist (A v) Hv))
    (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3df" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3df"><span class="nb">unfold</span> sub_IM_A, sub_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent
  (SubProjectionTraces.sub_IM IM indices
     (dexist
        (A
           (`
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)))
        (proj2_dsig
           (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
              v Hv))))
  (s
     (dexist
        (A
           (`
            (dec_exist
               (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v Hv)))
        (proj2_dsig
           (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
              v Hv)))) m
‚Üí has_been_sent
    (SubProjectionTraces.sub_IM IM indices
       (dexist (A v) Hv)) (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e0"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent
  (SubProjectionTraces.sub_IM IM indices
     (dexist (A v)
        (proj2_dsig
           (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
              v Hv))))
  (s
     (dexist (A v)
        (proj2_dsig
           (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
              v Hv)))) m
‚Üí has_been_sent
    (SubProjectionTraces.sub_IM IM indices
       (dexist (A v) Hv)) (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e1"><span class="nb">remember</span> (s (dexist _ _)) <span class="kr">as</span> sAv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>sAv</var><span class="hyp-type"><b>: </b><span>vstate
  (sub_IM
     (dexist (A v)
        (proj2_dsig
           (dec_exist
              (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
              Hv))))</span></span></span><br><span><var>HeqsAv</var><span class="hyp-type"><b>: </b><span>sAv =
s
  (dexist (A v)
     (proj2_dsig
        (dec_exist
           (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent
  (SubProjectionTraces.sub_IM IM indices
     (dexist (A v)
        (proj2_dsig
           (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
              v Hv)))) sAv m
‚Üí has_been_sent
    (SubProjectionTraces.sub_IM IM indices
       (dexist (A v) Hv)) (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e2"><span class="nb">replace</span> sAv <span class="kr">with</span> (s (dexist (A v) Hv))
    <span class="bp">by</span> (<span class="nb">subst</span>; <span class="nb">apply</span> (sub_IM_state_pi IM)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>sAv</var><span class="hyp-type"><b>: </b><span>vstate
  (sub_IM
     (dexist (A v)
        (proj2_dsig
           (dec_exist
              (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
              Hv))))</span></span></span><br><span><var>HeqsAv</var><span class="hyp-type"><b>: </b><span>sAv =
s
  (dexist (A v)
     (proj2_dsig
        (dec_exist
           (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent
  (SubProjectionTraces.sub_IM IM indices
     (dexist (A v)
        (proj2_dsig
           (dec_exist (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices)
              v Hv)))) (s (dexist (A v) Hv)) m
‚Üí has_been_sent
    (SubProjectionTraces.sub_IM IM indices
       (dexist (A v) Hv)) (s (dexist (A v) Hv)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e3"><span class="nb">apply</span> has_been_sent_irrelevance.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>sAv</var><span class="hyp-type"><b>: </b><span>vstate
  (sub_IM
     (dexist (A v)
        (proj2_dsig
           (dec_exist
              (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
              Hv))))</span></span></span><br><span><var>HeqsAv</var><span class="hyp-type"><b>: </b><span>sAv =
s
  (dexist (A v)
     (proj2_dsig
        (dec_exist
           (<span class="kr">Œª</span> <span class="nv">v</span> : validator, A v ‚àà indices) v
           Hv)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (SubProjectionTraces.sub_IM IM indices
        (dexist (A v) Hv))) (s (dexist (A v) Hv))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e4"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm sub_IM)) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (SubProjectionTraces.sub_IM IM indices
        (dexist (A v) Hv))) (s (dexist (A v) Hv))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e5"><span class="nb">apply</span> (preloaded_valid_state_projection sub_IM (dec_exist (sub_index_prop indices) (A v) Hv))
    <span class="kr">in</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (sub_IM
        (dec_exist (sub_index_prop indices) 
           (A v) Hv)))
  (s
     (dec_exist (sub_index_prop indices) (A v) Hv))</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (pre_loaded_with_all_messages_vlsm
     (SubProjectionTraces.sub_IM IM indices
        (dexist (A v) Hv))) (s (dexist (A v) Hv))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab4"></a><h2 class="section">No-equivocation results for sub-composition</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
Constraining (only) a subset of the nodes of a composition to not message-
equivocate.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">sub_IM_not_equivocating_constraint</span>
  (<span class="nv">l</span> : composite_label IM)
  (<span class="nv">som</span> : composite_state IM * option message)
  : <span class="kt">Prop</span> :=
  <span class="kr">let</span> (<span class="nv">s</span>, om) := som <span class="kr">in</span>
  <span class="kr">match</span> om <span class="kr">with</span>
  | None =&gt; <span class="kt">True</span>
  | Some m =&gt;
    <span class="kr">match</span> option_map A (sender m) <span class="kr">with</span>
    | None =&gt; <span class="kt">True</span>
    | Some i =&gt;
      <span class="kr">match</span> decide (i ‚àà indices) <span class="kr">with</span>
      | <span class="nb">left</span> non_byzantine_i =&gt;
        <span class="kr">let</span> <span class="nv">sub_i</span> := dec_exist (sub_index_prop indices) i non_byzantine_i <span class="kr">in</span>
        @has_been_sent _ _ (sub_IM_Hbs sub_i) (s i) m
      | _ =&gt; <span class="kt">True</span>
      <span class="kr">end</span>
    <span class="kr">end</span>
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">non_sub_index_authenticated_message</span> (<span class="nv">m</span> : message) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">i</span>, i ‚àâ indices /\ channel_authenticated_message A sender i m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">can_emit_signed</span> : channel_authentication_prop IM A sender)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e6"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_valid_preservation</span> <span class="nv">constraint</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span> : vvalid (induced_sub_projection IM indices constraint) l (s, om))
  : composite_valid sub_IM l (s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid
  (induced_sub_projection IM indices constraint)
  l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid
  (induced_sub_projection IM indices constraint)
  l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e8"><span class="nb">destruct</span> Hv <span class="kr">as</span> [lX [sX [Heql [Heqs [HsX [Hom [Hv Hc]]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel (composite_vlsm IM constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option IM
  indices lX = Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>composite_valid IM lX (sX, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint lX (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3e9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3e9"><span class="nb">revert</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel (composite_vlsm IM constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option IM
  indices lX = Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint lX (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM lX (sX, om)
‚Üí composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ea" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ea"><span class="nb">destruct</span> lX <span class="kr">as</span> (i, lXi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection_option IM
  indices (existT i lXi) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3eb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3eb"><span class="nb">unfold</span> composite_label_sub_projection_option <span class="kr">in</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  decide (projT1 (existT i lXi) ‚àà indices)
<span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection IM
         indices (existT i lXi) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ec" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ec"><span class="nb">simpl</span> <span class="kr">in</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (i ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> i_in =&gt;
    Some
      (composite_label_sub_projection IM
         indices (existT i lXi) i_in)
| in_right =&gt; None
<span class="kr">end</span> = Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ed" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ed">case_decide; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà indices</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection IM indices
     (existT i lXi) H) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ee" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ee"><span class="nb">inversion</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà indices</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection IM indices
     (existT i lXi) H) = 
Some l</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_label_sub_projection IM indices
  (existT i lXi) H = l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM
    (composite_label_sub_projection IM indices
       (existT i lXi) H) (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ef" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ef"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà indices</span></span></span><br><span><var>Heql</var><span class="hyp-type"><b>: </b><span>Some
  (composite_label_sub_projection IM indices
     (existT i lXi) H) =
Some
  (composite_label_sub_projection IM indices
     (existT i lXi) H)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM
    (composite_label_sub_projection IM indices
       (existT i lXi) H)
    (composite_state_sub_projection IM indices sX, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f0"><span class="nb">clear</span> Heql.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lXi</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>i ‚àà indices</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (composite_vlsm IM constraint)
  sX</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM constraint) om</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>constraint (existT i lXi) (sX, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (existT i lXi) (sX, om)
‚Üí composite_valid sub_IM
    (composite_label_sub_projection IM indices
       (existT i lXi) H)
    (composite_state_sub_projection IM indices sX, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f1"><span class="kn">Lemma</span> <span class="nf">induced_sub_projection_transition_preservation</span> [constraint]
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>,
  vtransition (induced_sub_projection IM indices constraint) l (s, om) = (s&#39;, om&#39;) &lt;-&gt;
  composite_transition sub_IM l (s, om) = (s&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om&#39;</span> : option message),
  vtransition
    (induced_sub_projection IM indices constraint) l
    (s, om) = (s&#39;, om&#39;)
  ‚Üî composite_transition sub_IM l (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om&#39;</span> : option message),
  vtransition
    (induced_sub_projection IM indices constraint) l
    (s, om) = (s&#39;, om&#39;)
  ‚Üî composite_transition sub_IM l (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f3"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition
  (induced_sub_projection IM indices constraint) l
  (s, om) = (s&#39;, om&#39;)
‚Üî composite_transition sub_IM l (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f4"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition
  (induced_sub_projection IM indices constraint)
  (existT sub_i li) (s, om) = (s&#39;, om&#39;)
‚Üî composite_transition sub_IM (existT sub_i li)
    (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f5">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop indices) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition
  (induced_sub_projection IM indices constraint)
  (existT sub_i li) (s, om) = (s&#39;, om&#39;)
‚Üî composite_transition sub_IM (existT sub_i li)
    (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f6"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition
  (induced_sub_projection IM indices constraint)
  (existT (dec_exist (sub_index_prop indices) i Hi) li)
  (s, om) = (s&#39;, om&#39;)
‚Üî composite_transition sub_IM
    (existT (dec_exist (sub_index_prop indices) i Hi)
       li) (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f7"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (lift_sub_state IM indices s i, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM indices s) i
      si&#39;, om&#39;) <span class="kr">in</span>
 (composite_state_sub_projection IM indices s&#39;X, om&#39;)) =
(s&#39;, om&#39;)
‚Üî (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition
       (sub_IM
          (dec_exist (sub_index_prop indices) i Hi))
       li
       (s (dec_exist (sub_index_prop indices) i Hi),
       om) <span class="kr">in</span>
   (state_update sub_IM s
      (dec_exist (sub_index_prop indices) i Hi) si&#39;,
   om&#39;)) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f8"><span class="nb">unfold</span> sub_IM <span class="nb">at</span> <span class="mi">6</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (lift_sub_state IM indices s i, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM indices s) i
      si&#39;, om&#39;) <span class="kr">in</span>
 (composite_state_sub_projection IM indices s&#39;X, om&#39;)) =
(s&#39;, om&#39;)
‚Üî (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition
       (sub_IM
          (dec_exist (sub_index_prop indices) i Hi))
       li
       (s (dec_exist (sub_index_prop indices) i Hi),
       om) <span class="kr">in</span>
   (state_update sub_IM s
      (dec_exist (sub_index_prop indices) i Hi) si&#39;,
   om&#39;)) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3f9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3f9"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (lift_sub_state IM indices s i, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM indices s) i
      si&#39;, om&#39;) <span class="kr">in</span>
 (composite_state_sub_projection IM indices s&#39;X, om&#39;)) =
(s&#39;, om&#39;)
‚Üî (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition
       (sub_IM
          (dec_exist (sub_index_prop indices) i Hi))
       li
       (s (dec_exist (sub_index_prop indices) i Hi),
       om) <span class="kr">in</span>
   (state_update sub_IM s
      (dec_exist (sub_index_prop indices) i Hi) si&#39;,
   om&#39;)) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3fa" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3fa"><span class="nb">unfold</span> lift_sub_state <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (lift_sub_state_to IM indices
          (<span class="kr">Œª</span> <span class="nv">n</span> : index, ` (vs0 (IM n))) s i, om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM indices s) i
      si&#39;, om&#39;) <span class="kr">in</span>
 (composite_state_sub_projection IM indices s&#39;X, om&#39;)) =
(s&#39;, om&#39;)
‚Üî (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition
       (sub_IM
          (dec_exist (sub_index_prop indices) i Hi))
       li
       (s (dec_exist (sub_index_prop indices) i Hi),
       om) <span class="kr">in</span>
   (state_update sub_IM s
      (dec_exist (sub_index_prop indices) i Hi) si&#39;,
   om&#39;)) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3fb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3fb"><span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi0 := Hi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition (IM i) li
       (s (dec_exist (sub_index_prop indices) i Hi),
       om) <span class="kr">in</span>
   (state_update IM (lift_sub_state IM indices s) i
      si&#39;, om&#39;) <span class="kr">in</span>
 (composite_state_sub_projection IM indices s&#39;X, om&#39;)) =
(s&#39;, om&#39;)
‚Üî (<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
     vtransition
       (sub_IM
          (dec_exist (sub_index_prop indices) i Hi))
       li
       (s (dec_exist (sub_index_prop indices) i Hi),
       om) <span class="kr">in</span>
   (state_update sub_IM s
      (dec_exist (sub_index_prop indices) i Hi) si&#39;,
   om&#39;)) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3fc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3fc"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (SubProjectionTraces.sub_IM IM indices
     (dec_exist (sub_index_prop indices) i Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(composite_state_sub_projection IM indices
   (state_update IM (lift_sub_state IM indices s) i
      si&#39;), _om&#39;) = (s&#39;, om&#39;)
‚Üî (state_update sub_IM s
     (dec_exist (sub_index_prop indices) i Hi) si&#39;,
  _om&#39;) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">subst</span>; <span class="nb">clear</span> H; <span class="nb">f_equal</span>; extensionality sub_j
  ; destruct_dec_sig sub_j j Hj Heqsub_j
  ; <span class="nb">subst</span> sub_j
  ; <span class="nb">unfold</span> composite_state_sub_projection
  ; <span class="nb">simpl</span>
  ; <span class="nb">unfold</span> sub_IM
  ; (<span class="nb">destruct</span> (decide (i = j))
    ; [<span class="nb">subst</span>; <span class="nb">rewrite</span> state_update_eq, sub_IM_state_update_eq; <span class="bp">reflexivity</span>|])
  ; <span class="nb">rewrite</span> (state_update_neq _ (lift_sub_state _ _ _)) <span class="bp">by</span> <span class="bp">congruence</span>
  ; <span class="nb">rewrite</span> state_update_neq <span class="bp">by</span> (<span class="nb">setoid_rewrite</span> dsig_eq; <span class="nb">simpl</span>; <span class="bp">congruence</span>)
  ; <span class="nb">unfold</span> lift_sub_state
  ; <span class="nb">rewrite</span> lift_sub_state_to_eq <span class="kr">with</span> (Hi0 := Hj)
  ; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3fd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3fd"><span class="kn">Lemma</span> <span class="nf">sub_IM_no_equivocation_preservation</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>
  (<span class="nv">Hv</span> : vvalid (induced_sub_projection IM indices sub_IM_not_equivocating_constraint)
    l (s, om))
  : composite_no_equivocations_except_from sub_IM sub_IM_Hbs
      non_sub_index_authenticated_message l (s, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid
  (induced_sub_projection IM indices
     sub_IM_not_equivocating_constraint) l
  (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  sub_IM_Hbs non_sub_index_authenticated_message l
  (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3fe" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3fe"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid
  (induced_sub_projection IM indices
     sub_IM_not_equivocating_constraint) l
  (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  sub_IM_Hbs non_sub_index_authenticated_message l
  (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk3ff" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk3ff"><span class="nb">destruct</span> om <span class="kr">as</span> [m|]; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid
  (induced_sub_projection IM indices
     sub_IM_not_equivocating_constraint) l
  (s, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  sub_IM_Hbs non_sub_index_authenticated_message l
  (s, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk400" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk400"><span class="nb">destruct</span> Hv <span class="kr">as</span> [lX [sX [_ [Heqs [_ [Hm [_ Hc]]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) 
  (Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>sub_IM_not_equivocating_constraint lX
  (sX, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_no_equivocations_except_from sub_IM
  sub_IM_Hbs non_sub_index_authenticated_message l
  (s, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk401" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk401"><span class="nb">cbn</span> <span class="kr">in</span> Hc |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) 
  (Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> option_map A (sender m) <span class="kr">with</span>
| Some i =&gt;
    <span class="kr">match</span> decide (i ‚àà indices) <span class="kr">with</span>
    | <span class="nb">left</span> non_byzantine_i =&gt;
        has_been_sent
          (sub_IM
             (dec_exist 
                (sub_index_prop indices) i
                non_byzantine_i)) 
          (sX i) m
    | in_right =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk402" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk402"><span class="nb">specialize</span>
    (composite_no_initial_valid_messages_have_sender IM A sender
      can_emit_signed no_initial_messages_in_IM _ _ Hm)
    <span class="kr">as</span> Hhas_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) 
  (Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> option_map A (sender m) <span class="kr">with</span>
| Some i =&gt;
    <span class="kr">match</span> decide (i ‚àà indices) <span class="kr">with</span>
    | <span class="nb">left</span> non_byzantine_i =&gt;
        has_been_sent
          (sub_IM
             (dec_exist 
                (sub_index_prop indices) i
                non_byzantine_i)) 
          (sX i) m
    | in_right =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hhas_sender</var><span class="hyp-type"><b>: </b><span>sender m ‚â† None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk403" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk403"><span class="nb">destruct</span> (sender m) <span class="kr">as</span> [v|] <span class="nb">eqn</span>:Hsender; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) 
  (Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> option_map A (Some v) <span class="kr">with</span>
| Some i =&gt;
    <span class="kr">match</span> decide (i ‚àà indices) <span class="kr">with</span>
    | <span class="nb">left</span> non_byzantine_i =&gt;
        has_been_sent
          (sub_IM
             (dec_exist 
                (sub_index_prop indices) i
                non_byzantine_i)) 
          (sX i) m
    | in_right =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hhas_sender</var><span class="hyp-type"><b>: </b><span>Some v ‚â† None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk404" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk404"><span class="nb">clear</span> Hhas_sender.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) 
  (Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> option_map A (Some v) <span class="kr">with</span>
| Some i =&gt;
    <span class="kr">match</span> decide (i ‚àà indices) <span class="kr">with</span>
    | <span class="nb">left</span> non_byzantine_i =&gt;
        has_been_sent
          (sub_IM
             (dec_exist 
                (sub_index_prop indices) i
                non_byzantine_i)) 
          (sX i) m
    | in_right =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk405" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk405"><span class="nb">simpl</span> <span class="kr">in</span> Hc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) 
  (Some m)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk406" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk406"><span class="nb">apply</span> (emitted_messages_are_valid_iff (composite_vlsm IM sub_IM_not_equivocating_constraint) m)
    <span class="kr">in</span> Hm <span class="kr">as</span> [[i [[im Him] Heqm]] | Hemitted].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>` (im ‚Üæ Him) = m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk407" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk407"><hr></label><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk408" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk408">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>` (im ‚Üæ Him) = m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk409" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk409"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>` (im ‚Üæ Him) = m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40a"><span class="nb">clear</span> -no_initial_messages_in_IM Him.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">elim</span> (no_initial_messages_in_IM i im); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40c"><span class="nb">apply</span> (VLSM_incl_can_emit (constraint_preloaded_free_incl _ _)) <span class="kr">in</span> Hemitted.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (free_composite_vlsm IM)))) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40d"><span class="nb">specialize</span> (can_emit_projection IM A sender Hsender_safety (A v) m) <span class="kr">as</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (free_composite_vlsm IM)))) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some (A v)
‚Üí can_emit
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) m
  ‚Üí can_emit
      (pre_loaded_with_all_messages_vlsm
         (IM (A v))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40e">spec Hemit; [<span class="nb">rewrite</span> Hsender; <span class="nb">intuition</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm
           (free_composite_vlsm IM)))) m</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) m
‚Üí can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM (A v))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk40f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk40f"><span class="nb">apply</span> Hemit <span class="kr">in</span> Hemitted.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) m
‚Üí can_emit
    (pre_loaded_with_all_messages_vlsm
       (IM (A v))) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk410" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk410"><span class="nb">clear</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> decide (A v ‚àà indices) <span class="kr">with</span>
| <span class="nb">left</span> non_byzantine_i =&gt;
    has_been_sent
      (sub_IM
         (dec_exist (sub_index_prop indices)
            (A v) non_byzantine_i)) 
      (sX (A v)) m
| in_right =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk411" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk411">case_decide.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM
     (dec_exist (sub_index_prop indices) (A v) H))
  (sX (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk412" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àâ indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk412"><hr></label><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk413" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk413">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM
     (dec_exist (sub_index_prop indices) (A v) H))
  (sX (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk414" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk414"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM
     (dec_exist (sub_index_prop indices) (A v) H))
  (sX (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk415" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk415"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àà indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM
     (dec_exist (sub_index_prop indices) (A v) H))
  (sX (A v)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs
  (composite_state_sub_projection IM indices sX) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">exact</span> Hc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk416" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk416">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àâ indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent sub_IM sub_IM_Hbs s m
‚à® non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk417" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk417"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àâ indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">non_sub_index_authenticated_message m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk418" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk418"><span class="kr">exists</span> (<span class="nv">A</span> <span class="nv">v</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àâ indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(A v ‚àâ indices)
‚àß channel_authenticated_message A sender (A v) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk419" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk419"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àâ indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">channel_authenticated_message A sender (A v) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41a"><span class="nb">unfold</span> channel_authenticated_message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>sub_IM_Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index indices,
  HasBeenSentCapability (sub_IM sub_i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm IM
     sub_IM_not_equivocating_constraint)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM indices sX =
s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hemitted</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (IM (A v))) m</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender m = Some v</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>A v ‚àâ indices</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_map A (sender m) = Some (A v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> Hsender; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sub_composition_sender</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sub_composition_all</span>.</span></span></pre><div class="doc">
<a id="lab5"></a><h2 class="section">A subcomposition with all the components</h2>
<div class="paragraph"> </div>

If taking the subset of indices used for the sub-composition to be the entire
set of indices, the obtained sub-composition is trace-equivalent with the
original composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  {<span class="nv">finite_index</span> : finite.Finite index}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">sub_IM</span> := sub_IM IM (enum index))
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Program Definition</span> <span class="nf">free_sub_free_index</span> (<span class="nv">i</span> : index) : sub_index (enum index) :=
  dec_exist _ i _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41b"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_index_prop (enum index) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41c"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sub_index_prop (enum index) i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> elem_of_enum.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">free_sub_free_label</span> (<span class="nv">l</span> : composite_label IM) : composite_label sub_IM :=
  <span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
  existT (free_sub_free_index i) li.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">free_sub_free_state</span> (<span class="nv">sub_s</span> : composite_state sub_IM) : composite_state IM :=
  <span class="kr">fun</span> <span class="nv">i</span> =&gt; sub_s (free_sub_free_index i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">free_sub_free_constraint</span>
  (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  : composite_label sub_IM -&gt; composite_state sub_IM * option message -&gt; <span class="kt">Prop</span>
  := <span class="kr">fun</span> <span class="nv">l</span> <span class="nv">som</span> =&gt; <span class="kr">let</span> (<span class="nv">s</span>, om) := som <span class="kr">in</span>
    constraint (lift_sub_label IM (enum index) l) (free_sub_free_state s, om).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">X</span> := composite_vlsm IM constraint)
  (<span class="nv">SubX</span> := composite_vlsm sub_IM (free_sub_free_constraint constraint))
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41d"><span class="kn">Lemma</span> <span class="nf">preloaded_sub_composition_all_full_projection</span>
  (<span class="nv">seed</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM_full_projection (pre_loaded_vlsm X seed) (pre_loaded_vlsm SubX seed) free_sub_free_label (composite_state_sub_projection IM (enum index)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (pre_loaded_vlsm X seed)
  (pre_loaded_vlsm SubX seed) free_sub_free_label
  (composite_state_sub_projection IM (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (pre_loaded_vlsm X seed)
  (pre_loaded_vlsm SubX seed) free_sub_free_label
  (composite_state_sub_projection IM (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk41f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk41f"><span class="nb">apply</span> basic_VLSM_strong_full_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (pre_loaded_vlsm X seed) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (pre_loaded_vlsm SubX seed)
  (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk420" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (pre_loaded_vlsm X seed) l (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk420"><hr></label><div class="goal-conclusion">vtransition (pre_loaded_vlsm SubX seed)
  (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk421" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (pre_loaded_vlsm X seed) s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk421"><hr></label><div class="goal-conclusion">vinitial_state_prop (pre_loaded_vlsm SubX seed)
  (composite_state_sub_projection IM (enum index) s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk422" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop (pre_loaded_vlsm X seed) m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk422"><hr></label><div class="goal-conclusion">vinitial_message_prop (pre_loaded_vlsm SubX seed) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk423" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk423">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (pre_loaded_vlsm X seed) l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (pre_loaded_vlsm SubX seed)
  (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk424" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk424"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (pre_loaded_vlsm X seed) 
  (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (pre_loaded_vlsm SubX seed)
  (free_sub_free_label (existT i li))
  (composite_state_sub_projection IM (enum index) s,
  om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk425" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk425">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (pre_loaded_vlsm X seed) l (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (pre_loaded_vlsm SubX seed)
  (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk426" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk426"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (pre_loaded_vlsm X seed) 
  (existT i li) (s, om) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (pre_loaded_vlsm SubX seed)
  (free_sub_free_label (existT i li))
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk427" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk427"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition (pre_loaded_vlsm X seed) 
  (existT i li) (s, om) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition (pre_loaded_vlsm SubX seed)
  (existT (free_sub_free_index i) li)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk428" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk428"><span class="nb">unfold</span> vtransition <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>transition (existT i li) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT (free_sub_free_index i) li)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk429" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk429"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (sub_IM (free_sub_free_index i)) li
     (composite_state_sub_projection IM (enum index) s
        (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42a"><span class="nb">unfold</span> sub_IM, SubProjectionTraces.sub_IM <span class="nb">at</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM (` (free_sub_free_index i))) li
     (composite_state_sub_projection IM (enum index) s
        (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (composite_state_sub_projection IM (enum index) s
        (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42c"><span class="nb">unfold</span> composite_state_sub_projection <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s (` (free_sub_free_index i)), om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42d"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42e"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, _om&#39;) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update
   (SubProjectionTraces.sub_IM IM (enum index))
   (composite_state_sub_projection IM (enum index) s)
   (free_sub_free_index i) si&#39;, _om&#39;) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk42f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk42f"><span class="nb">inversion_clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update
   (SubProjectionTraces.sub_IM IM (enum index))
   (composite_state_sub_projection IM (enum index) s)
   (free_sub_free_index i) si&#39;, om&#39;) =
(composite_state_sub_projection IM (enum index)
   (state_update IM s i si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk430" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk430"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39; =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk431" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk431"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : sub_index (enum index),
  state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39; x =
  composite_state_sub_projection IM (enum index)
    (state_update IM s i si&#39;) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk432" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk432"><span class="nb">intro</span> sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39; sub_j =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk433" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk433">destruct_dec_sig sub_j j Hj Heqj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>sub_j =
dec_exist (sub_index_prop (enum index)) j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39; sub_j =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk434" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk434"><span class="nb">subst</span> sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;)
  (dec_exist (sub_index_prop (enum index)) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk435" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk435"><span class="nb">unfold</span> composite_state_sub_projection <span class="nb">at</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39;
  (` (dec_exist (sub_index_prop (enum index)) j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk436" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk436"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk437" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk437"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk438" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk438"><hr></label><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk439" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk439">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43a"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index j) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43b"><span class="nb">unfold</span> free_sub_free_index.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (dec_exist (sub_index_prop (enum index)) j
     (free_sub_free_index_obligation_1 j)) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43c"><span class="nb">rewrite</span> state_update_eq, sub_IM_state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43e"><span class="nb">rewrite</span> !state_update_neq; [<span class="bp">reflexivity</span>|<span class="bp">congruence</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist (sub_index_prop (enum index)) j Hj
‚â† free_sub_free_index i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk43f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk43f"><span class="nb">intros</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>dec_exist (sub_index_prop (enum index)) j Hj =
free_sub_free_index i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk440" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk440"><span class="nb">apply</span> dsig_eq <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>`
(dec_exist (sub_index_prop (enum index)) j
   Hj) = ` (free_sub_free_index i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk441" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk441"><span class="nb">simpl</span> <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk442" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk442">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (pre_loaded_vlsm X seed) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (pre_loaded_vlsm SubX seed)
  (composite_state_sub_projection IM (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk443" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk443"><span class="nb">specialize</span> (composite_initial_state_sub_projection IM (enum index) _ H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop (pre_loaded_vlsm X seed) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
‚Üí vinitial_state_prop (pre_loaded_vlsm SubX seed)
    (composite_state_sub_projection IM (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk444" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk444">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop (pre_loaded_vlsm X seed) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop (pre_loaded_vlsm SubX seed) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk445" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk445"><span class="nb">destruct</span> H <span class="kr">as</span> [[i Hi] | Hseed]; [<span class="nb">left</span>|<span class="nb">right</span>; <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk446" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk446"><span class="kr">exists</span> (<span class="nv">free_sub_free_index</span> <span class="nv">i</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message
         (sub_IM (free_sub_free_index i)), ` mi = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk447" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk447"><span class="kn">Lemma</span> <span class="nf">sub_composition_all_full_projection</span>
  : VLSM_full_projection X SubX free_sub_free_label (composite_state_sub_projection IM (enum index)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X SubX free_sub_free_label
  (composite_state_sub_projection IM (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk448" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk448"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X SubX free_sub_free_label
  (composite_state_sub_projection IM (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk449" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk449"><span class="nb">apply</span> basic_VLSM_strong_full_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid X l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid SubX (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk44a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk44a"><hr></label><div class="goal-conclusion">vtransition SubX (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk44b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk44b"><hr></label><div class="goal-conclusion">vinitial_state_prop SubX
  (composite_state_sub_projection IM (enum index) s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk44c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop X m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk44c"><hr></label><div class="goal-conclusion">vinitial_message_prop SubX m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk44d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk44d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid X l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid SubX (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk44e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk44e"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid X (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid SubX (free_sub_free_label (existT i li))
  (composite_state_sub_projection IM (enum index) s,
  om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk44f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk44f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition SubX (free_sub_free_label l)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk450" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk450"><span class="nb">destruct</span> l <span class="kr">as</span> (i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition SubX (free_sub_free_label (existT i li))
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk451" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk451"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition X (existT i li) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition SubX (existT (free_sub_free_index i) li)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk452" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk452"><span class="nb">unfold</span> vtransition <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>transition (existT i li) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT (free_sub_free_index i) li)
  (composite_state_sub_projection IM (enum index) s,
  om) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk453" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk453"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (sub_IM (free_sub_free_index i)) li
     (composite_state_sub_projection IM (enum index) s
        (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update sub_IM
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk454" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk454"><span class="nb">unfold</span> sub_IM, SubProjectionTraces.sub_IM <span class="nb">at</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM (` (free_sub_free_index i))) li
     (composite_state_sub_projection IM (enum index) s
        (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk455" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk455"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (composite_state_sub_projection IM (enum index) s
        (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk456" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk456"><span class="nb">unfold</span> composite_state_sub_projection <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s (` (free_sub_free_index i)), om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk457" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk457"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update IM s i si&#39;, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := vtransition (IM i) li (s i, om) <span class="kr">in</span>
 (state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39;, om&#39;)) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk458" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk458"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(state_update IM s i si&#39;, _om&#39;) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update
   (SubProjectionTraces.sub_IM IM (enum index))
   (composite_state_sub_projection IM (enum index) s)
   (free_sub_free_index i) si&#39;, _om&#39;) =
(composite_state_sub_projection IM (enum index) s&#39;,
om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk459" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk459"><span class="nb">inversion_clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update
   (SubProjectionTraces.sub_IM IM (enum index))
   (composite_state_sub_projection IM (enum index) s)
   (free_sub_free_index i) si&#39;, om&#39;) =
(composite_state_sub_projection IM (enum index)
   (state_update IM s i si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45a"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39; =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45b"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : sub_index (enum index),
  state_update
    (SubProjectionTraces.sub_IM IM (enum index))
    (composite_state_sub_projection IM (enum index) s)
    (free_sub_free_index i) si&#39; x =
  composite_state_sub_projection IM (enum index)
    (state_update IM s i si&#39;) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45c"><span class="nb">intro</span> sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39; sub_j =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45d">destruct_dec_sig sub_j j Hj Heqj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_j</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>Heqj</var><span class="hyp-type"><b>: </b><span>sub_j =
dec_exist (sub_index_prop (enum index)) j Hj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39; sub_j =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;) sub_j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45e"><span class="nb">subst</span> sub_j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
composite_state_sub_projection IM (enum index)
  (state_update IM s i si&#39;)
  (dec_exist (sub_index_prop (enum index)) j Hj)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk45f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk45f"><span class="nb">unfold</span> composite_state_sub_projection <span class="nb">at</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39;
  (` (dec_exist (sub_index_prop (enum index)) j Hj))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk460" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk460"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk461" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk461"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk462" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk462"><hr></label><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk463" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk463">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk464" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk464"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index j) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk465" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk465"><span class="nb">unfold</span> free_sub_free_index.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (dec_exist (sub_index_prop (enum index)) j
     (free_sub_free_index_obligation_1 j)) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s j si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk466" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk466"><span class="nb">rewrite</span> state_update_eq, sub_IM_state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk467" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk467">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
  (free_sub_free_index i) si&#39;
  (dec_exist (sub_index_prop (enum index)) j Hj) =
state_update IM s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk468" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk468"><span class="nb">rewrite</span> !state_update_neq; [<span class="bp">reflexivity</span>|<span class="bp">congruence</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dec_exist (sub_index_prop (enum index)) j Hj
‚â† free_sub_free_index i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk469" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk469"><span class="nb">intros</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>dec_exist (sub_index_prop (enum index)) j Hj =
free_sub_free_index i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46a"><span class="nb">apply</span> dsig_eq <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>`
(dec_exist (sub_index_prop (enum index)) j
   Hj) = ` (free_sub_free_index i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46b"><span class="nb">simpl</span> <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop SubX
  (composite_state_sub_projection IM (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46d"><span class="nb">specialize</span> (composite_initial_state_sub_projection IM (enum index) _ H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop
  (SubProjectionTraces.sub_IM IM (enum index))
  (composite_state_sub_projection IM (enum index) s)
‚Üí vinitial_state_prop SubX
    (composite_state_sub_projection IM (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop SubX m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk46f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk46f"><span class="nb">destruct</span> H <span class="kr">as</span> [i Hi].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop SubX m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk470" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk470"><span class="kr">exists</span> (<span class="nv">free_sub_free_index</span> <span class="nv">i</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message
         (sub_IM (free_sub_free_index i)), ` mi = m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk471" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk471"><span class="kn">Lemma</span> <span class="nf">sub_composition_all_full_projection_rev</span>
  : VLSM_full_projection SubX X (lift_sub_label IM (enum index)) free_sub_free_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection SubX X
  (lift_sub_label IM (enum index)) free_sub_free_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk472" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk472"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection SubX X
  (lift_sub_label IM (enum index)) free_sub_free_state</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk473" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk473"><span class="nb">apply</span> basic_VLSM_strong_full_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubX l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X (lift_sub_label IM (enum index) l)
  (free_sub_free_state s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk474" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubX l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk474"><hr></label><div class="goal-conclusion">vtransition X (lift_sub_label IM (enum index) l)
  (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk475" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop SubX s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk475"><hr></label><div class="goal-conclusion">vinitial_state_prop X (free_sub_free_state s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk476" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop SubX m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk476"><hr></label><div class="goal-conclusion">vinitial_message_prop X m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk477" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk477">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubX l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X (lift_sub_label IM (enum index) l)
  (free_sub_free_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk478" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk478"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubX (existT sub_i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X
  (lift_sub_label IM (enum index) (existT sub_i li))
  (free_sub_free_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk479" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk479"><span class="nb">split</span>; [|<span class="nb">apply</span> H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubX (existT sub_i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM
  (lift_sub_label IM (enum index) (existT sub_i li))
  (free_sub_free_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47a">destruct_dec_sig sub_i i Hi Heqi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubX (existT sub_i li) (s, om)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>Heqi</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop (enum index)) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM
  (lift_sub_label IM (enum index) (existT sub_i li))
  (free_sub_free_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47b"><span class="nb">subst</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubX
  (existT
     (dec_exist (sub_index_prop (enum index)) i Hi)
     li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM
  (lift_sub_label IM (enum index)
     (existT
        (dec_exist (sub_index_prop (enum index)) i Hi)
        li)) (free_sub_free_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47c"><span class="nb">apply</span> proj1 <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>composite_valid sub_IM
  (existT
     (dec_exist (sub_index_prop (enum index)) i Hi)
     li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM
  (lift_sub_label IM (enum index)
     (existT
        (dec_exist (sub_index_prop (enum index)) i Hi)
        li)) (free_sub_free_state s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47d"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i Hi))
  li
  (s
     (dec_exist (sub_index_prop (enum index)) i Hi),
  om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li (free_sub_free_state s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47e"><span class="nb">unfold</span> sub_IM, SubProjectionTraces.sub_IM <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid
  (IM
     (`
      (dec_exist (sub_index_prop (enum index)) i
         Hi))) li
  (s
     (dec_exist (sub_index_prop (enum index)) i Hi),
  om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li (free_sub_free_state s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk47f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk47f"><span class="nb">simpl</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li
  (s
     (dec_exist (sub_index_prop (enum index)) i Hi),
  om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li (free_sub_free_state s i, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk480" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk480"><span class="nb">unfold</span> free_sub_free_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li
  (s
     (dec_exist (sub_index_prop (enum index)) i Hi),
  om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid (IM i) li (s (free_sub_free_index i), om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk481" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk481"><span class="nb">replace</span> (s (free_sub_free_index i)) <span class="kr">with</span> (s (@dec_exist _ _ (sub_index_prop_dec (enum index)) i Hi))
    ; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid (IM i) li
  (s
     (dec_exist (sub_index_prop (enum index)) i Hi),
  om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s (dec_exist (sub_index_prop (enum index)) i Hi) =
s (free_sub_free_index i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> sub_IM_state_pi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk482" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk482">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubX l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X (lift_sub_label IM (enum index) l)
  (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk483" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk483"><span class="nb">destruct</span> l <span class="kr">as</span> (sub_i, li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubX (existT sub_i li) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X
  (lift_sub_label IM (enum index) (existT sub_i li))
  (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk484" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk484"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubX (existT sub_i li) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X
  (lift_sub_label IM (enum index) (existT sub_i li))
  (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk485" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk485">destruct_dec_sig sub_i i Hi Heqi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index (enum index)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (sub_IM sub_i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubX (existT sub_i li) (s, om) =
(s&#39;, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>Heqi</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop (enum index)) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X
  (lift_sub_label IM (enum index) (existT sub_i li))
  (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk486" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk486"><span class="nb">subst</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubX
  (existT
     (dec_exist (sub_index_prop (enum index)) i Hi)
     li) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X
  (lift_sub_label IM (enum index)
     (existT
        (dec_exist (sub_index_prop (enum index)) i Hi)
        li)) (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk487" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk487"><span class="nb">unfold</span> vtransition <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>transition
  (existT
     (dec_exist (sub_index_prop (enum index)) i Hi)
     li) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition
  (lift_sub_label IM (enum index)
     (existT
        (dec_exist (sub_index_prop (enum index)) i Hi)
        li)) (free_sub_free_state s, om) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk488" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk488"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition
     (sub_IM
        (dec_exist (sub_index_prop (enum index)) i
           Hi)) li
     (s
        (dec_exist (sub_index_prop (enum index)) i
           Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist (sub_index_prop (enum index)) i Hi)
    si&#39;, om&#39;)) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (free_sub_free_state s i, om) <span class="kr">in</span>
 (state_update IM (free_sub_free_state s) i si&#39;, om&#39;)) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk489" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk489"><span class="nb">unfold</span> sub_IM <span class="nb">at</span> <span class="mi">2</span>, SubProjectionTraces.sub_IM <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition
     (IM
        (`
         (dec_exist (sub_index_prop (enum index))
            i Hi))) li
     (s
        (dec_exist (sub_index_prop (enum index)) i
           Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist (sub_index_prop (enum index)) i Hi)
    si&#39;, om&#39;)) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (free_sub_free_state s i, om) <span class="kr">in</span>
 (state_update IM (free_sub_free_state s) i si&#39;, om&#39;)) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48a"><span class="nb">simpl</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s
        (dec_exist (sub_index_prop (enum index)) i
           Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist (sub_index_prop (enum index)) i Hi)
    si&#39;, om&#39;)) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li (free_sub_free_state s i, om) <span class="kr">in</span>
 (state_update IM (free_sub_free_state s) i si&#39;, om&#39;)) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48b"><span class="nb">unfold</span> free_sub_free_state <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s
        (dec_exist (sub_index_prop (enum index)) i
           Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist (sub_index_prop (enum index)) i Hi)
    si&#39;, om&#39;)) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s (free_sub_free_index i), om) <span class="kr">in</span>
 (state_update IM (free_sub_free_state s) i si&#39;, om&#39;)) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48c"><span class="nb">replace</span> (s (free_sub_free_index i)) <span class="kr">with</span> (s (@dec_exist _ _ (sub_index_prop_dec (enum index)) i Hi))
      <span class="bp">by</span> <span class="nb">apply</span> sub_IM_state_pi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s
        (dec_exist (sub_index_prop (enum index)) i
           Hi), om) <span class="kr">in</span>
 (state_update sub_IM s
    (dec_exist (sub_index_prop (enum index)) i Hi)
    si&#39;, om&#39;)) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   vtransition (IM i) li
     (s (dec_exist (sub_index_prop (enum index)) i Hi),
     om) <span class="kr">in</span>
 (state_update IM (free_sub_free_state s) i si&#39;, om&#39;)) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48d"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (si&#39;, _om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(state_update sub_IM s
   (dec_exist (sub_index_prop (enum index)) i Hi)
   si&#39;, _om&#39;) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (free_sub_free_state s) i si&#39;, _om&#39;) =
(free_sub_free_state s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48e"><span class="nb">inversion_clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (free_sub_free_state s) i si&#39;, om&#39;) =
(free_sub_free_state
   (state_update sub_IM s
      (dec_exist (sub_index_prop (enum index)) i Hi)
      si&#39;), om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk48f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk48f"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; =
free_sub_free_state
  (state_update sub_IM s
     (dec_exist (sub_index_prop (enum index)) i Hi)
     si&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk490" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk490"><span class="nb">apply</span> functional_extensionality_dep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  state_update IM (free_sub_free_state s) i si&#39; x =
  free_sub_free_state
    (state_update sub_IM s
       (dec_exist (sub_index_prop (enum index)) i Hi)
       si&#39;) x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk491" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk491"><span class="nb">intro</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; j =
free_sub_free_state
  (state_update sub_IM s
     (dec_exist (sub_index_prop (enum index)) i Hi)
     si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk492" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk492"><span class="nb">unfold</span> free_sub_free_state <span class="nb">at</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) i Hi) si&#39;
  (free_sub_free_index j)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk493" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk493"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) i Hi) si&#39;
  (free_sub_free_index j)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk494" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk494"><hr></label><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) i Hi) si&#39;
  (free_sub_free_index j)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk495" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk495">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) i Hi) si&#39;
  (free_sub_free_index j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk496" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk496"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) j
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) j si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) j Hi) si&#39;
  (free_sub_free_index j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk497" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk497"><span class="nb">unfold</span> free_sub_free_index.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) j
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) j si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) j Hi) si&#39;
  (dec_exist (sub_index_prop (enum index)) j
     (free_sub_free_index_obligation_1 j))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk498" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk498"><span class="nb">unfold</span> sub_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) j
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) j si&#39; j =
state_update
  (SubProjectionTraces.sub_IM IM (enum index)) s
  (dec_exist (sub_index_prop (enum index)) j Hi) si&#39;
  (dec_exist (sub_index_prop (enum index)) j
     (free_sub_free_index_obligation_1 j))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk499" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk499"><span class="nb">rewrite</span> state_update_eq, sub_IM_state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) j
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; = si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49a" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (free_sub_free_state s) i si&#39; j =
state_update sub_IM s
  (dec_exist (sub_index_prop (enum index)) i Hi) si&#39;
  (free_sub_free_index j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49b" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49b"><span class="nb">rewrite</span> !state_update_neq; [<span class="bp">reflexivity</span>| |<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">free_sub_free_index j
‚â† dec_exist (sub_index_prop (enum index)) i Hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49c" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49c"><span class="nb">intro</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>free_sub_free_index j =
dec_exist (sub_index_prop (enum index)) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49d" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49d"><span class="nb">apply</span> dsig_eq <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>` (free_sub_free_index j) =
`
(dec_exist (sub_index_prop (enum index)) i
   Hi)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49e" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49e"><span class="nb">simpl</span> <span class="kr">in</span> Hcontra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop (enum index) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel
  (sub_IM
     (dec_exist (sub_index_prop (enum index)) i
        Hi))</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>_composite_state sub_IM</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hcontra</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk49f" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk49f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop SubX s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X (free_sub_free_state s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a0"><span class="nb">intro</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop SubX s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (free_sub_free_state s i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a1"><span class="nb">specialize</span> (H (free_sub_free_index i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop
  (sub_IM (free_sub_free_index i))
  (s (free_sub_free_index i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop (IM i) (free_sub_free_state s i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop SubX m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop X m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a3"><span class="nb">destruct</span> H <span class="kr">as</span> [[i Hi] Him].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop (enum index) i)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (sub_IM (i ‚Üæ Hi)),
  ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop X m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a4"><span class="kr">exists</span> <span class="nv">i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>finite_index</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM (enum index)</span></span><span class="hyp-type"><b>: </b><span>sub_index (enum index) ‚Üí VLSM message</span></span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubX</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm sub_IM
  (free_sub_free_constraint constraint)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>bool_decide (sub_index_prop (enum index) i)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (sub_IM (i ‚Üæ Hi)),
  ` mi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">mi</span> : vinitial_message (IM i), ` mi = m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sub_composition_all</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sub_composition_preloaded_lift</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  <span class="nv">indices</span>
  (<span class="nv">Free</span> := free_composite_vlsm IM)
  (<span class="nv">PreFree</span> := pre_loaded_with_all_messages_vlsm Free)
  (<span class="nv">SubFree</span> := free_composite_vlsm (sub_IM IM indices))
  (<span class="nv">PreSubFree</span> := pre_loaded_with_all_messages_vlsm SubFree)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a5"><span class="kn">Lemma</span> <span class="nf">lift_sub_free_preloaded_with_full_projection</span>
  (<span class="nv">seed</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM_full_projection (pre_loaded_vlsm SubFree seed) (pre_loaded_vlsm Free seed)
    (lift_sub_label IM indices) (lift_sub_state IM indices).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (pre_loaded_vlsm SubFree seed)
  (pre_loaded_vlsm Free seed)
  (lift_sub_label IM indices)
  (lift_sub_state IM indices)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (pre_loaded_vlsm SubFree seed)
  (pre_loaded_vlsm Free seed)
  (lift_sub_label IM indices)
  (lift_sub_state IM indices)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4a7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4a7"><span class="nb">apply</span> (basic_VLSM_full_projection_preloaded_with SubFree Free seed seed); <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>seed m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk4a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubFree l (s, om)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk4a8"><hr></label><div class="goal-conclusion">vvalid Free (lift_sub_label IM indices l)
  (lift_sub_state IM indices s, om)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk4a9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubFree l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk4a9"><hr></label><div class="goal-conclusion">vtransition Free (lift_sub_label IM indices l)
  (lift_sub_state IM indices s, om) =
(lift_sub_state IM indices s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk4aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop SubFree s</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk4aa"><hr></label><div class="goal-conclusion">vinitial_state_prop Free (lift_sub_state IM indices s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk4ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop SubFree m</span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk4ab"><hr></label><div class="goal-conclusion">vinitial_message_prop Free m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4ac" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4ac">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>seed m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">seed m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4ad" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4ad">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubFree l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Free (lift_sub_label IM indices l)
  (lift_sub_state IM indices s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4ae" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4ae"><span class="nb">split</span>; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubFree l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid IM (lift_sub_label IM indices l)
  (lift_sub_state IM indices s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4af" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4af"><span class="nb">apply</span> lift_sub_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vvalid SubFree l (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid (sub_IM IM indices) l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vtransition SubFree l (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Free (lift_sub_label IM indices l)
  (lift_sub_state IM indices s, om) =
(lift_sub_state IM indices s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> lift_sub_transition; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop SubFree s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop Free (lift_sub_state IM indices s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (lift_sub_state_initial IM); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop SubFree m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop Free m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (lift_sub_message_initial IM indices); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b3"><span class="kn">Lemma</span> <span class="nf">lift_sub_free_full_projection</span>
  : VLSM_full_projection SubFree Free
    (lift_sub_label IM indices) (lift_sub_state IM indices).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection SubFree Free
  (lift_sub_label IM indices)
  (lift_sub_state IM indices)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection SubFree Free
  (lift_sub_label IM indices)
  (lift_sub_state IM indices)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b5"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace SubFree sX trX
  ‚Üí finite_valid_trace Free
      (lift_sub_state IM indices sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type SubFree) (type Free)
         (lift_sub_label IM indices)
         (lift_sub_state IM indices) trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b6"><span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace SubFree sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Free (lift_sub_state IM indices sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type SubFree) (type Free)
     (lift_sub_label IM indices)
     (lift_sub_state IM indices) trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b7"><span class="nb">apply</span> (VLSM_eq_finite_valid_trace (vlsm_is_pre_loaded_with_False Free)),
    (VLSM_full_projection_finite_valid_trace (lift_sub_free_preloaded_with_full_projection _)),
    (VLSM_eq_finite_valid_trace (vlsm_is_pre_loaded_with_False SubFree)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace SubFree sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm (machine SubFree)) sX trX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b8"><span class="kn">Lemma</span> <span class="nf">lift_sub_preloaded_free_full_projection</span>
  : VLSM_full_projection PreSubFree PreFree
    (lift_sub_label IM indices) (lift_sub_state IM indices).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection PreSubFree PreFree
  (lift_sub_label IM indices)
  (lift_sub_state IM indices)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4b9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4b9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection PreSubFree PreFree
  (lift_sub_label IM indices)
  (lift_sub_state IM indices)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4ba" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4ba"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace PreSubFree sX trX
  ‚Üí finite_valid_trace PreFree
      (lift_sub_state IM indices sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type PreSubFree) (type PreFree)
         (lift_sub_label IM indices)
         (lift_sub_state IM indices) trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4bb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4bb"><span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace PreSubFree sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace PreFree
  (lift_sub_state IM indices sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type PreSubFree) (type PreFree)
     (lift_sub_label IM indices)
     (lift_sub_state IM indices) trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4bc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4bc"><span class="nb">apply</span> (VLSM_eq_finite_valid_trace (pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True Free)),
    (VLSM_full_projection_finite_valid_trace (lift_sub_free_preloaded_with_full_projection _)),
    (VLSM_eq_finite_valid_trace (pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True SubFree)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace PreSubFree sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (mk_vlsm
     (machine
        (pre_loaded_with_all_messages_vlsm SubFree)))
  sX trX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4bd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4bd"><span class="kn">Lemma</span> <span class="nf">can_emit_sub_projection</span>
  {<span class="nv">validator</span> : <span class="kt">Type</span>}
  (<span class="nv">A</span> : validator -&gt; index)
  (<span class="nv">sender</span> : message -&gt; option validator)
  (<span class="nv">Hsender_safety</span> : sender_safety_alt_prop IM A sender)
  (<span class="nv">j</span> : index)
  (<span class="nv">m</span> : message)
  (<span class="nv">Hj</span> : option_map A (sender m) = Some j)
  : can_emit PreSubFree m -&gt; can_emit (pre_loaded_with_all_messages_vlsm (IM j)) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit PreSubFree m
‚Üí can_emit (pre_loaded_with_all_messages_vlsm (IM j))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4be" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4be"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit PreSubFree m
‚Üí can_emit (pre_loaded_with_all_messages_vlsm (IM j))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4bf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4bf"><span class="nb">intro</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some j</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit PreSubFree m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm (IM j)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c0"><span class="nb">apply</span> can_emit_projection <span class="kr">with</span> validator A sender; [<span class="bp">assumption</span>|<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some j</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit PreSubFree m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c1"><span class="nb">revert</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Hsender_safety</var><span class="hyp-type"><b>: </b><span>sender_safety_alt_prop IM A sender</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>option_map A (sender m) = Some j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit PreSubFree m
‚Üí can_emit
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_full_projection_can_emit lift_sub_preloaded_free_full_projection).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If a node can emit a message, it can also emit it in a subcomposition with
other nodes, and starting with more pre-loaded messages.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c2"><span class="kn">Lemma</span> <span class="nf">can_emit_with_more</span>
  (<span class="nv">j</span> : index)
  (<span class="nv">m</span> : message)
  (<span class="nv">Hj</span> : j ‚àà indices)
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">PimpliesQ</span> : <span class="kr">forall</span> <span class="nv">m</span>, P m -&gt; Q m)
  : can_emit (pre_loaded_vlsm (IM j) P) m -&gt; can_emit (pre_loaded_vlsm SubFree Q) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àà indices</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_vlsm (IM j) P) m
‚Üí can_emit (pre_loaded_vlsm SubFree Q) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àà indices</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_vlsm (IM j) P) m
‚Üí can_emit (pre_loaded_vlsm SubFree Q) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c4"><span class="nb">intro</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àà indices</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit (pre_loaded_vlsm (IM j) P) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_vlsm SubFree Q) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c5"><span class="nb">specialize</span>
    (lift_to_composite_generalized_preloaded_vlsm_full_projection
      (sub_IM IM indices) _ _ PimpliesQ (dexist j Hj))
    <span class="kr">as</span> Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àà indices</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit (pre_loaded_vlsm (IM j) P) m</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (pre_loaded_vlsm
     (sub_IM IM indices (dexist j Hj)) P)
  (pre_loaded_vlsm
     (free_composite_vlsm (sub_IM IM indices))
     Q)
  (lift_to_composite_label 
     (sub_IM IM indices) 
     (dexist j Hj))
  (lift_to_composite_state 
     (sub_IM IM indices) 
     (dexist j Hj))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_vlsm SubFree Q) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c6"><span class="nb">apply</span> (VLSM_full_projection_can_emit Hproj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm Free</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>SubFree</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>PreSubFree</var><span><span class="hyp-body"><b>:= </b><span>pre_loaded_with_all_messages_vlsm SubFree</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àà indices</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit (pre_loaded_vlsm (IM j) P) m</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  (pre_loaded_vlsm
     (sub_IM IM indices (dexist j Hj)) P)
  (pre_loaded_vlsm
     (free_composite_vlsm (sub_IM IM indices))
     Q)
  (lift_to_composite_label 
     (sub_IM IM indices) 
     (dexist j Hj))
  (lift_to_composite_state 
     (sub_IM IM indices) 
     (dexist j Hj))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (sub_IM IM indices (dexist j Hj)) P)
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sub_composition_preloaded_lift</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">empty_sub_composition</span>.</span></span></pre><div class="doc">
<a id="lab6"></a><h2 class="section">A subcomposition with no components</h2>
<div class="paragraph"> </div>

If taking the subset of indices used for the sub-composition to be the empty
set of indices, the obtained sub-composition is an empty composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">index</span> : <span class="kt">Type</span>}
  {<span class="nv">IndEqDec</span> : EqDecision index}
  (<span class="nv">IM</span> : index -&gt; VLSM message)
  <span class="nv">indices</span>
  (<span class="nv">sub_IM</span> := sub_IM IM indices)
  (<span class="nv">sub_index_prop_dec</span> : <span class="kr">forall</span> <span class="nv">i</span>, Decision (sub_index_prop indices i) := sub_index_prop_dec indices)
  (<span class="nv">Hno_indices</span> : indices = [])
  .</span></span></pre><div class="doc">
If a sub-composition <span class="inlinecode"><span class="id" title="var">can_emit</span></span> a message then its sender must be one of
the components of the sub-composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c7"><span class="kn">Lemma</span> <span class="nf">sub_no_indices_no_can_emit</span> (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  : <span class="kr">forall</span> <span class="nv">m</span>, ~ can_emit (pre_loaded_vlsm (free_composite_vlsm sub_IM) P) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  ¬¨ can_emit
      (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
      m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  ¬¨ can_emit
      (pre_loaded_vlsm (free_composite_vlsm sub_IM) P)
      m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4c9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4c9"><span class="nb">apply</span>
    (pre_loaded_empty_composition_no_emit sub_IM (free_constraint sub_IM) []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk4ca" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk4ca"><hr></label><div class="goal-conclusion">[] = []</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4cb" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4cb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Listing []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4cc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4cc"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.NoDup []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="SubProjectionTraces-v-chk4cd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="SubProjectionTraces-v-chk4cd"><hr></label><div class="goal-conclusion">Full []</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4ce" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4ce">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">List.NoDup []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4cf" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4cf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Full []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d0" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d0"><span class="nb">intro</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In sub_i []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d1" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d1">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist (sub_index_prop indices) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In sub_i []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d2" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d2"><span class="nb">subst</span> indices.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  []</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision (sub_index_prop [] i)</span></span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM []</span></span><span class="hyp-type"><b>: </b><span>sub_index [] ‚Üí VLSM message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index []</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop [] i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i = dec_exist (sub_index_prop []) i Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">In sub_i []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> Hi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d3" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IndEqDec</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_IM</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_IM IM indices</span></span><span class="hyp-type"><b>: </b><span>sub_index indices ‚Üí VLSM message</span></span></span></span><br><span><var>sub_index_prop_dec</var><span><span class="hyp-body"><b>:= </b><span>SubProjectionTraces.sub_index_prop_dec
  indices</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  Decision
    (sub_index_prop indices i)</span></span></span></span><br><span><var>Hno_indices</var><span class="hyp-type"><b>: </b><span>indices = []</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">empty_sub_composition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">update_IM</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{EqDecision index}
  (IM : index -&gt; VLSM message)
  (selection : <span class="nb">set</span> index)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">update_IM</span>
  (<span class="nv">replacement_IM</span> : sub_index selection -&gt; VLSM message)
  (<span class="nv">i</span> : index)
  : VLSM message :=
  <span class="kr">match</span> decide (i ‚àà selection) <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt; replacement_IM (dec_exist (sub_index_prop selection) i i_in)
  | _ =&gt; IM i
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">(* TODO(bmmoore): use the definition above to provide an alternate definition</span>
<span class="c">for fixed-set equivocation model, similar to the one for byzantine traces.</span>
<span class="c">*)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">replacement_IM</span> : sub_index selection -&gt; VLSM message)
  (<span class="nv">updated_IM</span> := update_IM replacement_IM)
  `{finite.Finite index}
  (selection_complement : <span class="nb">set</span> index := set_diff (enum index) selection)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d4" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d4"><span class="kn">Lemma</span> <span class="nf">update_IM_complement_Hbs</span>
  (<span class="nv">Hbs</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i))
  : <span class="kr">forall</span> <span class="nv">sub_i</span> : sub_index selection_complement,
    HasBeenSentCapability (sub_IM updated_IM selection_complement sub_i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index selection_complement,
  HasBeenSentCapability
    (sub_IM updated_IM selection_complement sub_i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d5" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sub_i</span> : sub_index selection_complement,
  HasBeenSentCapability
    (sub_IM updated_IM selection_complement sub_i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d6" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d6"><span class="nb">intros</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index selection_complement</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenSentCapability
  (sub_IM updated_IM selection_complement sub_i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d7" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d7"><span class="nb">unfold</span> sub_IM, updated_IM, update_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index selection_complement</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenSentCapability
  <span class="kr">match</span> decide (` sub_i ‚àà selection) <span class="kr">with</span>
  | <span class="nb">left</span> i_in =&gt;
      replacement_IM
        (dec_exist (sub_index_prop selection)
           (` sub_i) i_in)
  | in_right =&gt; IM (` sub_i)
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d8" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d8">case_decide; [|<span class="nb">apply</span> Hbs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index selection_complement</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>` sub_i ‚àà selection</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenSentCapability
  (replacement_IM
     (dec_exist (sub_index_prop selection) (` sub_i)
        H0))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4d9" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4d9"><span class="nb">exfalso</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index selection_complement</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>` sub_i ‚àà selection</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4da" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4da">destruct_dec_sig sub_i i Hi Heqsub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index selection_complement</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>` sub_i ‚àà selection</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop selection_complement i</span></span></span><br><span><var>Heqsub_i</var><span class="hyp-type"><b>: </b><span>sub_i =
dec_exist
  (sub_index_prop selection_complement) i
  Hi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4db" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4db"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop selection_complement i</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>`
(dec_exist (sub_index_prop selection_complement)
   i Hi) ‚àà selection</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4dc" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4dc"><span class="nb">simpl</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop selection_complement i</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i ‚àà selection</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="SubProjectionTraces-v-chk4dd" style="display: none" type="checkbox"><label class="alectryon-input" for="SubProjectionTraces-v-chk4dd"><span class="nb">apply</span> set_diff_elim2 <span class="kr">in</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>selection</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>replacement_IM</var><span class="hyp-type"><b>: </b><span>sub_index selection ‚Üí VLSM message</span></span></span><br><span><var>updated_IM</var><span><span class="hyp-body"><b>:= </b><span>update_IM replacement_IM</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>selection_complement</var><span><span class="hyp-body"><b>:= </b><span>set_diff (enum index) selection</span></span><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span></span><br><span><var>Hbs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àâ selection</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>i ‚àà selection</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradiction</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">update_IM</span>.</span></span></pre></article></body></html>