<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Decisions.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FinFun Streams Logic.Epsilon Arith.Compare_dec Lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Lib.Preamble Lib.ListExtras Lib.ListSetExtras Lib.RealsExtras.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Core.VLSM Core.Composition Core.VLSMProjections Core.ProjectionTraces.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">VLSM Decisions on Consensus Values</h1>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">(* Need to add consensus values (and decision functions) to VLSM definitions? *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">ConsensusValues</span> :=
  { C : <span class="kt">Type</span>;
    about_C : <span class="kr">exists</span> (<span class="nv">c1</span> <span class="nv">c2</span> : C), c1 &lt;&gt; c2;
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">decision</span> {<span class="nv">message</span>} (<span class="nv">T</span> : VLSMType message) {<span class="nv">CV</span> : ConsensusValues}
  := @state _ T -&gt; option C.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">vdecision</span> {<span class="nv">message</span>} (<span class="nv">V</span> : VLSM message) {<span class="nv">CV</span> : ConsensusValues}
  := decision (type V).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CommuteSingleton</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    {<span class="nv">CV</span> : ConsensusValues}
    (<span class="nv">V</span> : VLSM message).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* 3.2.1 Decision finality *)</span>

  <span class="c">(* Definition of finality per document. *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">final_original</span> : vdecision V -&gt; <span class="kt">Prop</span> :=
    <span class="kr">fun</span> (<span class="nv">D</span> : vdecision V) =&gt; <span class="kr">forall</span> (<span class="nv">tr</span> : valid_trace V),
        <span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">n2</span> : nat) (<span class="nv">s1</span> <span class="nv">s2</span> : state) (<span class="nv">c1</span> <span class="nv">c2</span> : C),
          (trace_nth (proj1_sig tr) n1 = Some s1) -&gt;
          (trace_nth (proj1_sig tr) n2 = Some s2) -&gt;
          (D s1 = (Some c1)) -&gt;
          (D s2 = (Some c2)) -&gt;
          c1 = c2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Definition of finality using in_futures, which plays better with the estimator property *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">final</span>: vdecision V -&gt; <span class="kt">Prop</span> :=
  <span class="kr">fun</span> (<span class="nv">D</span> : vdecision V) =&gt; <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : vstate V) (<span class="nv">c1</span> <span class="nv">c2</span> : C),
        in_futures V s1 s2 -&gt;
        (D s1 = (Some c1)) -&gt;
        (D s2 = (Some c2)) -&gt;
        c1 = c2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* 3.3.1 Initial state bivalence *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">bivalent</span> : vdecision V -&gt; <span class="kt">Prop</span> :=
    <span class="kr">fun</span> (<span class="nv">D</span> : vdecision V) =&gt;
      <span class="c">(* All initial states decide on None *)</span>
      (<span class="kr">forall</span> (<span class="nv">s0</span> : state),
        vinitial_state_prop V s0 -&gt;
        D s0 = None) /\
      <span class="c">(* Every valid trace (already beginning from an initial state) contains a state deciding on each consensus value *)</span>
      (<span class="kr">forall</span> (<span class="nv">c</span> : C) ,
          <span class="kr">exists</span> (<span class="nv">tr</span> : valid_trace V) (<span class="nv">s</span> : state) (<span class="nv">n</span> : nat),
            (trace_nth (proj1_sig tr) n) = Some s /\ D s = (Some c)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* 3.3.2 No stuck states *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">stuck_free</span> : vdecision V -&gt; <span class="kt">Prop</span> :=
    <span class="kr">fun</span> (<span class="nv">D</span> : vdecision V) =&gt;
      (<span class="kr">forall</span> (<span class="nv">s</span> : state),
          <span class="kr">exists</span> (<span class="nv">tr</span> : valid_trace V)
                 (<span class="nv">decided_state</span> : state)
                 (<span class="nv">n_s</span> <span class="nv">n_decided</span> : nat)
                 (<span class="nv">c</span> : C),
         trace_nth (proj1_sig tr) n_s = Some s /\
         trace_nth (proj1_sig tr) n_decided = Some decided_state /\
         n_decided &gt;= n_s /\
         D decided_state = Some c).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* 3.3.3 Protocol definition symmetry *)</span>
  <span class="c">(* How do we formalize this property set-theoretically? *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">behavior</span> : vdecision V -&gt; <span class="kt">Prop</span> :=
    <span class="kr">fun</span> <span class="nv">_</span> =&gt; <span class="kt">True</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">symmetric</span> : vdecision V -&gt; <span class="kt">Prop</span> :=
    <span class="kr">fun</span> (<span class="nv">D</span> : vdecision V) =&gt;
    <span class="kr">exists</span> (<span class="nv">f</span> : vdecision V -&gt; vdecision V),
      behavior D = behavior (f D).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CommuteSingleton</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CommuteIndexed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">CV</span> : ConsensusValues}
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    {<span class="nv">index</span> : <span class="kt">Type</span>}
    {<span class="nv">Heqd</span> : EqDecision index}
    (<span class="nv">IM</span> : index -&gt; VLSM message)
    (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
    (<span class="nv">X</span> := composite_vlsm IM constraint)
    (<span class="nv">ID</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, vdecision (IM i)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* ** Decision consistency</span>

<span class="c">  First, let us introduce a definition of consistency which</span>
<span class="c">  looks at states as belonging to a trace.</span>
<span class="c">  *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">consistent_original</span> :=
      <span class="kr">forall</span> (<span class="nv">tr</span> : valid_trace X),
      <span class="kr">forall</span> (<span class="nv">n1</span> <span class="nv">n2</span> : nat),
      <span class="kr">forall</span> (<span class="nv">j</span> <span class="nv">k</span> : index),
      <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X),
      <span class="kr">forall</span> (<span class="nv">c1</span> <span class="nv">c2</span> : C),
      j &lt;&gt; k -&gt;
      trace_nth (proj1_sig tr) n1 = (Some s1) -&gt;
      trace_nth (proj1_sig tr) n2 = (Some s2) -&gt;
      (ID j) (s1 j) = (Some c1) -&gt;
      (ID k) (s2 k) = (Some c2) -&gt;
      c1 = c2.</span></span></pre><div class="doc">
<div class="paragraph"> </div>

  Now let us give an alternative definition based on <span class="inlinecode"><span class="id" title="var">in_futures</span></span>:
  
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">consistent</span> :=
      <span class="kr">forall</span>
        (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X)
        (<span class="nv">Hfuture</span> : in_futures X s1 s2)
        (<span class="nv">j</span> <span class="nv">k</span> : index)
        (<span class="nv">Hneq</span> : j &lt;&gt; k)
        (<span class="nv">c1</span> <span class="nv">c2</span> : C)
        (<span class="nv">HDecided1</span> : (ID j) (s1 j) = Some c1)
        (<span class="nv">HDecided2</span> : (ID k) (s2 k) = Some c2)
        , c1 = c2.</span></span></pre><div class="doc">
  Next two results show that the two definitions above are equivalent.
  
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk0"><span class="kn">Lemma</span> <span class="nf">consistent_to_original</span>
    (<span class="nv">Hconsistent</span> : consistent)
    : consistent_original.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consistent_original</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consistent_original</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk2"><span class="nb">intros</span> tr n1 n2 j k s1 s2 c1 c2 Hneq Hs1 Hs2 HD1 HD2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk3"><span class="nb">destruct</span> (decide (n1 &lt;= n2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>n1 ‚â§ n2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ n1 ‚â§ n2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk4"><hr></label><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>n1 ‚â§ n2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk6"><span class="nb">specialize</span> (in_futures_witness_reverse X s1 s2 tr n1 n2 l Hs1 Hs2)
      ; <span class="nb">intros</span> Hfutures.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>n1 ‚â§ n2</span></span></span><br><span><var>Hfutures</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk7"><span class="nb">specialize</span> (Hconsistent s1 s2 Hfutures j k Hneq c1 c2 HD1 HD2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>c1 = c2</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>n1 ‚â§ n2</span></span></span><br><span><var>Hfutures</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ n1 ‚â§ n2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk9"><span class="nb">assert</span> (Hle : n2 &lt;= n1) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ n1 ‚â§ n2</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n2 ‚â§ n1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chka"><span class="nb">clear</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n2 ‚â§ n1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chkb"><span class="nb">specialize</span> (in_futures_witness_reverse X s2 s1 tr n2 n1 Hle Hs2 Hs1)
      ; <span class="nb">intros</span> Hfutures.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n2 ‚â§ n1</span></span></span><br><span><var>Hfutures</var><span class="hyp-type"><b>: </b><span>in_futures X s2 s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chkc"><span class="nb">assert</span> (Hneq&#39; : k &lt;&gt; j)
        <span class="bp">by</span> (<span class="nb">intro</span> Heq; <span class="nb">elim</span> Hneq; <span class="nb">symmetry</span>; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>consistent</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n2 ‚â§ n1</span></span></span><br><span><var>Hfutures</var><span class="hyp-type"><b>: </b><span>in_futures X s2 s1</span></span></span><br><span><var>Hneq'</var><span class="hyp-type"><b>: </b><span>k ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chkd"><span class="nb">specialize</span> (Hconsistent s2 s1 Hfutures k j Hneq&#39; c2 c1 HD2 HD1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n2 ‚â§ n1</span></span></span><br><span><var>Hfutures</var><span class="hyp-type"><b>: </b><span>in_futures X s2 s1</span></span></span><br><span><var>Hneq'</var><span class="hyp-type"><b>: </b><span>k ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chke"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hconsistent</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n2 ‚â§ n1</span></span></span><br><span><var>Hfutures</var><span class="hyp-type"><b>: </b><span>in_futures X s2 s1</span></span></span><br><span><var>Hneq'</var><span class="hyp-type"><b>: </b><span>k ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c2 = c1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chkf"><span class="kn">Lemma</span> <span class="nf">original_to_consistent</span>
    (<span class="nv">Horiginal</span> : consistent_original)
    : consistent.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Horiginal</var><span class="hyp-type"><b>: </b><span>consistent_original</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consistent</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk10"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Horiginal</var><span class="hyp-type"><b>: </b><span>consistent_original</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consistent</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk11"><span class="nb">unfold</span> consistent; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Horiginal</var><span class="hyp-type"><b>: </b><span>consistent_original</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>HDecided1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HDecided2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk12"><span class="nb">specialize</span> (in_futures_witness X s1 s2 Hfuture)
    ; <span class="nb">intros</span> [tr [n1 [n2 [Hle [Hs1 Hs2]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Horiginal</var><span class="hyp-type"><b>: </b><span>consistent_original</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>HDecided1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HDecided2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n1 ‚â§ n2</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk13"><span class="nb">specialize</span> (Horiginal tr n1 n2 j k s1 s2 c1 c2 Hneq Hs1 Hs2 HDecided1 HDecided2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Horiginal</var><span class="hyp-type"><b>: </b><span>c1 = c2</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>HDecided1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HDecided2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>valid_trace X</span></span></span><br><span><var>n1, n2</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span>n1 ‚â§ n2</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n1 = Some s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>trace_nth (`tr) n2 = Some s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The following is an attempt to include finality in the definition of consistency by dropping the requirement
      that (j &lt;&gt; k). 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">final_and_consistent</span> :=
      <span class="kr">forall</span>
        (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X)
        (<span class="nv">Hfuture</span> : in_futures X s1 s2)
        (<span class="nv">j</span> <span class="nv">k</span> : index)
        (<span class="nv">c1</span> <span class="nv">c2</span> : C)
        (<span class="nv">HDecided1</span> : (ID j) (s1 j) = Some c1)
        (<span class="nv">HDecided2</span> : (ID k) (s2 k) = Some c2)
        , c1 = c2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk14"><span class="kn">Lemma</span> <span class="nf">final_and_consistent_implies_final</span>
      (<span class="nv">Hcons</span> : final_and_consistent)
      (<span class="nv">i</span> : index)
      (<span class="nv">Hfr</span> : projection_friendly_prop (component_projection IM constraint i))
      : final (composite_vlsm_constrained_projection IM constraint i) (ID i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop
  (component_projection IM constraint i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">final
  (composite_vlsm_constrained_projection IM constraint
     i) (ID i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop
  (component_projection IM constraint i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">final
  (composite_vlsm_constrained_projection IM constraint
     i) (ID i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk16"><span class="nb">intros</span> s1 s2 c1 c2 Hfuturesi HD1 HD2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop
  (component_projection IM constraint i)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm_constrained_projection IM
     constraint i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hfuturesi</var><span class="hyp-type"><b>: </b><span>in_futures
  (composite_vlsm_constrained_projection
     IM constraint i) s1 s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID i s1 = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID i s2 = Some c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk17"><span class="nb">specialize</span>
      (projection_friendly_in_futures (component_projection IM constraint i)
        Hfr s1 s2 Hfuturesi)
    ; <span class="nb">intros</span> [sX1 [sX2 [Hs1 [Hs2 HfuturesX]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop
  (component_projection IM constraint i)</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate
  (composite_vlsm_constrained_projection IM
     constraint i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hfuturesi</var><span class="hyp-type"><b>: </b><span>in_futures
  (composite_vlsm_constrained_projection
     IM constraint i) s1 s2</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID i s1 = Some c1</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID i s2 = Some c2</span></span></span><br><span><var>sX1, sX2</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>sX1 i = s1</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>sX2 i = s2</span></span></span><br><span><var>HfuturesX</var><span class="hyp-type"><b>: </b><span>in_futures (composite_vlsm IM constraint)
  sX1 sX2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk18"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop
  (component_projection IM constraint i)</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>sX1</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>HD1</var><span class="hyp-type"><b>: </b><span>ID i (sX1 i) = Some c1</span></span></span><br><span><var>sX2</var><span class="hyp-type"><b>: </b><span>vstate (composite_vlsm IM constraint)</span></span></span><br><span><var>HD2</var><span class="hyp-type"><b>: </b><span>ID i (sX2 i) = Some c2</span></span></span><br><span><var>Hfuturesi</var><span class="hyp-type"><b>: </b><span>in_futures
  (composite_vlsm_constrained_projection
     IM constraint i) (sX1 i) 
  (sX2 i)</span></span></span><br><span><var>HfuturesX</var><span class="hyp-type"><b>: </b><span>in_futures (composite_vlsm IM constraint)
  sX1 sX2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hcons sX1 sX2 HfuturesX i i c1 c2 HD1 HD2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk19"><span class="kn">Lemma</span> <span class="nf">final_and_consistent_implies_consistent</span>
      (<span class="nv">Hcons</span> : final_and_consistent)
      : consistent.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consistent</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consistent</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1b"><span class="nb">unfold</span> consistent; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>constraint</var><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM * option message
  ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>ID</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, vdecision (IM i)</span></span></span><br><span><var>Hcons</var><span class="hyp-type"><b>: </b><span>final_and_consistent</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>j, k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† k</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>HDecided1</var><span class="hyp-type"><b>: </b><span>ID j (s1 j) = Some c1</span></span></span><br><span><var>HDecided2</var><span class="hyp-type"><b>: </b><span>ID k (s2 k) = Some c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hcons s1 s2 Hfuture j k c1 c2 HDecided1 HDecided2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">live</span> :=
    <span class="kr">forall</span> (<span class="nv">tr</span> : @Trace _ (type X)),
      complete_trace_prop X tr -&gt;
      <span class="kr">exists</span> (<span class="nv">s</span> : vstate X) (<span class="nv">n</span> : nat) (<span class="nv">i</span> : index) (<span class="nv">c</span> : C),
        trace_nth tr n = Some s /\
        (ID i) (s i) = Some c.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CommuteIndexed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Section 5 *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Estimators</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* Defining the estimator function as a relation *)</span>
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">Estimator</span> <span class="nv">state</span> <span class="nv">C</span> :=
    { estimator : state -&gt; C -&gt; <span class="kt">Prop</span>
    ; estimator_total : <span class="kr">forall</span> <span class="nv">s</span> : state, <span class="kr">exists</span> <span class="nv">c</span> : C, estimator s c
    }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">CV</span> : ConsensusValues}
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    (<span class="nv">X</span> : VLSM message)
    (<span class="nv">D</span> : vdecision X)
    (<span class="nv">E</span> : Estimator (vstate X) C)
    (<span class="nv">estimates</span> := @estimator _ _ E)
    .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">decision_estimator_property</span>
    := <span class="kr">forall</span>
      (<span class="nv">sigma</span> : vstate X)
      (<span class="nv">c</span> : C)
      (<span class="nv">HD</span> : D sigma = Some c)
      (<span class="nv">sigma&#39;</span> : vstate X)
      (<span class="nv">Hreach</span> : in_futures X sigma sigma&#39;)
      (<span class="nv">c&#39;</span> : C)
      (<span class="nv">Hc&#39;</span> : estimates sigma&#39; c&#39;),
      c&#39; = c.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1c"><span class="kn">Lemma</span> <span class="nf">estimator_only_has_decision</span>
    (<span class="nv">Hde</span> : decision_estimator_property)
    (<span class="nv">s</span> : valid_state X)
    (<span class="nv">c</span> <span class="nv">c_other</span> : C)
    (<span class="nv">Hc</span>  : D (proj1_sig s) = (Some c))
    (<span class="nv">Hc_other</span> : estimates (proj1_sig s) c_other)
    : c_other = c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c, c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`s) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_other = c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c, c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`s) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_other = c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1e"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c, c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`s) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_other = c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk1f"><span class="nb">destruct</span> s <span class="kr">as</span> [s Hs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c, c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_other = c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk20"><span class="nb">apply</span> Hde <span class="kr">with</span> (sigma := s) (sigma&#39;:= s); <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c, c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk21"><span class="nb">apply</span> in_futures_refl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c, c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk22"><span class="kn">Lemma</span> <span class="nf">estimator_surely_has_decision</span>
    (<span class="nv">Hde</span> : decision_estimator_property)
    (<span class="nv">s</span> : valid_state X)
    (<span class="nv">c</span> : C)
    (<span class="nv">Hc</span>  : D (proj1_sig s) = (Some c))
    : estimates (proj1_sig s) c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`s) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk23"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`s) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk24"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`s) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk25"><span class="nb">assert</span>(Hc_other : <span class="kr">exists</span> (<span class="nv">c_other</span> : C), (estimates (proj1_sig s) c_other)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">c_other</span> : C, estimates (`s) c_other</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">c_other</span> : C, estimates (`s) c_other</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk26"><hr></label><div class="goal-conclusion">estimates (`s) c</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk27">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">c_other</span> : C, estimates (`s) c_other</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> estimator_total.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk28">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">c_other</span> : C, estimates (`s) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`s) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk29"><span class="nb">destruct</span> Hc_other <span class="kr">as</span> [c_other Hc_other].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>valid_state X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`s) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`s) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`s) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk2a"><span class="nb">destruct</span> s <span class="kr">as</span> [s Hs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s ‚Üæ Hs)) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk2b"><span class="nb">assert</span> (Heq : c_other = c).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_other = c</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>c_other = c</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk2c"><hr></label><div class="goal-conclusion">estimates (`(s ‚Üæ Hs)) c</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk2d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_other = c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk2e"><span class="nb">apply</span> Hde <span class="kr">with</span> (sigma := s) (sigma&#39; := s); <span class="kp">try</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk2f"><span class="nb">apply</span> in_futures_refl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk30">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>c_other = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s ‚Üæ Hs)) c</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk31"><span class="nb">rewrite</span> &lt;- Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Hde</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>D (`(s ‚Üæ Hs)) = Some c</span></span></span><br><span><var>c_other</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>Hc_other</var><span class="hyp-type"><b>: </b><span>estimates (`(s ‚Üæ Hs)) c_other</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>c_other = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s ‚Üæ Hs)) c_other</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="c">(* We use the following intermediate result,</span>
<span class="c">     proven above (in two steps) via the estimator property:</span>
<span class="c">     (1) If D(state) = Some c then Estimator(state) = {c}.</span>

<span class="c">     We then fix s1 and s2, such that (in_futures s1 s2) and both are decided and note the following:</span>
<span class="c">     (2) Estimator(s2) = {Decision(s2)}, by (1)</span>
<span class="c">     (3) Estimator(s2) = {Decision(s1)}, by the estimator property.</span>

<span class="c">     Thus Decision(s2) = Decision(s1).</span>
<span class="c">   *)</span>

</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk32"><span class="kn">Theorem</span> <span class="nf">decision_estimator_finality</span>
    : decision_estimator_property -&gt; final X D.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">decision_estimator_property ‚Üí final X D</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk33"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">decision_estimator_property ‚Üí final X D</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk34"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">final X D</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk35"><span class="nb">unfold</span> final.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X) (<span class="nv">c1</span> <span class="nv">c2</span> : C),
  in_futures X s1 s2
  ‚Üí D s1 = Some c1 ‚Üí D s2 = Some c2 ‚Üí c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk36"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk37"><span class="nb">specialize</span> (in_futures_valid_snd X s1 s2 H0); <span class="nb">intro</span> Hps2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c1 = c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk38"><span class="nb">apply</span> estimator_only_has_decision <span class="kr">with</span> (s := (exist _ s2 Hps2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">decision_estimator_property</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk39"><hr></label><div class="goal-conclusion">D (`(s2 ‚Üæ Hps2)) = Some c2</div></blockquote><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk3a"><hr></label><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c1</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk3b"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">D (`(s2 ‚Üæ Hps2)) = Some c2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk3c"><hr></label><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c1</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk3d"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>decision_estimator_property</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk3e"><span class="nb">unfold</span> decision_estimator_property <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk3f"><span class="nb">assert</span>(c2 = c1).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c2 = c1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk40"><hr></label><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c1</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk41">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c2 = c1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk42"><span class="nb">apply</span> H <span class="kr">with</span> (sigma := s1) (sigma&#39; := s2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">D s1 = Some c1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk43" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk43"><hr></label><div class="goal-conclusion">in_futures X s1 s2</div></blockquote><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk44"><hr></label><div class="goal-conclusion">estimates s2 c2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk45"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk46" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk46"><hr></label><div class="goal-conclusion">estimates s2 c2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk47"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates s2 c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk48"><span class="nb">apply</span> (estimator_surely_has_decision H (exist _ s2 Hps2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">D (`(s2 ‚Üæ Hps2)) = Some c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk49">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk4a"><span class="nb">rewrite</span> &lt;- H3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">estimates (`(s2 ‚Üæ Hps2)) c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk4b"><span class="nb">apply</span> estimator_surely_has_decision.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">decision_estimator_property</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Decisions-v-chk4c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br></div><label class="goal-separator" for="Decisions-v-chk4c"><hr></label><div class="goal-conclusion">D (`(s2 ‚Üæ Hps2)) = Some c2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Decisions-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="Decisions-v-chk4d"><span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>CV</var><span class="hyp-type"><b>: </b><span>ConsensusValues</span></span></span><br><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>D</var><span class="hyp-type"><b>: </b><span>vdecision X</span></span></span><br><span><var>E</var><span class="hyp-type"><b>: </b><span>Estimator (vstate X) C</span></span></span><br><span><var>estimates</var><span><span class="hyp-body"><b>:= </b><span>estimator</span></span><span class="hyp-type"><b>: </b><span>vstate X ‚Üí C ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sigma</span> : vstate X) (<span class="nv">c</span> : C),
  D sigma = Some c
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">sigma&#39;</span> : vstate X,
      in_futures X sigma sigma&#39;
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">c&#39;</span> : C, estimates sigma&#39; c&#39; ‚Üí c&#39; = c</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>c1, c2</var><span class="hyp-type"><b>: </b><span>C</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>in_futures X s1 s2</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>D s1 = Some c1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>D s2 = Some c2</span></span></span><br><span><var>Hps2</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s2</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>c2 = c1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">D (`(s2 ‚Üæ Hps2)) = Some c2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Estimators</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">composite_estimators</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">CV</span> : ConsensusValues}
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    {<span class="nv">index</span> : <span class="kt">Type</span>}
    {<span class="nv">Heqd</span> : EqDecision index}
    (<span class="nv">IM</span> : index -&gt; VLSM message)
    (<span class="nv">constraint</span> : composite_label IM -&gt; composite_state IM * option message -&gt; <span class="kt">Prop</span>)
    (<span class="nv">X</span> := composite_vlsm IM constraint)
    (<span class="nv">ID</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, vdecision (IM i))
    (<span class="nv">IE</span> : <span class="kr">forall</span> <span class="nv">i</span> : index, Estimator (vstate (IM i)) C).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">composite_projection_decision_estimator_property</span>
    (<span class="nv">i</span> : index)
    (<span class="nv">Xi</span> := composite_vlsm_constrained_projection IM constraint i)
    := decision_estimator_property Xi (ID i) (IE i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">composite_estimators</span>.</span></span></pre></article></body></html>