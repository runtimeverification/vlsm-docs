<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>VLSMProjections.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM <span class="kn">Require Import</span> Core.VLSM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras StreamExtras StreamFilters.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">VLSM (partial) projections and inclusions</h1>
<div class="paragraph"> </div>

This section introduces several types VLSM projections: <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection</span></span>,
<span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>, <span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span>, as well as <span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span>usion and
<span class="inlinecode"><span class="id" title="var">VLSM_eq</span></span>uality.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_partial_projection</span>.</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">VLSM partial projections</h2>
<div class="paragraph"> </div>

A generic notion of VLSM projection. We say that VLSM X partially projects to
VLSM Y (sharing the same messages) if there exists a partial map <code>partial_trace_project</code>
from traces over X (pairs of state and list of transitions from that state)
to traces over Y such that:

<div class="paragraph"> </div>
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">partial_trace_project_preserves_valid_trace</span></span>s, if the projection is defined.

<div class="paragraph"> </div>
</li>
<li> The projection operation is stable to adding valid prefixes (property

</li>
</ul>
<span class="inlinecode"><span class="id" title="var">partial_trace_project_extends_left</span></span>). More precisely, if the projection of a
trace (sX, tX) yields (sY, tY), then for any trace (s'X, preX) ending in sX
such that (s'X, preX ++ tX) is a valid trace, then there exists a
trace (s'Y, preY) ending in sY such that (s'X, preX ++ tX) projects
to (s'Y, preY ++ tY).

<div class="paragraph"> </div>

Proper examples of partial projections (which are not <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>s) are
the projections from the compositions of equivocators to the composition
of regular nodes guided by a specific start <span class="inlinecode"><span class="id" title="var">MachineDescriptor</span></span> (see, e.g.,
<span class="inlinecode"><span class="id" title="var">equivocators_no_equivocations_vlsm_X_vlsm_partial_projection</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_partial_projection_type</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">partial_trace_project</span> : vstate X * list (vtransition_item X) -&gt; option (vstate Y * list (vtransition_item Y)))
  :=
  { partial_trace_project_extends_left :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
      partial_trace_project (sX, trX) = Some (sY, trY) -&gt;
      <span class="kr">forall</span> <span class="nv">s&#39;X</span> <span class="nv">preX</span>,
        finite_trace_last s&#39;X preX = sX -&gt;
        finite_valid_trace_from X s&#39;X (preX ++ trX) -&gt;
        <span class="kr">exists</span> <span class="nv">s&#39;Y</span> <span class="nv">preY</span>,
          partial_trace_project (s&#39;X, preX ++ trX) = Some (s&#39;Y, preY ++ trY) /\
          finite_trace_last s&#39;Y preY = sY
  }.</span></span></pre><div class="doc">
We define two kinds of partial projection: <span class="inlinecode"><span class="id" title="var">VLSM_weak_partial_projection</span></span>
and <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection</span></span>, the main difference between them being that the
"weak" one is not required to preserve initial states.

<div class="paragraph"> </div>

Although there are no current examples of proper <span class="inlinecode"><span class="id" title="var">VLSM_weak_partial_projection</span></span>s,
their definition serves as a support base for <span class="inlinecode"><span class="id" title="var">VLSM_weak_projection</span></span>s.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_weak_partial_projection</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">partial_trace_project</span> : vstate X * list (vtransition_item X) -&gt; option (vstate Y * list (vtransition_item Y)))
  :=
  { weak_partial_projection_type :&gt; VLSM_partial_projection_type X Y partial_trace_project
  ; weak_partial_trace_project_preserves_valid_trace :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
        partial_trace_project (sX, trX) = Some (sY, trY) -&gt;
        finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y sY trY
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_partial_projection</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">partial_trace_project</span> : vstate X * list (vtransition_item X) -&gt; option (vstate Y * list (vtransition_item Y)))
  :=
  { partial_projection_type :&gt; VLSM_partial_projection_type X Y partial_trace_project
  ; partial_trace_project_preserves_valid_trace :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
        partial_trace_project (sX, trX) = Some (sY, trY) -&gt;
        finite_valid_trace X sX trX -&gt; finite_valid_trace Y sY trY
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">weak_partial_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">trace_project</span> : vstate X * list (vtransition_item X) -&gt; option (vstate Y * list (vtransition_item Y))}
  (<span class="nv">Hsimul</span> : VLSM_weak_partial_projection X Y trace_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_partial_projection_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
    trace_project (sX, trX) = Some (sY, trY) -&gt;
    finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y sY trY
  := weak_partial_trace_project_preserves_valid_trace _ _ _ Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk0"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_partial_projection_valid_state</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
    trace_project (sX, []) = Some (sY, trY) -&gt;
    valid_state_prop X sX -&gt; valid_state_prop Y sY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list
                                           (vtransition_item
                                              Y)),
  trace_project (sX, []) = Some (sY, trY)
  ‚Üí valid_state_prop X sX ‚Üí valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list
                                           (vtransition_item
                                              Y)),
  trace_project (sX, []) = Some (sY, trY)
  ‚Üí valid_state_prop X sX ‚Üí valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2"><span class="nb">intros</span> sX sY trY Hpr HsX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> HsX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">is</span> : state) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to X <span class="kr">is</span> sX tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4"><span class="nb">destruct</span> HsX <span class="kr">as</span> [isX [trX HtrX]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X isX sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5"><span class="nb">apply</span> finite_valid_trace_init_to_last <span class="kr">in</span> HtrX <span class="kr">as</span> HsX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X isX sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6"><span class="nb">apply</span> finite_valid_trace_init_to_forget_last, proj1 <span class="kr">in</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7"><span class="nb">specialize</span> (partial_trace_project_extends_left _ _ _ Hsimul _ _ _ _ Hpr _ _ HsX)
    <span class="kr">as</span> Hpr_extends_left.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX ++ [])
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project (isX, trX ++ []) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8">spec Hpr_extends_left.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX ++ [])
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project (isX, trX ++ []) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX (trX ++ [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                    list
                      (vtransition_item
                      Y)),
  trace_project (isX, trX ++ []) =
  Some (s&#39;Y, preY ++ trY)
  ‚àß finite_trace_last s&#39;Y preY = sY</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk9"><hr></label><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX ++ [])
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project (isX, trX ++ []) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX (trX ++ [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb"><span class="nb">rewrite</span> app_nil_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX ++ [])
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project (isX, trX ++ []) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX trX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                    list
                      (vtransition_item
                      Y)),
  trace_project (isX, trX ++ []) =
  Some (s&#39;Y, preY ++ trY)
  ‚àß finite_trace_last s&#39;Y preY = sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd"><span class="nb">destruct</span> Hpr_extends_left <span class="kr">as</span> [isY [preY [Hpr_tr HsY]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (isX, trX ++ []) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke"><span class="nb">rewrite</span> !app_nil_r <span class="kr">in</span> Hpr_tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (isX, trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf"><span class="nb">specialize</span> (VLSM_weak_partial_projection_finite_valid_trace_from _ _ _ _ Hpr_tr HtrX)
    <span class="kr">as</span> Hinit_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (isX, trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br><span><var>Hinit_to</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y isY (preY ++ trY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10"><span class="nb">apply</span> finite_valid_trace_from_app_iff, proj1, finite_valid_trace_last_pstate <span class="kr">in</span> Hinit_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (isX, trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br><span><var>Hinit_to</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y
  (finite_trace_last isY preY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11"><span class="nb">subst</span> sY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) =
Some (finite_trace_last isY preY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX trX = sX</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (isX, trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>Hinit_to</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y
  (finite_trace_last isY preY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (finite_trace_last isY preY)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_partial_projection_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">itemX</span> <span class="nv">sY</span> <span class="nv">itemY</span>,
    trace_project (sX, [itemX]) = Some (sY, [itemY]) -&gt;
    input_valid_transition X (l itemX) (sX, input itemX) (destination itemX, output itemX) -&gt;
    input_valid_transition Y (l itemY) (sY, input itemY) (destination itemY, output itemY).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) (<span class="nv">sY</span> : 
                                                vstate
                                                 Y) 
  (<span class="nv">itemY</span> : vtransition_item Y),
  trace_project (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X (l itemX)
      (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y (l itemY)
        (sY, input itemY)
        (destination itemY, output itemY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk13"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) (<span class="nv">sY</span> : 
                                                vstate
                                                 Y) 
  (<span class="nv">itemY</span> : vtransition_item Y),
  trace_project (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X (l itemX)
      (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y (l itemY)
        (sY, input itemY)
        (destination itemY, output itemY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk14"><span class="nb">intros</span> sX itemX sY itemY Hpr HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>vtransition_item X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>itemY</var><span class="hyp-type"><b>: </b><span>vtransition_item Y</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, [itemX]) = Some (sY, [itemY])</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X 
  (l itemX) (sX, input itemX)
  (destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y (l itemY) (sY, input itemY)
  (destination itemY, output itemY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15"><span class="nb">apply</span> finite_valid_trace_singleton <span class="kr">in</span> HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>vtransition_item X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>itemY</var><span class="hyp-type"><b>: </b><span>vtransition_item Y</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, [itemX]) = Some (sY, [itemY])</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX
  [{|
     l := l itemX;
     input := input itemX;
     destination := destination itemX;
     output := output itemX
   |}]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y (l itemY) (sY, input itemY)
  (destination itemY, output itemY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk16"><span class="nb">apply</span> VLSM_weak_partial_projection_finite_valid_trace_from <span class="kr">with</span> (sY := sY) (trY := [itemY]) <span class="kr">in</span> HtX
  ; [|<span class="nb">destruct</span> itemX; <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>vtransition_item X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>itemY</var><span class="hyp-type"><b>: </b><span>vtransition_item Y</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, [itemX]) = Some (sY, [itemY])</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y sY [itemY]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y (l itemY) (sY, input itemY)
  (destination itemY, output itemY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk17"><span class="nb">inversion</span> HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>vtransition_item X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>itemY</var><span class="hyp-type"><b>: </b><span>vtransition_item Y</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, [itemX]) = Some (sY, [itemY])</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y sY [itemY]</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y s []</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Y l (sY, iom) (s, oom)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s&#39; = sY</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|} = itemY</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tl = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y
  (VLSM.l
     {|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |})
  (sY,
  input
    {|
      l := l;
      input := iom;
      destination := s;
      output := oom
    |})
  (destination
     {|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |},
  output
    {|
      l := l;
      input := iom;
      destination := s;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>vtransition_item X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y sY
  [{|
     l := l;
     input := iom;
     destination := s;
     output := oom
   |}]</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, [itemX]) =
Some
  (sY,
  [{|
     l := l;
     input := iom;
     destination := s;
     output := oom
   |}])</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y s []</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Y l (sY, iom) (s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y
  (VLSM.l
     {|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |})
  (sY,
  input
    {|
      l := l;
      input := iom;
      destination := s;
      output := oom
    |})
  (destination
     {|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |},
  output
    {|
      l := l;
      input := iom;
      destination := s;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">weak_partial_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">partial_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">trace_project</span> : vstate X * list (vtransition_item X) -&gt; option (vstate Y * list (vtransition_item Y))}
  (<span class="nv">Hsimul</span> : VLSM_partial_projection X Y trace_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_partial_projection_finite_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
    trace_project (sX, trX) = Some (sY, trY) -&gt;
    finite_valid_trace X sX trX -&gt; finite_valid_trace Y sY trY
  := partial_trace_project_preserves_valid_trace _ _ _ Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk19"><span class="kn">Lemma</span> <span class="nf">VLSM_partial_projection_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
    trace_project (sX, trX) = Some (sY, trY) -&gt;
    finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y sY trY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  trace_project (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  trace_project (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b"><span class="nb">intros</span> sX trX sY trY Hpr_tr HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c"><span class="nb">apply</span> (finite_valid_trace_from_complete_left X) <span class="kr">in</span> HtrX
    <span class="kr">as</span> [isX [preX [Htr&#39;X HsX]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d"><span class="nb">specialize</span> (partial_trace_project_extends_left _ _ _ Hsimul _ _ _ _ Hpr_tr _ _ HsX)
    <span class="kr">as</span> Hpr_extends_left.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (preX ++ trX)
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project
      (isX, preX ++ trX) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e">spec Hpr_extends_left.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (preX ++ trX)
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project
      (isX, preX ++ trX) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX (preX ++ trX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk1f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                    list
                      (vtransition_item
                      Y)),
  trace_project (isX, preX ++ trX) =
  Some (s&#39;Y, preY ++ trY)
  ‚àß finite_trace_last s&#39;Y preY = sY</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk1f"><hr></label><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (preX ++ trX)
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project
      (isX, preX ++ trX) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX (preX ++ trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk21"><span class="nb">apply</span> proj1 <span class="kr">in</span> Htr&#39;X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (preX ++ trX)
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                      list
                      (vtransition_item
                      Y)),
    trace_project
      (isX, preX ++ trX) =
    Some (s&#39;Y, preY ++ trY)
    ‚àß finite_trace_last s&#39;Y preY =
      sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX (preX ++ trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_extends_left</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : 
                    list
                      (vtransition_item
                      Y)),
  trace_project (isX, preX ++ trX) =
  Some (s&#39;Y, preY ++ trY)
  ‚àß finite_trace_last s&#39;Y preY = sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk23"><span class="nb">destruct</span> Hpr_extends_left <span class="kr">as</span> [isY [preY [Hpr_tr&#39; HsY]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr'</var><span class="hyp-type"><b>: </b><span>trace_project (isX, preX ++ trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk24"><span class="nb">specialize</span> (VLSM_partial_projection_finite_valid_trace _ _ _ _ Hpr_tr&#39; Htr&#39;X)
    <span class="kr">as</span> Hinit_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr'</var><span class="hyp-type"><b>: </b><span>trace_project (isX, preX ++ trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br><span><var>Hinit_to</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Y isY (preY ++ trY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk25"><span class="nb">apply</span> proj1, finite_valid_trace_from_app_iff, proj2 <span class="kr">in</span> Hinit_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) = Some (sY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr'</var><span class="hyp-type"><b>: </b><span>trace_project (isX, preX ++ trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>finite_trace_last isY preY = sY</span></span></span><br><span><var>Hinit_to</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y
  (finite_trace_last isY preY) trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk26"><span class="nb">subst</span> sY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>preY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr_tr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, trX) =
Some (finite_trace_last isY preY, trY)</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'X</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (preX ++ trX)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>finite_trace_last isX preX = sX</span></span></span><br><span><var>Hpr_tr'</var><span class="hyp-type"><b>: </b><span>trace_project (isX, preX ++ trX) =
Some (isY, preY ++ trY)</span></span></span><br><span><var>Hinit_to</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y
  (finite_trace_last isY preY) trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (finite_trace_last isY preY)
  trY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk27"><span class="kn">Lemma</span> <span class="nf">VLSM_partial_projection_initial_state</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
    trace_project (sX, []) = Some (sY, trY) -&gt;
    vinitial_state_prop X sX -&gt; vinitial_state_prop Y sY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list
                                           (vtransition_item
                                              Y)),
  trace_project (sX, []) = Some (sY, trY)
  ‚Üí vinitial_state_prop X sX
    ‚Üí vinitial_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list
                                           (vtransition_item
                                              Y)),
  trace_project (sX, []) = Some (sY, trY)
  ‚Üí vinitial_state_prop X sX
    ‚Üí vinitial_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk29"><span class="nb">intros</span> sX sY trY Hpr HsX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a"><span class="nb">assert</span> (HtrX : finite_valid_trace X sX []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X sX []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X sX []</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2b"><hr></label><div class="goal-conclusion">vinitial_state_prop Y sY</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X sX []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d"><span class="nb">split</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX []</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X sX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>trace_project</var><span class="hyp-type"><b>: </b><span>vstate X * list (vtransition_item X)
‚Üí option
    (vstate Y *
     list (vtransition_item Y))</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y trace_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>trace_project (sX, []) = Some (sY, trY)</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X sX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X sX []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop Y sY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_partial_projection_finite_valid_trace _ _ _ _ Hpr HtrX).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_partial_projection_weaken</span> : VLSM_weak_partial_projection X Y trace_project :=
  {| weak_partial_projection_type := partial_projection_type _ _ _ Hsimul
  ;  weak_partial_trace_project_preserves_valid_trace := VLSM_partial_projection_finite_valid_trace_from
  |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_partial_projection_valid_state</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">sY</span> <span class="nv">trY</span>,
    trace_project (sX, []) = Some (sY, trY) -&gt;
    valid_state_prop X sX -&gt; valid_state_prop Y sY
  := VLSM_weak_partial_projection_valid_state VLSM_partial_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_partial_projection_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">itemX</span> <span class="nv">sY</span> <span class="nv">itemY</span>,
    trace_project (sX, [itemX]) = Some (sY, [itemY]) -&gt;
    input_valid_transition X (l itemX) (sX, input itemX) (destination itemX, output itemX) -&gt;
    input_valid_transition Y (l itemY) (sY, input itemY) (destination itemY, output itemY)
  := VLSM_weak_partial_projection_input_valid_transition VLSM_partial_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">partial_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_partial_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_projection</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">VLSM (total) projections</h2>
<div class="paragraph"> </div>

A VLSM projection guaranteeing the existence of projection for all states and
traces. We say that VLSM X projects to VLSM Y (sharing the same messages) if
there exists maps <code>state_project</code> taking X-states to Y-states,
and <code>trace_project</code>, taking list of transitions from X to Y, such that:

<div class="paragraph"> </div>
<ul class="doclist">
<li> state and <span class="inlinecode"><span class="id" title="var">trace_project_preserves_valid_trace</span></span>s.

<div class="paragraph"> </div>
</li>
<li> <span class="inlinecode"><span class="id" title="var">trace_project_app</span></span>: trace projection commutes with concatenation of traces

<div class="paragraph"> </div>
</li>
<li> <span class="inlinecode"><span class="id" title="var">final_state_project</span></span>: state projection commutes with <span class="inlinecode"><span class="id" title="var">finite_trace_last</span></span>
</li>
</ul>
<div class="paragraph"> </div>

Proper examples of total projections (which are not <span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span>s)
are projections in which some of transitions might be dropped, such as
the projection of a composition to one of the components (<span class="inlinecode"><span class="id" title="var">component_projection</span></span>)
or the projection of the compositions of equivocators to the composition of
regular nodes using the particular <span class="inlinecode"><span class="id" title="var">MachineDescriptor</span></span> which select the
first (original) node instance for each equivocator (e.g.,
<span class="inlinecode"><span class="id" title="var">equivocators_no_equivocations_vlsm_X_vlsm_projection</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">pre_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">TX</span> <span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : @label _ TX -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : @state _ TX -&gt; @state _ TY)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_in_projection</span>
  (<span class="nv">item</span> : @transition_item _ TX)
  : <span class="kt">Prop</span> :=
  is_Some (label_project (l item)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_transition_item_project</span>
  (<span class="nv">item</span> : @transition_item _ TX)
  : option (@transition_item _ TY)
  :=
  <span class="kr">match</span> label_project (l item) <span class="kr">with</span>
  | None =&gt; None
  | Some lY =&gt;
    Some {| l := lY; input := input item; destination := state_project (destination item); output := output item |}
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_projection_transition_item_project_is_Some</span>
  (<span class="nv">item</span> : @transition_item _ TX)
  : pre_VLSM_projection_in_projection item -&gt;
    is_Some (pre_VLSM_projection_transition_item_project item).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_in_projection item
‚Üí is_Some
    (pre_VLSM_projection_transition_item_project item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_in_projection item
‚Üí is_Some
    (pre_VLSM_projection_transition_item_project item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk33"><span class="nb">intros</span> [lY HlY].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlY</var><span class="hyp-type"><b>: </b><span>label_project (l item) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (pre_VLSM_projection_transition_item_project item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlY</var><span class="hyp-type"><b>: </b><span>label_project (l item) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  <span class="kr">match</span> label_project (l item) <span class="kr">with</span>
  | Some lY =&gt;
      Some
        {|
          l := lY;
          input := input item;
          destination :=
            state_project (destination item);
          output := output item
        |}
  | None =&gt; None
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35"><span class="nb">rewrite</span> HlY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlY</var><span class="hyp-type"><b>: </b><span>label_project (l item) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (Some
     {|
       l := lY;
       input := input item;
       destination := state_project (destination item);
       output := output item
     |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_projection_transition_item_project_is_Some_rev</span>
  (<span class="nv">item</span> : @transition_item _ TX)
  : is_Some (pre_VLSM_projection_transition_item_project item) -&gt;
    pre_VLSM_projection_in_projection item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (pre_VLSM_projection_transition_item_project item)
‚Üí pre_VLSM_projection_in_projection item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk37"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (pre_VLSM_projection_transition_item_project item)
‚Üí pre_VLSM_projection_in_projection item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38"><span class="nb">intros</span> [itemY HitemY].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item, itemY</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemY</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_transition_item_project
  item = Some itemY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_in_projection item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk39"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project <span class="kr">in</span> HitemY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item, itemY</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HitemY</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> label_project (l item) <span class="kr">with</span>
| Some lY =&gt;
    Some
      {|
        l := lY;
        input := input item;
        destination :=
          state_project (destination item);
        output := output item
      |}
| None =&gt; None
<span class="kr">end</span> = Some itemY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_in_projection item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a"><span class="nb">destruct</span> (label_project (l item)) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:HlY; [|<span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item, itemY</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlY</var><span class="hyp-type"><b>: </b><span>label_project (l item) = Some lY</span></span></span><br><span><var>HitemY</var><span class="hyp-type"><b>: </b><span>Some
  {|
    l := lY;
    input := input item;
    destination :=
      state_project (destination item);
    output := output item
  |} = Some itemY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_in_projection item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b"><span class="kr">exists</span> <span class="nv">lY</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>item, itemY</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlY</var><span class="hyp-type"><b>: </b><span>label_project (l item) = Some lY</span></span></span><br><span><var>HitemY</var><span class="hyp-type"><b>: </b><span>Some
  {|
    l := lY;
    input := input item;
    destination :=
      state_project (destination item);
    output := output item
  |} = Some itemY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">label_project (l item) = Some lY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_projection_transition_item_project_infinitely_often</span>
  (<span class="nv">s</span> : Streams.Stream (@transition_item _ TX))
  : InfinitelyOften pre_VLSM_projection_in_projection s -&gt;
    InfinitelyOften (is_Some ‚àò pre_VLSM_projection_transition_item_project) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">InfinitelyOften pre_VLSM_projection_in_projection s
‚Üí InfinitelyOften
    (is_Some
     ‚àò pre_VLSM_projection_transition_item_project) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">InfinitelyOften pre_VLSM_projection_in_projection s
‚Üí InfinitelyOften
    (is_Some
     ‚àò pre_VLSM_projection_transition_item_project) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e"><span class="nb">apply</span> InfinitelyOften_impl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> : transition_item,
  pre_VLSM_projection_in_projection a
  ‚Üí (is_Some
     ‚àò pre_VLSM_projection_transition_item_project) a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f"><span class="nb">intro</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_in_projection item
‚Üí (is_Some
   ‚àò pre_VLSM_projection_transition_item_project) item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_VLSM_projection_transition_item_project_is_Some.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_projection_transition_item_project_finitely_many</span>
  (<span class="nv">s</span> : Streams.Stream (@transition_item _ TX))
  : FinitelyManyBound pre_VLSM_projection_in_projection s -&gt;
    FinitelyManyBound (is_Some ‚àò pre_VLSM_projection_transition_item_project ) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">FinitelyManyBound pre_VLSM_projection_in_projection s
‚Üí FinitelyManyBound
    (is_Some
     ‚àò pre_VLSM_projection_transition_item_project) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk41"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">FinitelyManyBound pre_VLSM_projection_in_projection s
‚Üí FinitelyManyBound
    (is_Some
     ‚àò pre_VLSM_projection_transition_item_project) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42"><span class="nb">apply</span> FinitelyManyBound_impl_rev.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">a</span> : transition_item,
  (is_Some
   ‚àò pre_VLSM_projection_transition_item_project) a
  ‚Üí pre_VLSM_projection_in_projection a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43"><span class="nb">intro</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(is_Some ‚àò pre_VLSM_projection_transition_item_project)
  item ‚Üí pre_VLSM_projection_in_projection item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_VLSM_projection_transition_item_project_is_Some_rev.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_trace_project</span>
  : list (@transition_item _ TX) -&gt; list (@transition_item _ TY)
  :=
  map_option pre_VLSM_projection_transition_item_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_infinite_trace_project</span>
  (<span class="nv">s</span> : Streams.Stream (@transition_item _ TX))
  (<span class="nv">Hs</span> : InfinitelyOften  pre_VLSM_projection_in_projection s)
  : Streams.Stream (@transition_item _ TY) :=
  stream_map_option pre_VLSM_projection_transition_item_project s
    (pre_VLSM_projection_transition_item_project_infinitely_often _ Hs).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_infinite_finite_trace_project</span>
  (<span class="nv">s</span> : Streams.Stream (@transition_item _ TX))
  (<span class="nv">Hs</span> : FinitelyManyBound pre_VLSM_projection_in_projection s)
  : list (@transition_item _ TY) :=
  pre_VLSM_projection_trace_project (stream_prefix s (proj1_sig Hs)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_trace_project_app</span>
  : <span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span>, pre_VLSM_projection_trace_project (l1 ++ l2) =
    pre_VLSM_projection_trace_project l1 ++ pre_VLSM_projection_trace_project l2
  := map_option_app _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_trace_project_app_rev</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">l1&#39;</span> <span class="nv">l2&#39;</span>, pre_VLSM_projection_trace_project l = l1&#39; ++ l2&#39; -&gt;
    <span class="kr">exists</span> <span class="nv">l1</span> <span class="nv">l2</span>, l = l1 ++ l2 /\
      pre_VLSM_projection_trace_project l1 = l1&#39; /\
      pre_VLSM_projection_trace_project l2 = l2&#39;
  := map_option_app_rev _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_trace_project_in_iff</span>
  : <span class="kr">forall</span> <span class="nv">trX</span> <span class="nv">itemY</span>, In itemY (pre_VLSM_projection_trace_project trX) &lt;-&gt;
    <span class="kr">exists</span> <span class="nv">itemX</span>, In itemX trX /\ pre_VLSM_projection_transition_item_project itemX = Some itemY
  := in_map_option _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_projection_trace_project_in</span>
  : <span class="kr">forall</span> <span class="nv">itemX</span> <span class="nv">itemY</span>, pre_VLSM_projection_transition_item_project itemX = Some itemY -&gt;
    <span class="kr">forall</span> <span class="nv">trX</span>, In itemX trX -&gt; In itemY (pre_VLSM_projection_trace_project trX)
  := in_map_option_rev _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">pre_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_projection_type</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  (<span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : vstate X -&gt; @state _ TY)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project (type X) TY label_project state_project)
  :=
  { final_state_project :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
        finite_valid_trace_from X sX trX -&gt;
        state_project (finite_trace_last sX trX) = finite_trace_last (state_project sX) (trace_project trX)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_type_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_partial_trace_project_from_projection</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> : VLSM message}
  {<span class="nv">TY</span> : VLSMType message}
  (<span class="nv">label_project</span> : vlabel X -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : vstate X -&gt; @state _ TY)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  := <span class="kr">fun</span> <span class="nv">str</span> : vstate X * list (vtransition_item X) =&gt;
      <span class="kr">let</span> (<span class="nv">s</span>, tr) := str <span class="kr">in</span> Some (state_project s, trace_project tr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  (<span class="nv">Hsimul</span> : VLSM_projection_type X (type Y) label_project state_project)
  .</span></span></pre><div class="doc">
Any <span class="inlinecode"><span class="id" title="var">VLSM_projection_type</span></span> determines a <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection_type</span></span>, allowing us
to lift to VLSM projection the generic results proved about VLSM partial projections.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk44"><span class="kn">Lemma</span> <span class="nf">VLSM_partial_projection_type_from_projection</span>
  : VLSM_partial_projection_type X Y (VLSM_partial_trace_project_from_projection label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection_type X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk45"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection_type X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46"><span class="nb">split</span>; <span class="nb">intros</span>; <span class="nb">inversion</span> H; <span class="nb">subst</span>; <span class="nb">clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s&#39;Y</span> : vstate Y) (<span class="nv">preY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project (s&#39;X, preX ++ trX) =
  Some
    (s&#39;Y,
    preY ++
    pre_VLSM_projection_trace_project (type X)
      (type Y) label_project state_project trX)
  ‚àß finite_trace_last s&#39;Y preY =
    state_project (finite_trace_last s&#39;X preX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk47"><span class="kr">exists</span> (<span class="nv">state_project</span> <span class="nv">s&#39;X</span>), (trace_project preX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_trace_project_from_projection
  label_project state_project (s&#39;X, preX ++ trX) =
Some
  (state_project s&#39;X,
  trace_project preX ++
  pre_VLSM_projection_trace_project (type X) (type Y)
    label_project state_project trX)
‚àß finite_trace_last (state_project s&#39;X)
    (trace_project preX) =
  state_project (finite_trace_last s&#39;X preX)</div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_trace_project_from_projection
  label_project state_project (s&#39;X, preX ++ trX) =
Some
  (state_project s&#39;X,
  trace_project preX ++
  pre_VLSM_projection_trace_project (type X) (type Y)
    label_project state_project trX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk49" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk49"><hr></label><div class="goal-conclusion">finite_trace_last (state_project s&#39;X)
  (trace_project preX) =
state_project (finite_trace_last s&#39;X preX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_trace_project_from_projection
  label_project state_project (s&#39;X, preX ++ trX) =
Some
  (state_project s&#39;X,
  trace_project preX ++
  pre_VLSM_projection_trace_project (type X) (type Y)
    label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (state_project s&#39;X,
  pre_VLSM_projection_trace_project (type X) (type Y)
    label_project state_project (preX ++ trX)) =
Some
  (state_project s&#39;X,
  trace_project preX ++
  pre_VLSM_projection_trace_project (type X) (type Y)
    label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project s&#39;X,
pre_VLSM_projection_trace_project (type X) (type Y)
  label_project state_project (preX ++ trX)) =
(state_project s&#39;X,
trace_project preX ++
pre_VLSM_projection_trace_project (type X) (type Y)
  label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (type X) (type Y)
  label_project state_project (preX ++ trX) =
trace_project preX ++
pre_VLSM_projection_trace_project (type X) (type Y)
  label_project state_project trX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_VLSM_projection_trace_project_app.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (state_project s&#39;X)
  (trace_project preX) =
state_project (finite_trace_last s&#39;X preX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4f"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s&#39;X preX) =
finite_trace_last (state_project s&#39;X)
  (trace_project preX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk50"><span class="nb">apply</span> (final_state_project _ _ _ _ Hsimul).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X (preX ++ trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s&#39;X preX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk51"><span class="nb">apply</span> (finite_valid_trace_from_app_iff  X) <span class="kr">in</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s&#39;X preX
‚àß finite_valid_trace_from X
    (finite_trace_last s&#39;X preX) trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s&#39;X preX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_type_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_transition_consistency_None</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  (<span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : vstate X -&gt; @state _ TY)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  .</span></span></pre><div class="doc">
When a label cannot be projected, and thus the transition will not be
preserved by the projection, the state projections of the states between and
after the transition must coincide.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_projection_transition_consistency_None</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span>, label_project lX = None -&gt;
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>, input_valid_transition X lX (s, om) (s&#39;, om&#39;) -&gt;
      state_project s&#39; = state_project s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_projection_transition_consistency_None</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span>, label_project lX = None -&gt;
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>, vtransition X lX (s, om) = (s&#39;, om&#39;) -&gt;
    state_project s&#39; = state_project s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk52"><span class="kn">Lemma</span> <span class="nf">strong_projection_transition_consistency_None_weaken</span>
  : strong_projection_transition_consistency_None -&gt;
    weak_projection_transition_consistency_None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None
‚Üí weak_projection_transition_consistency_None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None
‚Üí weak_projection_transition_consistency_None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk54"><span class="nb">intros</span> Hstrong lX Hl s om s&#39; om&#39; Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project s&#39; = state_project s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hstrong lX Hl _ _ _ _ (proj2 Ht)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_transition_consistency_None</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_projection_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  .</span></span></pre><div class="doc">
Similarly to the <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection</span></span> case we distinguish two types of
projections: <span class="inlinecode"><span class="id" title="var">VLSM_weak_projection</span></span> and <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>, distinguished by the
fact that the weak projections are not required to preserve initial states.

<div class="paragraph"> </div>

Although we don't have proper examples of <span class="inlinecode"><span class="id" title="var">VLSM_weak_projection</span></span>s, they are a
support base for <span class="inlinecode"><span class="id" title="var">VLSM_weak_full_projection</span></span>s for which we have proper examples.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_weak_projection</span> :=
  { weak_projection_type :&gt; VLSM_projection_type X (type Y) label_project state_project
  ; weak_trace_project_preserves_valid_trace :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
        finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y (state_project sX) (trace_project trX)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_projection</span> :=
  { projection_type :&gt; VLSM_projection_type X (type Y) label_project state_project
  ; trace_project_preserves_valid_trace :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
        finite_valid_trace X sX trX -&gt; finite_valid_trace Y (state_project sX) (trace_project trX)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_projection_valid_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span> (<span class="nv">HlX</span> : label_project lX = Some lY),
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span>
    (<span class="nv">Hv</span> : input_valid X lX (s, om))
    (<span class="nv">HsY</span> : valid_state_prop Y (state_project s))
    (<span class="nv">HomY</span> : option_valid_message_prop Y om),
    vvalid Y lY ((state_project s), om).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_projection_valid_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span>, label_project lX = Some lY -&gt;
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span>,
  vvalid X lX (s, om) -&gt; vvalid Y lY ((state_project s), om).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk55"><span class="kn">Lemma</span> <span class="nf">strong_projection_valid_preservation_weaken</span>
  : strong_projection_valid_preservation -&gt;
    weak_projection_valid_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation
‚Üí weak_projection_valid_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk56"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation
‚Üí weak_projection_valid_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk57"><span class="nb">intros</span> Hstrong lX lY Hl s om Hpv Hs Hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, om)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Y lY (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk58"><span class="nb">apply</span> (Hstrong lX lY Hl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, om)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X lX (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hpv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_projection_transition_preservation_Some</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span>, label_project lX = Some lY -&gt;
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>, input_valid_transition X lX (s, om) (s&#39;, om&#39;) -&gt;
    vtransition Y lY (state_project s, om) = (state_project s&#39;, om&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_projection_transition_preservation_Some</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span>, label_project lX = Some lY -&gt;
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>, vtransition X lX (s, om) = (s&#39;, om&#39;) -&gt;
    vtransition Y lY (state_project s, om) = (state_project s&#39;, om&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk59"><span class="kn">Lemma</span> <span class="nf">strong_projection_transition_preservation_Some_weaken</span>
  : strong_projection_transition_preservation_Some -&gt;
    weak_projection_transition_preservation_Some.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_preservation_Some
‚Üí weak_projection_transition_preservation_Some</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_preservation_Some
‚Üí weak_projection_transition_preservation_Some</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5b"><span class="nb">intros</span> Hstrong lX lY Hl s om s&#39; om&#39; Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Y lY (state_project s, om) =
(state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5c"><span class="nb">apply</span> (Hstrong lX lY Hl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X lX (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_projection_valid_message_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span> (<span class="nv">HlX</span> : label_project lX = Some lY),
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">m</span>
    (<span class="nv">Hv</span> : input_valid X lX (s, Some m))
    (<span class="nv">HsY</span> : valid_state_prop Y (state_project s)),
    valid_message_prop Y m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_projection_valid_message_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">m</span> : message,
    valid_message_prop X m -&gt; valid_message_prop Y m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5d"><span class="kn">Lemma</span> <span class="nf">strong_projection_valid_message_preservation_weaken</span>
  : strong_projection_valid_message_preservation -&gt;
    weak_projection_valid_message_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_message_preservation
‚Üí weak_projection_valid_message_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_message_preservation
‚Üí weak_projection_valid_message_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk5f"><span class="nb">intros</span> Hstrong lX lY Hl  s m [_ [Hm _]] HsY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk60"><span class="nb">apply</span> Hstrong <span class="kr">in</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) (type Y) label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop Y m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_projection_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">weak_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_projection X Y label_project state_project)
  : list (vtransition_item X) -&gt; list (vtransition_item Y)
  := pre_VLSM_projection_trace_project _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_in</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_projection X Y label_project state_project)
  := pre_VLSM_projection_in_projection _ _ label_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_infinite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_projection X Y label_project state_project)
  (<span class="nv">s</span> : Streams.Stream (vtransition_item X))
  (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_weak_projection_in Hsimul) s)
  : Streams.Stream (vtransition_item Y)
  := pre_VLSM_projection_infinite_trace_project _ _ label_project state_project s Hinf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_infinite_finite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_projection X Y label_project state_project)
  (<span class="nv">s</span> : Streams.Stream (vtransition_item X))
  (<span class="nv">Hfin</span> : FinitelyManyBound (VLSM_weak_projection_in Hsimul) s)
  : list (vtransition_item Y)
  := pre_VLSM_projection_infinite_finite_trace_project _ _ label_project state_project s Hfin.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_projection X Y label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_trace_project_app</span>
  : <span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span>, VLSM_weak_projection_trace_project Hsimul (l1 ++ l2) =
    VLSM_weak_projection_trace_project Hsimul l1 ++ VLSM_weak_projection_trace_project Hsimul l2
  := pre_VLSM_projection_trace_project_app _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_trace_project_app_rev</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">l1&#39;</span> <span class="nv">l2&#39;</span>, VLSM_weak_projection_trace_project Hsimul l = l1&#39; ++ l2&#39; -&gt;
    <span class="kr">exists</span> <span class="nv">l1</span> <span class="nv">l2</span>, l = l1 ++ l2 /\
      VLSM_weak_projection_trace_project Hsimul l1 = l1&#39; /\
      VLSM_weak_projection_trace_project Hsimul l2 = l2&#39;
  := pre_VLSM_projection_trace_project_app_rev _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_finite_trace_last</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    finite_valid_trace_from X sX trX -&gt;
    state_project (finite_trace_last sX trX) = finite_trace_last (state_project sX) (VLSM_weak_projection_trace_project Hsimul trX)
  := final_state_project _ _ _ _ Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_projection_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y (state_project sX) (VLSM_weak_projection_trace_project Hsimul trX)
  := weak_trace_project_preserves_valid_trace _ _ _ _ Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk61"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_projection_infinite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_weak_projection_in Hsimul) trX),
    infinite_valid_trace_from X sX trX -&gt;
    infinite_valid_trace_from Y (state_project sX) (VLSM_weak_projection_infinite_trace_project Hsimul trX Hinf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hinf</span> : InfinitelyOften
            (VLSM_weak_projection_in Hsimul) trX),
  infinite_valid_trace_from X sX trX
  ‚Üí infinite_valid_trace_from Y (state_project sX)
      (VLSM_weak_projection_infinite_trace_project
         Hsimul trX Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk62"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hinf</span> : InfinitelyOften
            (VLSM_weak_projection_in Hsimul) trX),
  infinite_valid_trace_from X sX trX
  ‚Üí infinite_valid_trace_from Y (state_project sX)
      (VLSM_weak_projection_infinite_trace_project
         Hsimul trX Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk63"><span class="nb">intros</span> sX trX Hinf HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (VLSM_weak_projection_infinite_trace_project Hsimul
     trX Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk64"><span class="nb">apply</span> infinite_valid_trace_from_prefix_rev.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">n</span> : nat,
  finite_valid_trace_from Y (state_project sX)
    (stream_prefix
       (VLSM_weak_projection_infinite_trace_project
          Hsimul trX Hinf) n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk65"><span class="nb">intros</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (stream_prefix
     (VLSM_weak_projection_infinite_trace_project
        Hsimul trX Hinf) n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk66"><span class="nb">specialize</span>
    (stream_map_option_prefix_ex (pre_VLSM_projection_transition_item_project _ _ label_project state_project) trX
    (pre_VLSM_projection_transition_item_project_infinitely_often _ _ label_project state_project trX Hinf)
    n)
    <span class="kr">as</span> [m Hrew].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>stream_prefix
  (stream_map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project
        state_project) trX
     (pre_VLSM_projection_transition_item_project_infinitely_often
        (type X) (type Y) label_project
        state_project trX Hinf)) n =
map_option
  (pre_VLSM_projection_transition_item_project
     (type X) (type Y) label_project
     state_project) (stream_prefix trX m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (stream_prefix
     (VLSM_weak_projection_infinite_trace_project
        Hsimul trX Hinf) n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk67"><span class="nb">unfold</span> VLSM_weak_projection_infinite_trace_project, pre_VLSM_projection_infinite_trace_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>stream_prefix
  (stream_map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project
        state_project) trX
     (pre_VLSM_projection_transition_item_project_infinitely_often
        (type X) (type Y) label_project
        state_project trX Hinf)) n =
map_option
  (pre_VLSM_projection_transition_item_project
     (type X) (type Y) label_project
     state_project) (stream_prefix trX m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (stream_prefix
     (stream_map_option
        (pre_VLSM_projection_transition_item_project
           (type X) (type Y) label_project
           state_project) trX
        (pre_VLSM_projection_transition_item_project_infinitely_often
           (type X) (type Y) label_project
           state_project trX Hinf)) n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk68"><span class="nb">replace</span> (stream_prefix _ _) <span class="kr">with</span> (VLSM_weak_projection_trace_project Hsimul (stream_prefix trX m)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>stream_prefix
  (stream_map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project
        state_project) trX
     (pre_VLSM_projection_transition_item_project_infinitely_often
        (type X) (type Y) label_project
        state_project trX Hinf)) n =
map_option
  (pre_VLSM_projection_transition_item_project
     (type X) (type Y) label_project
     state_project) (stream_prefix trX m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (VLSM_weak_projection_trace_project Hsimul
     (stream_prefix trX m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk69"><span class="nb">apply</span> VLSM_weak_projection_finite_valid_trace_from.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>n, m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>stream_prefix
  (stream_map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project
        state_project) trX
     (pre_VLSM_projection_transition_item_project_infinitely_often
        (type X) (type Y) label_project
        state_project trX Hinf)) n =
map_option
  (pre_VLSM_projection_transition_item_project
     (type X) (type Y) label_project
     state_project) (stream_prefix trX m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX (stream_prefix trX m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6a"><span class="nb">apply</span> infinite_valid_trace_from_prefix <span class="kr">with</span> (n0 := m) <span class="kr">in</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX
  (stream_prefix trX m)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hrew</var><span class="hyp-type"><b>: </b><span>stream_prefix
  (stream_map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project
        state_project) trX
     (pre_VLSM_projection_transition_item_project_infinitely_often
        (type X) (type Y) label_project
        state_project trX Hinf)) n =
map_option
  (pre_VLSM_projection_transition_item_project
     (type X) (type Y) label_project
     state_project) (stream_prefix trX m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX (stream_prefix trX m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6b"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_projection_infinite_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> (<span class="nv">Hfin</span> : FinitelyManyBound (VLSM_weak_projection_in Hsimul) trX),
    infinite_valid_trace_from X sX trX -&gt;
    finite_valid_trace_from Y (state_project sX) (VLSM_weak_projection_infinite_finite_trace_project Hsimul trX Hfin).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hfin</span> : FinitelyManyBound
            (VLSM_weak_projection_in Hsimul) trX),
  infinite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (VLSM_weak_projection_infinite_finite_trace_project
         Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hfin</span> : FinitelyManyBound
            (VLSM_weak_projection_in Hsimul) trX),
  infinite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (VLSM_weak_projection_infinite_finite_trace_project
         Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6d"><span class="nb">intros</span> sX trX Hfin HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (VLSM_weak_projection_infinite_finite_trace_project
     Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6e"><span class="nb">apply</span> VLSM_weak_projection_finite_valid_trace_from.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX
  (stream_prefix trX (`Hfin))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk6f"><span class="nb">apply</span> infinite_valid_trace_from_prefix <span class="kr">with</span> (n := `Hfin) <span class="kr">in</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound
  (VLSM_weak_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX
  (stream_prefix trX (`Hfin))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX
  (stream_prefix trX (`Hfin))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Any <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span> determines a <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection</span></span>, allowing us
to lift to VLSM projection the generic results proved about VLSM partial projections.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk70"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_partial_projection_from_projection</span>
  : VLSM_weak_partial_projection X Y (VLSM_partial_trace_project_from_projection label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk71"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk72"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection_type X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk73"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk74">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection_type X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk75"><span class="nb">apply</span> VLSM_partial_projection_type_from_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project (sX, trX) =
  Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk77"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  Some
    (state_project sX,
    pre_VLSM_projection_trace_project (type X)
      (type Y) label_project state_project trX) =
  Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk78"><span class="nb">intros</span> sX trX sY trY Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Some
  (state_project sX,
  pre_VLSM_projection_trace_project 
    (type X) (type Y) label_project
    state_project trX) = 
Some (sY, trY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX
‚Üí finite_valid_trace_from Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk79"><span class="nb">inversion</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Some
  (state_project sX,
  pre_VLSM_projection_trace_project 
    (type X) (type Y) label_project
    state_project trX) = 
Some (sY, trY)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_project sX = sY</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_trace_project 
  (type X) (type Y) label_project state_project
  trX = trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX
‚Üí finite_valid_trace_from Y (state_project sX)
    (pre_VLSM_projection_trace_project (type X)
       (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_weak_projection_finite_valid_trace_from.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7a"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_projection_valid_state</span>
  : <span class="kr">forall</span> <span class="nv">sX</span>,
    valid_state_prop X sX -&gt; valid_state_prop Y (state_project sX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  valid_state_prop X sX
  ‚Üí valid_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  valid_state_prop X sX
  ‚Üí valid_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7c"><span class="nb">specialize</span> VLSM_weak_partial_projection_from_projection <span class="kr">as</span> Hpart_simul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  valid_state_prop X sX
  ‚Üí valid_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7d"><span class="nb">specialize</span> (VLSM_weak_partial_projection_valid_state Hpart_simul) <span class="kr">as</span> Hps.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) 
  (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, []) = Some (sY, trY)
  ‚Üí valid_state_prop X sX
    ‚Üí valid_state_prop Y sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  valid_state_prop X sX
  ‚Üí valid_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7e"><span class="nb">intro</span> sX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hps</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) 
  (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, []) = Some (sY, trY)
  ‚Üí valid_state_prop X sX
    ‚Üí valid_state_prop Y sY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X sX
‚Üí valid_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> Hps; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk7f"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_projection_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span>, label_project lX = Some lY -&gt;
    <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>,
    input_valid_transition X lX (s, im) (s&#39;, om ) -&gt;
    input_valid_transition Y lY (state_project s, im) (state_project s&#39;, om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lX</span> : vlabel X) (<span class="nv">lY</span> : vlabel Y),
  label_project lX = Some lY
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
      (<span class="nv">om</span> : option message),
      input_valid_transition X lX (s, im) (s&#39;, om)
      ‚Üí input_valid_transition Y lY
          (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk80"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lX</span> : vlabel X) (<span class="nv">lY</span> : vlabel Y),
  label_project lX = Some lY
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
      (<span class="nv">om</span> : option message),
      input_valid_transition X lX (s, im) (s&#39;, om)
      ‚Üí input_valid_transition Y lY
          (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk81"><span class="nb">specialize</span> VLSM_weak_partial_projection_from_projection <span class="kr">as</span> Hpart_simul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lX</span> : vlabel X) (<span class="nv">lY</span> : vlabel Y),
  label_project lX = Some lY
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
      (<span class="nv">om</span> : option message),
      input_valid_transition X lX (s, im) (s&#39;, om)
      ‚Üí input_valid_transition Y lY
          (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk82"><span class="nb">specialize</span> (VLSM_weak_partial_projection_input_valid_transition Hpart_simul) <span class="kr">as</span> Hivt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lX</span> : vlabel X) (<span class="nv">lY</span> : vlabel Y),
  label_project lX = Some lY
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
      (<span class="nv">om</span> : option message),
      input_valid_transition X lX (s, im) (s&#39;, om)
      ‚Üí input_valid_transition Y lY
          (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk83"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y lY (state_project s, im)
  (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk84"><span class="nb">apply</span>
    (Hivt s {| l := lX; input := im; destination := s&#39;; output := om|}
      (state_project s) {| l := lY; input := im; destination := state_project s&#39;; output := om|})
  ; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_trace_project_from_projection
  label_project state_project
  (s,
  [{|
     l := lX;
     input := im;
     destination := s&#39;;
     output := om
   |}]) =
Some
  (state_project s,
  [{|
     l := lY;
     input := im;
     destination := state_project s&#39;;
     output := om
   |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk85"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (state_project s,
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (type X) (type Y) label_project state_project
      {|
        l := lX;
        input := im;
        destination := s&#39;;
        output := om
      |}
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span>) =
Some
  (state_project s,
  [{|
     l := lY;
     input := im;
     destination := state_project s&#39;;
     output := om
   |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk86"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (state_project s,
  <span class="kr">match</span>
    <span class="kr">match</span>
      label_project
        (l
           {|
             l := lX;
             input := im;
             destination := s&#39;;
             output := om
           |})
    <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input :=
              input
                {|
                  l := lX;
                  input := im;
                  destination := s&#39;;
                  output := om
                |};
            destination :=
              state_project
                (destination
                   {|
                     l := lX;
                     input := im;
                     destination := s&#39;;
                     output := om
                   |});
            output :=
              output
                {|
                  l := lX;
                  input := im;
                  destination := s&#39;;
                  output := om
                |}
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span>) =
Some
  (state_project s,
  [{|
     l := lY;
     input := im;
     destination := state_project s&#39;;
     output := om
   |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk87"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (state_project s,
  <span class="kr">match</span>
    <span class="kr">match</span> label_project lX <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := im;
            destination := state_project s&#39;;
            output := om
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span>) =
Some
  (state_project s,
  [{|
     l := lY;
     input := im;
     destination := state_project s&#39;;
     output := om
   |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk88"><span class="nb">rewrite</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">itemX</span> : vtransition_item X) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">itemY</span> : vtransition_item Y),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, [itemX]) = Some (sY, [itemY])
  ‚Üí input_valid_transition X 
      (l itemX) (sX, input itemX)
      (destination itemX, output itemX)
    ‚Üí input_valid_transition Y 
        (l itemY) (sY, input itemY)
        (destination itemY, output itemY)</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (state_project s,
  [{|
     l := lY;
     input := im;
     destination := state_project s&#39;;
     output := om
   |}]) =
Some
  (state_project s,
  [{|
     l := lY;
     input := im;
     destination := state_project s&#39;;
     output := om
   |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk89"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_projection_finite_valid_trace_from_to</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">s&#39;X</span> <span class="nv">trX</span>,
    finite_valid_trace_from_to X sX s&#39;X trX -&gt; finite_valid_trace_from_to Y (state_project sX) (state_project s&#39;X) (VLSM_weak_projection_trace_project Hsimul trX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> <span class="nv">s&#39;X</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from_to X sX s&#39;X trX
  ‚Üí finite_valid_trace_from_to Y (state_project sX)
      (state_project s&#39;X)
      (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> <span class="nv">s&#39;X</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from_to X sX s&#39;X trX
  ‚Üí finite_valid_trace_from_to Y (state_project sX)
      (state_project s&#39;X)
      (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8b"><span class="nb">specialize</span> VLSM_weak_partial_projection_from_projection <span class="kr">as</span> Hpart_simul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> <span class="nv">s&#39;X</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from_to X sX s&#39;X trX
  ‚Üí finite_valid_trace_from_to Y (state_project sX)
      (state_project s&#39;X)
      (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8c"><span class="nb">specialize</span> (VLSM_weak_partial_projection_finite_valid_trace_from Hpart_simul) <span class="kr">as</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> <span class="nv">s&#39;X</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from_to X sX s&#39;X trX
  ‚Üí finite_valid_trace_from_to Y (state_project sX)
      (state_project s&#39;X)
      (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8d"><span class="nb">intros</span> sX s&#39;X trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8e"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> HtrX <span class="kr">as</span> Hs&#39;X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br><span><var>Hs'X</var><span class="hyp-type"><b>: </b><span>finite_trace_last sX trX = s&#39;X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk8f"><span class="nb">apply</span> valid_trace_forget_last <span class="kr">in</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>Hs'X</var><span class="hyp-type"><b>: </b><span>finite_trace_last sX trX = s&#39;X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk90"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (state_project (finite_trace_last sX trX))
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk91"><span class="nb">rewrite</span> (final_state_project _ _ _ _ Hsimul).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (finite_trace_last (state_project sX)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project trX))
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk92" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk92"><hr></label><div class="goal-conclusion">finite_valid_trace_from X sX trX</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk93">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (finite_trace_last (state_project sX)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project trX))
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk94"><span class="nb">apply</span> valid_trace_add_default_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk95"><span class="nb">revert</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX
‚Üí finite_valid_trace_from Y (state_project sX)
    (VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk96"><span class="nb">apply</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_trace_project_from_projection
  label_project state_project (sX, trX) =
Some
  (state_project sX,
  VLSM_weak_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk97">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk98"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_projection_in_futures</span>
  : <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>,
    in_futures X s1 s2 -&gt; in_futures Y (state_project s1) (state_project s2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
  in_futures X s1 s2
  ‚Üí in_futures Y (state_project s1) (state_project s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk99"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : state,
  in_futures X s1 s2
  ‚Üí in_futures Y (state_project s1) (state_project s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk9a"><span class="nb">intros</span> s1 s2 [tr Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures Y (state_project s1) (state_project s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk9b"><span class="kr">exists</span> (<span class="nv">VLSM_weak_projection_trace_project</span> <span class="nv">Hsimul</span> <span class="nv">tr</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s1)
  (state_project s2)
  (VLSM_weak_projection_trace_project Hsimul tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk9c"><span class="nb">revert</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s1 s2 tr
‚Üí finite_valid_trace_from_to Y (state_project s1)
    (state_project s2)
    (VLSM_weak_projection_trace_project Hsimul tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_weak_projection_finite_valid_trace_from_to.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">weak_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_projection X Y label_project state_project)
  : list (vtransition_item X) -&gt; list (vtransition_item Y)
  := pre_VLSM_projection_trace_project _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_in</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_projection X Y label_project state_project)
  := pre_VLSM_projection_in_projection _ _ label_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_infinite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_projection X Y label_project state_project)
  (<span class="nv">s</span> : Streams.Stream (vtransition_item X))
  (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_projection_in Hsimul) s)
  : Streams.Stream (vtransition_item Y)
  := pre_VLSM_projection_infinite_trace_project _ _ label_project state_project s Hinf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_infinite_finite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_projection X Y label_project state_project)
  (<span class="nv">s</span> : Streams.Stream (vtransition_item X))
  (<span class="nv">Hfin</span> : FinitelyManyBound (VLSM_projection_in Hsimul) s)
  : list (vtransition_item Y)
  := pre_VLSM_projection_infinite_finite_trace_project _ _ label_project state_project s Hfin.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y)}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_projection X Y label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_trace_project_app</span>
  : <span class="kr">forall</span> <span class="nv">l1</span> <span class="nv">l2</span>, VLSM_projection_trace_project Hsimul (l1 ++ l2) =
    VLSM_projection_trace_project Hsimul l1 ++ VLSM_projection_trace_project Hsimul l2
  := pre_VLSM_projection_trace_project_app _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_trace_project_app_rev</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">l1&#39;</span> <span class="nv">l2&#39;</span>, VLSM_projection_trace_project Hsimul l = l1&#39; ++ l2&#39; -&gt;
    <span class="kr">exists</span> <span class="nv">l1</span> <span class="nv">l2</span>, l = l1 ++ l2 /\
      VLSM_projection_trace_project Hsimul l1 = l1&#39; /\
      VLSM_projection_trace_project Hsimul l2 = l2&#39;
  := pre_VLSM_projection_trace_project_app_rev _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_trace_project_in</span>
  : <span class="kr">forall</span> <span class="nv">itemX</span> <span class="nv">itemY</span>, pre_VLSM_projection_transition_item_project _ _ label_project state_project itemX = Some itemY -&gt;
    <span class="kr">forall</span> <span class="nv">trX</span>, In itemX trX -&gt; In itemY (VLSM_projection_trace_project Hsimul trX)
  := pre_VLSM_projection_trace_project_in _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_finite_trace_last</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    finite_valid_trace_from X sX trX -&gt;
    state_project (finite_trace_last sX trX) = finite_trace_last (state_project sX) (VLSM_projection_trace_project Hsimul trX)
  := final_state_project _ _ _ _ Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_finite_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    finite_valid_trace X sX trX -&gt; finite_valid_trace Y (state_project sX) (VLSM_projection_trace_project Hsimul trX)
  := trace_project_preserves_valid_trace _ _ _ _ Hsimul.</span></span></pre><div class="doc">
Any <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span> determines a <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection</span></span>, allowing us
to lift to VLSM projection the generic results proved about VLSM partial projections.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk9d"><span class="kn">Lemma</span> <span class="nf">VLSM_partial_projection_from_projection</span>
  : VLSM_partial_projection X Y (VLSM_partial_trace_project_from_projection label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk9e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk9f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection_type X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chka0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chka0"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace X sX trX
    ‚Üí finite_valid_trace Y sY trY</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_projection_type X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka2"><span class="nb">apply</span> VLSM_partial_projection_type_from_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hsimul.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project (sX, trX) =
  Some (sY, trY)
  ‚Üí finite_valid_trace X sX trX
    ‚Üí finite_valid_trace Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka4"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : list (vtransition_item Y)),
  Some
    (state_project sX,
    pre_VLSM_projection_trace_project (type X)
      (type Y) label_project state_project trX) =
  Some (sY, trY)
  ‚Üí finite_valid_trace X sX trX
    ‚Üí finite_valid_trace Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka5"><span class="nb">intros</span> sX trX sY trY Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Some
  (state_project sX,
  pre_VLSM_projection_trace_project 
    (type X) (type Y) label_project
    state_project trX) = 
Some (sY, trY)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X sX trX
‚Üí finite_valid_trace Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka6"><span class="nb">inversion</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item Y)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Some
  (state_project sX,
  pre_VLSM_projection_trace_project 
    (type X) (type Y) label_project
    state_project trX) = 
Some (sY, trY)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_project sX = sY</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_trace_project 
  (type X) (type Y) label_project state_project
  trX = trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X sX trX
‚Üí finite_valid_trace Y (state_project sX)
    (pre_VLSM_projection_trace_project (type X)
       (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_projection_finite_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka7"><span class="kn">Lemma</span> <span class="nf">VLSM_projection_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y (state_project sX) (VLSM_projection_trace_project Hsimul trX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chka9"><span class="nb">specialize</span> VLSM_partial_projection_from_projection <span class="kr">as</span> Hpart_simul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkaa"><span class="nb">specialize</span> (VLSM_partial_projection_finite_valid_trace_from Hpart_simul) <span class="kr">as</span> Hivt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkab"><span class="nb">intros</span> sX trX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX
‚Üí finite_valid_trace_from Y (state_project sX)
    (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkac"><span class="nb">apply</span> Hivt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_partial_trace_project_from_projection
  label_project state_project (sX, trX) =
Some
  (state_project sX,
  VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkad"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : 
                   list 
                     (vtransition_item X)) 
  (<span class="nv">sY</span> : vstate Y) (<span class="nv">trY</span> : 
                   list 
                     (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, trX) = Some (sY, trY)
  ‚Üí finite_valid_trace_from X sX trX
    ‚Üí finite_valid_trace_from Y sY trY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (state_project sX,
  pre_VLSM_projection_trace_project (type X) (type Y)
    label_project state_project trX) =
Some
  (state_project sX,
  VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_weaken</span> : VLSM_weak_projection X Y label_project state_project :=
  {| weak_projection_type := projection_type _ _ _ _ Hsimul
  ;  weak_trace_project_preserves_valid_trace := VLSM_projection_finite_valid_trace_from
  |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_valid_state</span>
  : <span class="kr">forall</span> <span class="nv">sX</span>,
    valid_state_prop X sX -&gt; valid_state_prop Y (state_project sX)
  := VLSM_weak_projection_valid_state VLSM_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span>, label_project lX = Some lY -&gt;
    <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>,
    input_valid_transition X lX (s, im) (s&#39;, om ) -&gt;
    input_valid_transition Y lY (state_project s, im) (state_project s&#39;, om)
  := VLSM_weak_projection_input_valid_transition VLSM_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_finite_valid_trace_from_to</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">s&#39;X</span> <span class="nv">trX</span>,
    finite_valid_trace_from_to X sX s&#39;X trX -&gt; finite_valid_trace_from_to Y (state_project sX) (state_project s&#39;X) (VLSM_projection_trace_project Hsimul trX)
  := VLSM_weak_projection_finite_valid_trace_from_to VLSM_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_in_futures</span>
  : <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>,
    in_futures X s1 s2 -&gt; in_futures Y (state_project s1) (state_project s2)
  := VLSM_weak_projection_in_futures VLSM_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_infinite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_projection_in Hsimul) trX),
    infinite_valid_trace_from X sX trX -&gt;
    infinite_valid_trace_from Y (state_project sX) (VLSM_projection_infinite_trace_project Hsimul trX Hinf)
    := VLSM_weak_projection_infinite_valid_trace_from VLSM_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_projection_infinite_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> (<span class="nv">Hfin</span> : FinitelyManyBound (VLSM_projection_in Hsimul) trX),
    infinite_valid_trace_from X sX trX -&gt;
    finite_valid_trace_from Y (state_project sX) (VLSM_projection_infinite_finite_trace_project Hsimul trX Hfin)
    := VLSM_weak_projection_infinite_finite_valid_trace_from VLSM_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkae"><span class="kn">Lemma</span> <span class="nf">VLSM_projection_initial_state</span>
  : <span class="kr">forall</span> <span class="nv">sX</span>, vinitial_state_prop X sX -&gt; vinitial_state_prop Y (state_project sX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  vinitial_state_prop X sX
  ‚Üí vinitial_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkaf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  vinitial_state_prop X sX
  ‚Üí vinitial_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb0"><span class="nb">specialize</span> VLSM_partial_projection_from_projection <span class="kr">as</span> Hpart_simul.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  vinitial_state_prop X sX
  ‚Üí vinitial_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb1"><span class="nb">specialize</span> (VLSM_partial_projection_initial_state Hpart_simul) <span class="kr">as</span> His.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) 
  (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, []) = Some (sY, trY)
  ‚Üí vinitial_state_prop X sX
    ‚Üí vinitial_state_prop Y sY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sX</span> : state,
  vinitial_state_prop X sX
  ‚Üí vinitial_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb2"><span class="nb">intro</span> sX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hpart_simul</var><span class="hyp-type"><b>: </b><span>VLSM_partial_projection X Y
  (VLSM_partial_trace_project_from_projection
     label_project state_project)</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">sY</span> : vstate Y) 
  (<span class="nv">trY</span> : list (vtransition_item Y)),
  VLSM_partial_trace_project_from_projection
    label_project state_project 
    (sX, []) = Some (sY, trY)
  ‚Üí vinitial_state_prop X sX
    ‚Üí vinitial_state_prop Y sY</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X sX
‚Üí vinitial_state_prop Y (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> His; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb3"><span class="kn">Lemma</span> <span class="nf">VLSM_projection_finite_valid_trace_init_to</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">s&#39;X</span> <span class="nv">trX</span>,
    finite_valid_trace_init_to X sX s&#39;X trX -&gt; finite_valid_trace_init_to Y (state_project sX) (state_project s&#39;X) (VLSM_projection_trace_project Hsimul trX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> <span class="nv">s&#39;X</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_init_to X sX s&#39;X trX
  ‚Üí finite_valid_trace_init_to Y (state_project sX)
      (state_project s&#39;X)
      (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> <span class="nv">s&#39;X</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_init_to X sX s&#39;X trX
  ‚Üí finite_valid_trace_init_to Y (state_project sX)
      (state_project s&#39;X)
      (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb5"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X sX s&#39;X trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb6"><span class="nb">destruct</span> H <span class="kr">as</span> [H Hinit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb7"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_projection_trace_project Hsimul trX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chkb8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chkb8"><hr></label><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkb9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project sX)
  (state_project s&#39;X)
  (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkba"><span class="nb">revert</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X sX s&#39;X trX
‚Üí finite_valid_trace_from_to Y (state_project sX)
    (state_project s&#39;X)
    (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_projection_finite_valid_trace_from_to.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkbb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkbc"><span class="nb">revert</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X sX s&#39;X trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sX
‚Üí initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_projection_initial_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkbd"><span class="kn">Lemma</span> <span class="nf">VLSM_projection_infinite_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_projection_in Hsimul) trX),
    infinite_valid_trace X sX trX -&gt;
    infinite_valid_trace Y (state_project sX) (VLSM_projection_infinite_trace_project Hsimul trX Hinf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_projection_in Hsimul)
            trX),
  infinite_valid_trace X sX trX
  ‚Üí infinite_valid_trace Y (state_project sX)
      (VLSM_projection_infinite_trace_project Hsimul
         trX Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkbe"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hinf</span> : InfinitelyOften (VLSM_projection_in Hsimul)
            trX),
  infinite_valid_trace X sX trX
  ‚Üí infinite_valid_trace Y (state_project sX)
      (VLSM_projection_infinite_trace_project Hsimul
         trX Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkbf"><span class="nb">intros</span> sX trX Hinf [HtrX HsX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace Y (state_project sX)
  (VLSM_projection_infinite_trace_project Hsimul trX
     Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc0"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (VLSM_projection_infinite_trace_project Hsimul trX
     Hinf)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chkc1"><hr></label><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (VLSM_projection_infinite_trace_project Hsimul trX
     Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc3"><span class="nb">apply</span> VLSM_projection_infinite_valid_trace_from.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X sX trX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc5"><span class="nb">apply</span> VLSM_projection_initial_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span class="hyp-type"><b>: </b><span>InfinitelyOften (VLSM_projection_in Hsimul) trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X sX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc6"><span class="kn">Lemma</span> <span class="nf">VLSM_projection_infinite_finite_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span> (<span class="nv">Hfin</span> : FinitelyManyBound (VLSM_projection_in Hsimul) trX),
    infinite_valid_trace X sX trX -&gt;
    finite_valid_trace Y (state_project sX) (VLSM_projection_infinite_finite_trace_project Hsimul trX Hfin).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hfin</span> : FinitelyManyBound
            (VLSM_projection_in Hsimul) trX),
  infinite_valid_trace X sX trX
  ‚Üí finite_valid_trace Y (state_project sX)
      (VLSM_projection_infinite_finite_trace_project
         Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item) 
  (<span class="nv">Hfin</span> : FinitelyManyBound
            (VLSM_projection_in Hsimul) trX),
  infinite_valid_trace X sX trX
  ‚Üí finite_valid_trace Y (state_project sX)
      (VLSM_projection_infinite_finite_trace_project
         Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc8"><span class="nb">intros</span> sX trX Hfin [HtrX HsX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y (state_project sX)
  (VLSM_projection_infinite_finite_trace_project
     Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkc9"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (VLSM_projection_infinite_finite_trace_project
     Hsimul trX Hfin)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chkca" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chkca"><hr></label><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkcb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (VLSM_projection_infinite_finite_trace_project
     Hsimul trX Hfin)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkcc"><span class="nb">apply</span> VLSM_projection_infinite_finite_valid_trace_from.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X sX trX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkcd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkce"><span class="nb">apply</span> VLSM_projection_initial_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hfin</var><span class="hyp-type"><b>: </b><span>FinitelyManyBound (VLSM_projection_in Hsimul)
  trX</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X sX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab4"></a><h2 class="section">Projection Friendliness</h2>
<div class="paragraph"> </div>

A projection is friendly if all the valid traces of the projection are
projections of the valid traces of the source VLSM.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_friendliness</span>.</span></span></pre><div class="doc">
We axiomatize projection friendliness as the converse of
<span class="inlinecode"><span class="id" title="var">VLSM_projection_finite_valid_trace</span></span>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_friendly_prop</span>
  := <span class="kr">forall</span>
    (<span class="nv">sY</span> : vstate Y)
    (<span class="nv">trY</span> : list (vtransition_item Y))
    (<span class="nv">HtrY</span> : finite_valid_trace Y sY trY),
    <span class="kr">exists</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)),
      finite_valid_trace X sX trX
      /\ state_project sX = sY
      /\ VLSM_projection_trace_project Hsimul trX = trY.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkcf"><span class="kn">Lemma</span> <span class="nf">projection_friendly_in_futures</span>
  (<span class="nv">Hfr</span> : projection_friendly_prop)
  (<span class="nv">s1</span> <span class="nv">s2</span> : vstate Y)
  (<span class="nv">Hfuture</span> : in_futures Y s1 s2)
  : <span class="kr">exists</span> (<span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X),
    state_project sX1 = s1 /\ state_project sX2 = s2 /\ in_futures X sX1 sX2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>in_futures Y s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>in_futures Y s1 s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd1"><span class="nb">destruct</span> Hfuture <span class="kr">as</span> [tr_s2 Hfuture].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>tr_s2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfuture</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y s1 s2 tr_s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd2"><span class="nb">apply</span> finite_valid_trace_from_to_complete_left <span class="kr">in</span> Hfuture
    <span class="kr">as</span> [<span class="kr">is</span> [tr_s1 [Htr Heq_s1]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>tr_s2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s1</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Y <span class="kr">is</span> s2
  (tr_s1 ++ tr_s2)</span></span></span><br><span><var>Heq_s1</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr_s1 = s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd3"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr <span class="kr">as</span> Heq_s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>tr_s2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s1</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Y <span class="kr">is</span> s2
  (tr_s1 ++ tr_s2)</span></span></span><br><span><var>Heq_s2</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> (tr_s1 ++ tr_s2) = s2</span></span></span><br><span><var>Heq_s1</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr_s1 = s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd4"><span class="nb">apply</span> valid_trace_forget_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>tr_s2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s1</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Y <span class="kr">is</span> (tr_s1 ++ tr_s2)</span></span></span><br><span><var>Heq_s2</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> (tr_s1 ++ tr_s2) = s2</span></span></span><br><span><var>Heq_s1</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr_s1 = s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd5"><span class="nb">apply</span> Hfr <span class="kr">in</span> Htr <span class="kr">as</span> [isX [trX [Htr [His Htr_pr]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>tr_s2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s1</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX trX</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>state_project isX = <span class="kr">is</span></span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>VLSM_projection_trace_project Hsimul trX =
tr_s1 ++ tr_s2</span></span></span><br><span><var>Heq_s2</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> (tr_s1 ++ tr_s2) = s2</span></span></span><br><span><var>Heq_s1</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr_s1 = s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd6"><span class="nb">apply</span> VLSM_projection_trace_project_app_rev <span class="kr">in</span> Htr_pr
    <span class="kr">as</span> [trX_s1 [trX_s2 [HeqtrX [Htr_s1_pr Htr_s2_pr]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate Y</span></span></span><br><span><var>tr_s2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s1</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX trX</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>state_project isX = <span class="kr">is</span></span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HeqtrX</var><span class="hyp-type"><b>: </b><span>trX = trX_s1 ++ trX_s2</span></span></span><br><span><var>Htr_s1_pr</var><span class="hyp-type"><b>: </b><span>VLSM_projection_trace_project Hsimul
  trX_s1 = tr_s1</span></span></span><br><span><var>Htr_s2_pr</var><span class="hyp-type"><b>: </b><span>VLSM_projection_trace_project Hsimul
  trX_s2 = tr_s2</span></span></span><br><span><var>Heq_s2</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> (tr_s1 ++ tr_s2) = s2</span></span></span><br><span><var>Heq_s1</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr_s1 = s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 = s1
  ‚àß state_project sX2 = s2 ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd7"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X isX (trX_s1 ++ trX_s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1)
  ‚àß state_project sX2 =
    finite_trace_last (state_project isX)
      (VLSM_projection_trace_project Hsimul trX_s1 ++
       VLSM_projection_trace_project Hsimul trX_s2)
    ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd8"><span class="nb">destruct</span> Htr <span class="kr">as</span> [HtrX HisX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1)
  ‚àß state_project sX2 =
    finite_trace_last (state_project isX)
      (VLSM_projection_trace_project Hsimul trX_s1 ++
       VLSM_projection_trace_project Hsimul trX_s2)
    ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkd9"><span class="nb">apply</span> finite_valid_trace_from_app_iff <span class="kr">in</span> HtrX <span class="kr">as</span> HtrX12.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX12</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1
‚àß finite_valid_trace_from X
    (finite_trace_last isX trX_s1) trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1)
  ‚àß state_project sX2 =
    finite_trace_last (state_project isX)
      (VLSM_projection_trace_project Hsimul trX_s1 ++
       VLSM_projection_trace_project Hsimul trX_s2)
    ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkda"><span class="nb">destruct</span> HtrX12 <span class="kr">as</span> [HtrX1 HtrX2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X
  (finite_trace_last isX trX_s1) trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1)
  ‚àß state_project sX2 =
    finite_trace_last (state_project isX)
      (VLSM_projection_trace_project Hsimul trX_s1 ++
       VLSM_projection_trace_project Hsimul trX_s2)
    ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkdb"><span class="nb">apply</span> valid_trace_add_default_last <span class="kr">in</span> HtrX2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX1</span> <span class="nv">sX2</span> : vstate X,
  state_project sX1 =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1)
  ‚àß state_project sX2 =
    finite_trace_last (state_project isX)
      (VLSM_projection_trace_project Hsimul trX_s1 ++
       VLSM_projection_trace_project Hsimul trX_s2)
    ‚àß in_futures X sX1 sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkdc"><span class="kr">exists</span> (<span class="nv">finite_trace_last</span> <span class="nv">isX</span> <span class="nv">trX_s1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sX2</span> : vstate X,
  state_project (finite_trace_last isX trX_s1) =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1)
  ‚àß state_project sX2 =
    finite_trace_last (state_project isX)
      (VLSM_projection_trace_project Hsimul trX_s1 ++
       VLSM_projection_trace_project Hsimul trX_s2)
    ‚àß in_futures X (finite_trace_last isX trX_s1) sX2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkdd"><span class="kr">exists</span> (<span class="nv">finite_trace_last</span> <span class="nv">isX</span>  (trX_s1 ++ trX_s2)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last isX trX_s1) =
finite_trace_last (state_project isX)
  (VLSM_projection_trace_project Hsimul trX_s1)
‚àß state_project
    (finite_trace_last isX (trX_s1 ++ trX_s2)) =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1 ++
     VLSM_projection_trace_project Hsimul trX_s2)
  ‚àß in_futures X (finite_trace_last isX trX_s1)
      (finite_trace_last isX (trX_s1 ++ trX_s2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkde"><span class="nb">rewrite</span> !VLSM_projection_finite_trace_last,
    VLSM_projection_trace_project_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (state_project isX)
  (VLSM_projection_trace_project Hsimul trX_s1) =
finite_trace_last (state_project isX)
  (VLSM_projection_trace_project Hsimul trX_s1)
‚àß finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1 ++
     VLSM_projection_trace_project Hsimul trX_s2) =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1 ++
     VLSM_projection_trace_project Hsimul trX_s2)
  ‚àß in_futures X (finite_trace_last isX trX_s1)
      (finite_trace_last isX (trX_s1 ++ trX_s2))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chkdf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chkdf"><hr></label><div class="goal-conclusion">finite_valid_trace_from X isX (trX_s1 ++ trX_s2)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chke0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chke0"><hr></label><div class="goal-conclusion">finite_valid_trace_from X isX trX_s1</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_last (state_project isX)
  (VLSM_projection_trace_project Hsimul trX_s1) =
finite_trace_last (state_project isX)
  (VLSM_projection_trace_project Hsimul trX_s1)
‚àß finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1 ++
     VLSM_projection_trace_project Hsimul trX_s2) =
  finite_trace_last (state_project isX)
    (VLSM_projection_trace_project Hsimul trX_s1 ++
     VLSM_projection_trace_project Hsimul trX_s2)
  ‚àß in_futures X (finite_trace_last isX trX_s1)
      (finite_trace_last isX (trX_s1 ++ trX_s2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke2"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X (finite_trace_last isX trX_s1)
  (finite_trace_last isX (trX_s1 ++ trX_s2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke3"><span class="nb">rewrite</span> finite_trace_last_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X (finite_trace_last isX trX_s1)
  (finite_trace_last (finite_trace_last isX trX_s1)
     trX_s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">exact</span> HtrX2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX (trX_s1 ++ trX_s2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfr</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>isX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX_s1, trX_s2</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX
  (trX_s1 ++ trX_s2)</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X isX trX_s1</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last isX trX_s1)
  (finite_trace_last
     (finite_trace_last isX trX_s1) trX_s2)
  trX_s2</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop isX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X isX trX_s1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
A consequence of the <span class="inlinecode"><span class="id" title="var">projection_friendly_prop</span></span>erty is that the valid
traces of the projection are precisely the projections of all the valid traces
of the source VLSM.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke6"><span class="kn">Lemma</span> <span class="nf">projection_friendly_trace_char</span>
  (<span class="nv">Hfriendly</span> : projection_friendly_prop)
  : <span class="kr">forall</span> <span class="nv">sY</span> <span class="nv">trY</span>, finite_valid_trace Y sY trY &lt;-&gt;
    <span class="kr">exists</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)),
      finite_valid_trace X sX trX
      /\ state_project sX = sY
      /\ VLSM_projection_trace_project Hsimul trX = trY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfriendly</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sY</span> : state) (<span class="nv">trY</span> : list transition_item),
  finite_valid_trace Y sY trY
  ‚Üî (<span class="kr">‚àÉ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list
                                (vtransition_item X)),
       finite_valid_trace X sX trX
       ‚àß state_project sX = sY
         ‚àß VLSM_projection_trace_project Hsimul trX =
           trY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfriendly</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sY</span> : state) (<span class="nv">trY</span> : list transition_item),
  finite_valid_trace Y sY trY
  ‚Üî (<span class="kr">‚àÉ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list
                                (vtransition_item X)),
       finite_valid_trace X sX trX
       ‚àß state_project sX = sY
         ‚àß VLSM_projection_trace_project Hsimul trX =
           trY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke8"><span class="nb">split</span>; [<span class="nb">apply</span> Hfriendly|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfriendly</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>sY</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)),
   finite_valid_trace X sX trX
   ‚àß state_project sX = sY
     ‚àß VLSM_projection_trace_project Hsimul trX = trY)
‚Üí finite_valid_trace Y sY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chke9"><span class="nb">intros</span> [sX [trX [HtrX [&lt;- &lt;-]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfriendly</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y (state_project sX)
  (VLSM_projection_trace_project Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkea"><span class="nb">apply</span> VLSM_projection_finite_valid_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_projection X Y label_project
  state_project</span></span></span><br><span><var>Hfriendly</var><span class="hyp-type"><b>: </b><span>projection_friendly_prop</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X sX trX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_friendliness</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_full_projection</span>.</span></span></pre><div class="doc">
<a id="lab5"></a><h2 class="section">VLSM full projections</h2>
<div class="paragraph"> </div>

A VLSM projection guaranteeing the existence of projection for all labels and
states, and the full correspondence between <span class="inlinecode"><span class="id" title="var">transition_item</span></span>s.
We say that VLSM X fully projects to VLSM Y (sharing the same messages)
if there exists maps <code>label_project</code> taking X-labels to Y-labels
and <code>state_project</code> taking X-states to Y-states, such that the
<span class="inlinecode"><span class="id" title="var">finite_valid_trace_prop</span></span>erty is preserved bu the trace
transformation induced by the label and state projection functions,
in which each X-<span class="inlinecode"><span class="id" title="var">transition_item</span></span> is projected to an Y-<span class="inlinecode"><span class="id" title="var">transition_item</span></span>
preserving the messages and transforming labels and states accordingly.

<div class="paragraph"> </div>

Besides <span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span>usions, which are a prototypical example of VLSM full
projections, we can also prove "lifting" relations between components and the
composition that they are part of as being full projections (see, e.g.,
<span class="inlinecode"><span class="id" title="var">lift_to_composite_vlsm_full_projection</span></span> or <span class="inlinecode"><span class="id" title="var">projection_friendliness_lift_to_composite_vlsm_full_projection</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">pre_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">TX</span> <span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : @label _ TX -&gt; @label _ TY)
  (<span class="nv">state_project</span> : @state _ TX -&gt; @state _ TY)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_full_projection_trace_item_project</span>
  : @transition_item _ TX -&gt; @transition_item _ TY
  :=
  <span class="kr">fun</span> <span class="nv">item</span> =&gt;
  {| l := label_project (l item)
   ; input := input item
   ; destination := state_project (destination item)
   ; output := output item
  |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_full_projection_finite_trace_project</span>
  : list (@transition_item _ TX) -&gt; list (@transition_item _ TY)
  := map pre_VLSM_full_projection_trace_item_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">pre_VLSM_full_projection_infinite_trace_project</span>
  : Streams.Stream (@transition_item _ TX) -&gt; Streams.Stream (@transition_item _ TY)
  := Streams.map pre_VLSM_full_projection_trace_item_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkeb"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_full_projection_infinite_trace_project_infinitely_often</span>
  : <span class="kr">forall</span> <span class="nv">s</span>, InfinitelyOften (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkec"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chked"><span class="kr">cofix</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkee"><span class="nb">intros</span> (a, s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">InfinitelyOften (is_Some ‚àò (Some ‚àò label_project ‚àò l))
  (Streams.Cons a s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkef"><span class="nb">constructor</span>; <span class="nb">simpl</span>; [|<span class="nb">apply</span> H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists1 (is_Some ‚àò (Some ‚àò label_project ‚àò l))
  (Streams.Cons a s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf0"><span class="nb">apply</span> Streams.Here.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(is_Some ‚àò (Some ‚àò label_project ‚àò l))
  (Streams.hd (Streams.Cons a s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf1"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_full_projection_infinite_trace_project_EqSt</span>
  : <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">Hinf</span> := pre_VLSM_full_projection_infinite_trace_project_infinitely_often s),
  Streams.EqSt (pre_VLSM_full_projection_infinite_trace_project s) (pre_VLSM_projection_infinite_trace_project _ _ (Some ‚àò label_project) state_project s Hinf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  <span class="kr">let</span> <span class="nv">Hinf</span> :
    InfinitelyOften
      (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s :=
    pre_VLSM_full_projection_infinite_trace_project_infinitely_often
      s <span class="kr">in</span>
  Streams.EqSt
    (pre_VLSM_full_projection_infinite_trace_project s)
    (pre_VLSM_projection_infinite_trace_project TX TY
       (Some ‚àò label_project) state_project s Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Streams.Stream transition_item,
  <span class="kr">let</span> <span class="nv">Hinf</span> :
    InfinitelyOften
      (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s :=
    pre_VLSM_full_projection_infinite_trace_project_infinitely_often
      s <span class="kr">in</span>
  Streams.EqSt
    (pre_VLSM_full_projection_infinite_trace_project s)
    (pre_VLSM_projection_infinite_trace_project TX TY
       (Some ‚àò label_project) state_project s Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf3"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hinf</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_full_projection_infinite_trace_project_infinitely_often
  s</span></span><span class="hyp-type"><b>: </b><span>InfinitelyOften
  (is_Some ‚àò (Some ‚àò label_project ‚àò l)) s</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Streams.EqSt
  (pre_VLSM_full_projection_infinite_trace_project s)
  (pre_VLSM_projection_infinite_trace_project TX TY
     (Some ‚àò label_project) state_project s Hinf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> stream_map_option_EqSt.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf4"><span class="kn">Lemma</span> <span class="nf">pre_VLSM_full_projection_finite_trace_last</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    state_project (finite_trace_last sX trX) = finite_trace_last (state_project sX) (pre_VLSM_full_projection_finite_trace_project trX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  state_project (finite_trace_last sX trX) =
  finite_trace_last (state_project sX)
    (pre_VLSM_full_projection_finite_trace_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  state_project (finite_trace_last sX trX) =
  finite_trace_last (state_project sX)
    (pre_VLSM_full_projection_finite_trace_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf6"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX trX) =
finite_trace_last (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf7">destruct_list_last trX trX&#39; lst HtrX
  ; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX, trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>trX = trX&#39; ++ [lst]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX (trX&#39; ++ [lst])) =
finite_trace_last (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (trX&#39; ++ [lst]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf8"><span class="nb">setoid_rewrite</span> map_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX, trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>trX = trX&#39; ++ [lst]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX (trX&#39; ++ [lst])) =
finite_trace_last (state_project sX)
  (map pre_VLSM_full_projection_trace_item_project
     trX&#39; ++
   map pre_VLSM_full_projection_trace_item_project
     [lst])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkf9"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX, trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>trX = trX&#39; ++ [lst]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX (trX&#39; ++ [lst])) =
finite_trace_last (state_project sX)
  (map pre_VLSM_full_projection_trace_item_project
     trX&#39; ++
   [pre_VLSM_full_projection_trace_item_project lst])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkfa"><span class="nb">rewrite</span> !finite_trace_last_is_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX, TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX, trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>trX = trX&#39; ++ [lst]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination lst) =
destination
  (pre_VLSM_full_projection_trace_item_project lst)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">pre_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y)
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  .</span></span></pre><div class="doc">
Similarly to <span class="inlinecode"><span class="id" title="var">VLSM_partial_projection</span></span>s and <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>s, we
distinguish two types of projections: <span class="inlinecode"><span class="id" title="var">VLSM_weak_full_projection</span></span> and
<span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span>, distinguished by the fact that the weak projections
are not required to preserve initial states.

<div class="paragraph"> </div>

Proper examples of <span class="inlinecode"><span class="id" title="var">VLSM_weak_full_projection</span></span> are presented in Lemmas
<span class="inlinecode"><span class="id" title="var">PreSubFree_PreFree_weak_full_projection</span></span> and
<span class="inlinecode"><span class="id" title="var">EquivPreloadedBase_Fixed_weak_full_projection</span></span>, which show that a trace over
a subset of nodes can be replayed on top of a valid state for the full
composition. Note that in this case, the initial state of the trace not
translated to an initial state but rather to a regular valid state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_weak_full_projection</span>
  :=
  { weak_full_trace_project_preserves_valid_trace :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
        finite_valid_trace_from X sX trX -&gt; finite_valid_trace_from Y (state_project sX) (pre_VLSM_full_projection_finite_trace_project _ _ label_project state_project trX)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">VLSM_full_projection</span>
  :=
  { full_trace_project_preserves_valid_trace :
      <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
        finite_valid_trace X sX trX -&gt; finite_valid_trace Y (state_project sX) (pre_VLSM_full_projection_finite_trace_project _ _ label_project state_project trX)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_full_projection_valid_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message)
    (<span class="nv">Hv</span> : input_valid X l (s, om))
    (<span class="nv">HsY</span> : valid_state_prop Y (state_project s))
    (<span class="nv">HomY</span> : option_valid_message_prop Y om),
    vvalid Y (label_project l) ((state_project s), om).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkfb"><span class="kn">Lemma</span> <span class="nf">weak_projection_valid_preservation_from_full</span>
  : weak_full_projection_valid_preservation -&gt;
    weak_projection_valid_preservation X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_valid_preservation
‚Üí weak_projection_valid_preservation X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkfc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_valid_preservation
‚Üí weak_projection_valid_preservation X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkfd"><span class="nb">intros</span> Hvalid lX lY Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  input_valid X lX (s, om)
  ‚Üí valid_state_prop Y (state_project s)
    ‚Üí option_valid_message_prop Y om
      ‚Üí vvalid Y lY (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkfe"><span class="nb">inversion_clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  input_valid X lX (s, om)
  ‚Üí valid_state_prop Y (state_project s)
    ‚Üí option_valid_message_prop Y om
      ‚Üí vvalid Y (label_project lX)
          (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hvalid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_full_projection_valid_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
    vvalid X l (s, om) -&gt; vvalid Y (label_project l) ((state_project s), om).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chkff"><span class="kn">Lemma</span> <span class="nf">strong_projection_valid_preservation_from_full</span>
  : strong_full_projection_valid_preservation -&gt;
    strong_projection_valid_preservation X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_valid_preservation
‚Üí strong_projection_valid_preservation X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk100"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_valid_preservation
‚Üí strong_projection_valid_preservation X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk101"><span class="nb">intros</span> Hvalid lX lY Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  vvalid X lX (s, om)
  ‚Üí vvalid Y lY (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk102"><span class="nb">inversion_clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  vvalid X lX (s, om)
  ‚Üí vvalid Y (label_project lX) (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hvalid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk103"><span class="kn">Lemma</span> <span class="nf">strong_full_projection_valid_preservation_weaken</span>
  : strong_full_projection_valid_preservation -&gt;
    weak_full_projection_valid_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_valid_preservation
‚Üí weak_full_projection_valid_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk104"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_valid_preservation
‚Üí weak_full_projection_valid_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk105"><span class="nb">intros</span> Hstrong l s om Hpv Hs Hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, om)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid Y (label_project l) (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk106"><span class="nb">apply</span> Hstrong.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, om)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X l (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hpv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_full_projection_transition_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>,
    input_valid_transition X l (s, om) (s&#39;, om&#39;) -&gt;
    vtransition Y (label_project l) (state_project s, om) = (state_project s&#39;, om&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk107"><span class="kn">Lemma</span> <span class="nf">weak_projection_transition_preservation_Some_from_full</span>
  : weak_full_projection_transition_preservation -&gt;
    weak_projection_transition_preservation_Some X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_transition_preservation
‚Üí weak_projection_transition_preservation_Some X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk108"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_transition_preservation
‚Üí weak_projection_transition_preservation_Some X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk109"><span class="nb">intros</span> Htransition lX lY Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) (<span class="nv">om&#39;</span> : 
                                                 option
                                                 message),
  input_valid_transition X lX (s, om) (s&#39;, om&#39;)
  ‚Üí vtransition Y lY (state_project s, om) =
    (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10a"><span class="nb">inversion_clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) (<span class="nv">om&#39;</span> : 
                                                 option
                                                 message),
  input_valid_transition X lX (s, om) (s&#39;, om&#39;)
  ‚Üí vtransition Y (label_project lX)
      (state_project s, om) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Htransition.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10b"><span class="kn">Lemma</span> <span class="nf">weak_projection_transition_consistency_None_from_full</span>
  : weak_projection_transition_consistency_None _ _ (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_full_projection_transition_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>,
      vtransition X l (s, om) = (s&#39;, om&#39;) -&gt;
      vtransition Y (label_project l) (state_project s, om) = (state_project s&#39;, om&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10d"><span class="kn">Lemma</span> <span class="nf">strong_projection_transition_preservation_Some_from_full</span>
  : strong_full_projection_transition_preservation -&gt;
    strong_projection_transition_preservation_Some X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_transition_preservation
‚Üí strong_projection_transition_preservation_Some X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_transition_preservation
‚Üí strong_projection_transition_preservation_Some X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk10f"><span class="nb">intros</span> Htransition lX lY Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) (<span class="nv">om&#39;</span> : 
                                                 option
                                                 message),
  vtransition X lX (s, om) = (s&#39;, om&#39;)
  ‚Üí vtransition Y lY (state_project s, om) =
    (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk110"><span class="nb">inversion_clear</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) (<span class="nv">om&#39;</span> : 
                                                 option
                                                 message),
  vtransition X lX (s, om) = (s&#39;, om&#39;)
  ‚Üí vtransition Y (label_project lX)
      (state_project s, om) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Htransition.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk111"><span class="kn">Lemma</span> <span class="nf">strong_projection_transition_consistency_None_from_full</span>
  : strong_projection_transition_consistency_None _ _ (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None X
  (type Y) (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk112"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None X
  (type Y) (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk113"><span class="kn">Lemma</span> <span class="nf">strong_full_projection_transition_preservation_weaken</span>
  : strong_full_projection_transition_preservation -&gt;
    weak_full_projection_transition_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_transition_preservation
‚Üí weak_full_projection_transition_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk114"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_transition_preservation
‚Üí weak_full_projection_transition_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk115"><span class="nb">intros</span> Hstrong l s om s&#39; om&#39; Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition Y (label_project l) (state_project s, om) =
(state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk116"><span class="nb">apply</span> Hstrong.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition X l (s, om) = (s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_full_projection_initial_state_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">s</span> : state,
    vinitial_state_prop X s -&gt; valid_state_prop Y (state_project s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_full_projection_initial_state_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">s</span> : state,
    vinitial_state_prop X s -&gt; vinitial_state_prop Y (state_project s).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk117"><span class="kn">Lemma</span> <span class="nf">strong_full_projection_initial_state_preservation_weaken</span>
  : strong_full_projection_initial_state_preservation -&gt;
    weak_full_projection_initial_state_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation
‚Üí weak_full_projection_initial_state_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk118"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation
‚Üí weak_full_projection_initial_state_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk119"><span class="nb">intros</span> Hstrong s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11a"><span class="nb">apply</span> Hstrong <span class="kr">in</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11b"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_full_projection_initial_message_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">m</span> : message)
    (<span class="nv">Hv</span> : input_valid X l (s, Some m))
    (<span class="nv">HsY</span> : valid_state_prop Y (state_project s))
    (<span class="nv">HmX</span> : vinitial_message_prop X m),
    valid_message_prop Y m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_full_projection_initial_message_preservation</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">m</span> : message,
    vinitial_message_prop X m -&gt; vinitial_message_prop Y m.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11c"><span class="kn">Lemma</span> <span class="nf">strong_full_projection_initial_message_preservation_weaken</span>
  : strong_full_projection_initial_message_preservation -&gt;
    weak_full_projection_initial_message_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation
‚Üí weak_full_projection_initial_message_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation
‚Üí weak_full_projection_initial_message_preservation</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11e"><span class="nb">intros</span> Hstrong l s m Hv HsY Him.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk11f"><span class="nb">apply</span> Hstrong <span class="kr">in</span> Him.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop Y m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk120"><span class="nb">apply</span> initial_message_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hstrong</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop Y m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic_definitions</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_trace_item_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_full_projection X Y label_project state_project)
  := pre_VLSM_full_projection_trace_item_project _ _  label_project state_project
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_finite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_full_projection X Y label_project state_project)
  := pre_VLSM_full_projection_finite_trace_project _ _  label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_infinite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_full_projection X Y label_project state_project)
  := pre_VLSM_full_projection_infinite_trace_project _ _  label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_finite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_full_projection X Y label_project state_project)
  := pre_VLSM_full_projection_finite_trace_project _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_infinite_trace_project</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_full_projection X Y label_project state_project)
  := pre_VLSM_full_projection_infinite_trace_project _ _  label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk121"><span class="kn">Lemma</span> <span class="nf">VLSM_full_projection_projection_type</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y)
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  : VLSM_projection_type X (type Y) (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk122"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk123"><span class="nb">split</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX trX) =
finite_trace_last (state_project sX)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk124">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX trX) =
finite_trace_last (state_project sX)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk125">destruct_list_last trX trX&#39; lstX Heq; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX, trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>lstX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX (trX&#39; ++ [lstX])</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>trX = trX&#39; ++ [lstX]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last sX (trX&#39; ++ [lstX])) =
finite_trace_last (state_project sX)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
     state_project (trX&#39; ++ [lstX]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (pre_VLSM_full_projection_finite_trace_last _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">weak_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_weak_full_projection X Y label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_finite_trace_last</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    state_project (finite_trace_last sX trX) = finite_trace_last (state_project sX) (VLSM_weak_full_projection_finite_trace_project Hsimul trX)
  := pre_VLSM_full_projection_finite_trace_last _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_finite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">tr</span>,
    finite_valid_trace_from X s tr -&gt;
    finite_valid_trace_from Y (state_project s) (VLSM_weak_full_projection_finite_trace_project Hsimul tr)
  :=
  (weak_full_trace_project_preserves_valid_trace _ _ _ _ Hsimul).</span></span></pre><div class="doc">
Any <span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span> determines a <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>, allowing us
to lift to VLSM full projections the generic results proved about VLSM projections.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk126"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_is_projection</span>
  : VLSM_weak_projection X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk127"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk128"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk129" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk129"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y 
      (state_project sX)
      (pre_VLSM_projection_trace_project 
         (type X) (type Y)
         (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
         state_project trX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_projection_type.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (pre_VLSM_projection_trace_project (type X)
         (type Y)
         (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
         state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_weak_full_projection_finite_valid_trace_from.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_valid_state</span>
  : <span class="kr">forall</span> (<span class="nv">s</span> : vstate X) (<span class="nv">Hs</span> : valid_state_prop X s),  valid_state_prop Y (state_project s)
  := VLSM_weak_projection_valid_state VLSM_weak_full_projection_is_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_finite_valid_trace_from_to</span>
  : <span class="kr">forall</span>
    (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
    (<span class="nv">tr</span> : list (vtransition_item X))
    (<span class="nv">Htr</span> : finite_valid_trace_from_to X s f tr),
    finite_valid_trace_from_to Y (state_project s) (state_project f) (VLSM_weak_full_projection_finite_trace_project Hsimul tr)
  := VLSM_weak_projection_finite_valid_trace_from_to VLSM_weak_full_projection_is_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_weak_full_projection_in_futures</span>
  : <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X),
    in_futures X s1 s2 -&gt; in_futures Y (state_project s1) (state_project s2)
  := VLSM_weak_projection_in_futures VLSM_weak_full_projection_is_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12c"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>,
  input_valid_transition X l (s,im) (s&#39;,om) -&gt;
  input_valid_transition Y (label_project l) (state_project s,im) (state_project s&#39;,om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid_transition X l (s, im) (s&#39;, om)
  ‚Üí input_valid_transition Y (label_project l)
      (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid_transition X l (s, im) (s&#39;, om)
  ‚Üí input_valid_transition Y (label_project l)
      (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12e"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y (label_project l)
  (state_project s, im) (state_project s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_weak_projection_input_valid_transition VLSM_weak_full_projection_is_projection)
    <span class="kr">with</span> (lY := label_project l) <span class="kr">in</span> H
  ; [<span class="bp">assumption</span>|<span class="bp">reflexivity</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk12f"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_infinite_valid_trace_from</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    infinite_valid_trace_from X sX trX -&gt;
    infinite_valid_trace_from Y (state_project sX) (VLSM_weak_full_projection_infinite_trace_project Hsimul trX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item),
  infinite_valid_trace_from X sX trX
  ‚Üí infinite_valid_trace_from Y (state_project sX)
      (VLSM_weak_full_projection_infinite_trace_project
         Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk130"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : Streams.Stream transition_item),
  infinite_valid_trace_from X sX trX
  ‚Üí infinite_valid_trace_from Y (state_project sX)
      (VLSM_weak_full_projection_infinite_trace_project
         Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk131"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (VLSM_weak_full_projection_infinite_trace_project
     Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk132"><span class="nb">specialize</span> (pre_VLSM_full_projection_infinite_trace_project_EqSt _ _ label_project state_project trX)
    <span class="kr">as</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">Hinf</span> :
  InfinitelyOften
    (is_Some ‚àò (Some ‚àò label_project ‚àò l)) trX :=
  pre_VLSM_full_projection_infinite_trace_project_infinitely_often
    (type X) (type Y) label_project trX <span class="kr">in</span>
Streams.EqSt
  (pre_VLSM_full_projection_infinite_trace_project
     (type X) (type Y) label_project
     state_project trX)
  (pre_VLSM_projection_infinite_trace_project
     (type X) (type Y) 
     (Some ‚àò label_project) state_project trX
     Hinf)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (VLSM_weak_full_projection_infinite_trace_project
     Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk133"><span class="nb">apply</span> Streams.sym_EqSt <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Streams.EqSt
  (pre_VLSM_projection_infinite_trace_project
     (type X) (type Y) 
     (Some ‚àò label_project) state_project trX
     (pre_VLSM_full_projection_infinite_trace_project_infinitely_often
        (type X) (type Y) label_project trX))
  (pre_VLSM_full_projection_infinite_trace_project
     (type X) (type Y) label_project
     state_project trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (VLSM_weak_full_projection_infinite_trace_project
     Hsimul trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk134"><span class="nb">apply</span> (infinite_valid_trace_from_EqSt Y _ _ _ Heq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Streams.EqSt
  (pre_VLSM_projection_infinite_trace_project
     (type X) (type Y) 
     (Some ‚àò label_project) state_project trX
     (pre_VLSM_full_projection_infinite_trace_project_infinitely_often
        (type X) (type Y) label_project trX))
  (pre_VLSM_full_projection_infinite_trace_project
     (type X) (type Y) label_project
     state_project trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project sX)
  (pre_VLSM_projection_infinite_trace_project (type X)
     (type Y) (Some ‚àò label_project) state_project trX
     (pre_VLSM_full_projection_infinite_trace_project_infinitely_often
        (type X) (type Y) label_project trX))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk135"><span class="nb">apply</span> (VLSM_weak_projection_infinite_valid_trace_from VLSM_weak_full_projection_is_projection sX trX).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X sX trX</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>Streams.EqSt
  (pre_VLSM_projection_infinite_trace_project
     (type X) (type Y) 
     (Some ‚àò label_project) state_project trX
     (pre_VLSM_full_projection_infinite_trace_project_infinitely_often
        (type X) (type Y) label_project trX))
  (pre_VLSM_full_projection_infinite_trace_project
     (type X) (type Y) label_project
     state_project trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X sX trX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk136"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_input_valid</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span>,
  input_valid X l (s,im) -&gt;
  input_valid Y (label_project l) (state_project s,im).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message),
  input_valid X l (s, im)
  ‚Üí input_valid Y (label_project l)
      (state_project s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk137"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message),
  input_valid X l (s, im)
  ‚Üí input_valid Y (label_project l)
      (state_project s, im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk138"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid Y (label_project l) (state_project s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk139"><span class="nb">destruct</span> (vtransition X l (s, im)) <span class="kr">as</span> (s&#39;, om) <span class="nb">eqn</span>:Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, im) = (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid Y (label_project l) (state_project s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk13a"><span class="nb">assert</span> (Hivt : input_valid_transition X l (s, im) (s&#39;, om)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, im) = (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition X l (s, im) (s&#39;, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk13b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, im) = (s&#39;, om)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, im) (s&#39;, om)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk13b"><hr></label><div class="goal-conclusion">input_valid Y (label_project l) (state_project s, im)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk13c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, im) = (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition X l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk13d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, im) = (s&#39;, om)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, im) (s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid Y (label_project l) (state_project s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk13e"><span class="nb">apply</span> VLSM_weak_full_projection_input_valid_transition <span class="kr">in</span> Hivt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid X l (s, im)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition X l (s, im) = (s&#39;, om)</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>input_valid_transition Y 
  (label_project l) (state_project s, im)
  (state_project s&#39;, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid Y (label_project l) (state_project s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hivt.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk13f"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_can_produce</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">om</span> : option message)
  : option_can_produce X s om -&gt; option_can_produce Y (state_project s) om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om
‚Üí option_can_produce Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk140"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om
‚Üí option_can_produce Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk141"><span class="nb">intros</span> [(s0, im) [l Ht]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, im) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk142"><span class="nb">apply</span> VLSM_weak_full_projection_input_valid_transition <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Y 
  (label_project l) (state_project s0, im)
  (state_project s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk143"><span class="nb">eexists</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Y 
  (label_project l) (state_project s0, im)
  (state_project s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">l0</span> : label,
  input_valid_transition Y l0 <span class="nl">?som</span>
    (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk144"><span class="nb">eexists</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Y 
  (label_project l) (state_project s0, im)
  (state_project s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y <span class="nl">?l</span> <span class="nl">?som</span> (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk145"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_can_emit</span>
  (<span class="nv">m</span> : message)
  : can_emit X m -&gt; can_emit Y m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk146"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk147"><span class="kp">repeat</span> <span class="nb">rewrite</span> can_emit_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">s</span> : state, can_produce X s m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">s</span> : state, can_produce Y s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk148"><span class="nb">intros</span> [s Hsm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hsm</var><span class="hyp-type"><b>: </b><span>can_produce X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state, can_produce Y s m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk149"><span class="kr">exists</span> (<span class="nv">state_project</span> <span class="nv">s</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hsm</var><span class="hyp-type"><b>: </b><span>can_produce X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_produce Y (state_project s) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk14a"><span class="nb">revert</span> Hsm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_produce X s m ‚Üí can_produce Y (state_project s) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_weak_full_projection_can_produce.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk14b"><span class="kn">Lemma</span> <span class="nf">VLSM_weak_full_projection_valid_message</span>
  (<span class="nv">Hinitial_valid_message</span> : strong_full_projection_initial_message_preservation X Y)
  (<span class="nv">m</span> : message)
  : valid_message_prop X m -&gt; valid_message_prop Y m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X m ‚Üí valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk14c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X m ‚Üí valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk14d"><span class="nb">intros</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk14e"><span class="nb">apply</span> emitted_messages_are_valid_iff <span class="kr">in</span> Hm <span class="kr">as</span> [Hinit | Hemit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk14f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk14f"><hr></label><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk150">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk151"><span class="nb">apply</span> Hinitial_valid_message <span class="kr">in</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop Y m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk152"><span class="nb">apply</span> initial_message_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop Y m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk153">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk154"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk155"><span class="nb">revert</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_weak_full_projection_can_emit.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">weak_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">full_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">X</span> <span class="nv">Y</span> : VLSM message}
  {<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y}
  {<span class="nv">state_project</span> : vstate X -&gt; vstate Y}
  (<span class="nv">Hsimul</span> : VLSM_full_projection X Y label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_finite_trace_last</span>
  : <span class="kr">forall</span> <span class="nv">sX</span> <span class="nv">trX</span>,
    state_project (finite_trace_last sX trX) = finite_trace_last (state_project sX) (VLSM_full_projection_finite_trace_project Hsimul trX)
  := pre_VLSM_full_projection_finite_trace_last _ _ label_project state_project.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_finite_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">tr</span>,
    finite_valid_trace X s tr -&gt;
    finite_valid_trace Y (state_project s) (VLSM_full_projection_finite_trace_project Hsimul tr)
  := full_trace_project_preserves_valid_trace _ _ _ _ Hsimul.</span></span></pre><div class="doc">
Any <span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span> determines a <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>, allowing us
to lift to VLSM full projections the generic results proved about VLSM projections.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk156"><span class="kn">Lemma</span> <span class="nf">VLSM_full_projection_is_projection</span>
  : VLSM_projection X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk157"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk158"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk159" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk159"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace X sX trX
  ‚Üí finite_valid_trace Y 
      (state_project sX)
      (pre_VLSM_projection_trace_project 
         (type X) (type Y)
         (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
         state_project trX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_projection_type.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace X sX trX
  ‚Üí finite_valid_trace Y (state_project sX)
      (pre_VLSM_projection_trace_project (type X)
         (type Y)
         (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
         state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_finite_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_finite_valid_trace_from</span>
  : <span class="kr">forall</span>
    (<span class="nv">s</span> : vstate X)
    (<span class="nv">tr</span> : list (vtransition_item X))
    (<span class="nv">Htr</span> : finite_valid_trace_from X s tr),
    finite_valid_trace_from Y (state_project s) (VLSM_full_projection_finite_trace_project Hsimul tr)
  := VLSM_projection_finite_valid_trace_from VLSM_full_projection_is_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_finite_valid_trace_init_to</span>
  : <span class="kr">forall</span>
    (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
    (<span class="nv">tr</span> : list (vtransition_item X))
    (<span class="nv">Htr</span> : finite_valid_trace_init_to X s f tr),
    finite_valid_trace_init_to Y (state_project s) (state_project f) (VLSM_full_projection_finite_trace_project Hsimul tr)
  := VLSM_projection_finite_valid_trace_init_to VLSM_full_projection_is_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_initial_state</span>
  : <span class="kr">forall</span> (<span class="nv">is</span> : vstate X),
    vinitial_state_prop X <span class="kr">is</span> -&gt; vinitial_state_prop Y (state_project <span class="kr">is</span>)
  := VLSM_projection_initial_state VLSM_full_projection_is_projection.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15c"><span class="kn">Lemma</span> <span class="nf">VLSM_full_projection_weaken</span>
  : VLSM_weak_full_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15e"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type X) (type Y) label_project state_project
         trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_finite_valid_trace_from.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_valid_state</span>
  : <span class="kr">forall</span> (<span class="nv">s</span> : vstate X) (<span class="nv">Hs</span> : valid_state_prop X s),  valid_state_prop Y (state_project s)
  := VLSM_weak_full_projection_valid_state VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_finite_valid_trace_from_to</span>
  : <span class="kr">forall</span>
    (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
    (<span class="nv">tr</span> : list (vtransition_item X))
    (<span class="nv">Htr</span> : finite_valid_trace_from_to X s f tr),
    finite_valid_trace_from_to Y (state_project s) (state_project f) (VLSM_full_projection_finite_trace_project Hsimul tr)
  := VLSM_weak_full_projection_finite_valid_trace_from_to VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_in_futures</span>
  : <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X),
    in_futures X s1 s2 -&gt; in_futures Y (state_project s1) (state_project s2)
  := VLSM_weak_full_projection_in_futures VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>,
  input_valid_transition X l (s,im) (s&#39;,om) -&gt;
  input_valid_transition Y (label_project l) (state_project s,im) (state_project s&#39;,om)
  := VLSM_weak_full_projection_input_valid_transition VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_input_valid</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span>,
  input_valid X l (s,im) -&gt;
  input_valid Y (label_project l) (state_project s,im)
  := VLSM_weak_full_projection_input_valid VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_can_produce</span>
  : <span class="kr">forall</span>
    (<span class="nv">s</span> : state)
    (<span class="nv">om</span> : option message),
    option_can_produce X s om -&gt; option_can_produce Y (state_project s) om
  := VLSM_weak_full_projection_can_produce VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_can_emit</span>
  : <span class="kr">forall</span> (<span class="nv">m</span> : message), can_emit X m -&gt; can_emit Y m
  := VLSM_weak_full_projection_can_emit VLSM_full_projection_weaken.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_valid_message</span>
  (<span class="nv">Hinitial_valid_message</span> : strong_full_projection_initial_message_preservation X Y)
  : <span class="kr">forall</span> (<span class="nv">m</span> : message),
    valid_message_prop X m -&gt; valid_message_prop Y m
  := VLSM_weak_full_projection_valid_message VLSM_full_projection_weaken Hinitial_valid_message.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_trace_project</span> (<span class="nv">t</span> : vTrace X) : vTrace Y :=
  <span class="kr">match</span> t <span class="kr">with</span>
  | Finite s tr =&gt; Finite (state_project s) (VLSM_full_projection_finite_trace_project Hsimul tr)
  | Infinite s tr =&gt; Infinite (state_project s) (VLSM_full_projection_infinite_trace_project Hsimul tr)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_full_projection_infinite_valid_trace_from</span>
  <span class="nv">s</span> <span class="nv">ls</span>
  : infinite_valid_trace_from X s ls -&gt;
    infinite_valid_trace_from Y (state_project s) (VLSM_full_projection_infinite_trace_project Hsimul ls)
  := VLSM_weak_full_projection_infinite_valid_trace_from VLSM_full_projection_weaken s ls.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk15f"><span class="kn">Lemma</span> <span class="nf">VLSM_full_projection_infinite_valid_trace</span>
  <span class="nv">s</span> <span class="nv">ls</span>
  : infinite_valid_trace X s ls -&gt;
    infinite_valid_trace Y (state_project s) (VLSM_full_projection_infinite_trace_project Hsimul ls).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üí infinite_valid_trace Y (state_project s)
    (VLSM_full_projection_infinite_trace_project
       Hsimul ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk160"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üí infinite_valid_trace Y (state_project s)
    (VLSM_full_projection_infinite_trace_project
       Hsimul ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk161"><span class="nb">intros</span> [Htr His].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace Y (state_project s)
  (VLSM_full_projection_infinite_trace_project Hsimul
     ls)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk162"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project s)
  (VLSM_full_projection_infinite_trace_project Hsimul
     ls)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk163" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk163"><hr></label><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk164">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y (state_project s)
  (VLSM_full_projection_infinite_trace_project Hsimul
     ls)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk165"><span class="nb">revert</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üí infinite_valid_trace_from Y (state_project s)
    (VLSM_full_projection_infinite_trace_project
       Hsimul ls)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_infinite_valid_trace_from.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk166">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk167"><span class="nb">revert</span> His.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop s
‚Üí initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_initial_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk168"><span class="kn">Lemma</span> <span class="nf">VLSM_full_projection_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">t</span>,
    valid_trace_prop X t -&gt;
    valid_trace_prop Y (VLSM_full_projection_trace_project t).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">t</span> : Trace,
  valid_trace_prop X t
  ‚Üí valid_trace_prop Y
      (VLSM_full_projection_trace_project t)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk169"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">t</span> : Trace,
  valid_trace_prop X t
  ‚Üí valid_trace_prop Y
      (VLSM_full_projection_trace_project t)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk16a"><span class="nb">intros</span> [s tr | s tr]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr
‚Üí finite_valid_trace Y (state_project s)
    (VLSM_full_projection_finite_trace_project Hsimul
       tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk16b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk16b"><hr></label><div class="goal-conclusion">infinite_valid_trace X s tr
‚Üí infinite_valid_trace Y 
    (state_project s)
    (VLSM_full_projection_infinite_trace_project
       Hsimul tr)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk16c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr
‚Üí finite_valid_trace Y (state_project s)
    (VLSM_full_projection_finite_trace_project Hsimul
       tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_finite_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk16d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s tr
‚Üí infinite_valid_trace Y (state_project s)
    (VLSM_full_projection_infinite_trace_project
       Hsimul tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_infinite_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span> almost implies inclusion of the <span class="inlinecode"><span class="id" title="var">valid_state_message_prop</span></span> sets.
  Some additional hypotheses are required because <span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span> only
  refers to traces, and <span class="inlinecode"><span class="id" title="var">valid_initial_state_message</span></span> means that
  <span class="inlinecode"><span class="id" title="var">valid_state_message_prop</span></span> includes some pairs that do not appear in any
  transition.
 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk16e"><span class="kn">Lemma</span> <span class="nf">VLSM_full_projection_valid_state_message</span>
  (<span class="nv">Hmessage</span> : strong_full_projection_initial_message_preservation X Y)
  : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span>, valid_state_message_prop X s om -&gt; valid_state_message_prop Y (state_project s) om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  valid_state_message_prop X s om
  ‚Üí valid_state_message_prop Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk16f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  valid_state_message_prop X s om
  ‚Üí valid_state_message_prop Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk170"><span class="nb">intros</span> s om Hsom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop X s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk171"><span class="nb">apply</span> option_can_produce_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop X s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om
‚à® initial_state_prop (state_project s)
  ‚àß option_initial_message_prop om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk172"><span class="nb">apply</span> option_can_produce_valid_iff <span class="kr">in</span> Hsom <span class="kr">as</span> [Hgen | [His Him]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hgen</var><span class="hyp-type"><b>: </b><span>option_can_produce X s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om
‚à® initial_state_prop (state_project s)
  ‚àß option_initial_message_prop om</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk173" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk173"><hr></label><div class="goal-conclusion">option_can_produce Y (state_project s) om
‚à® initial_state_prop (state_project s)
  ‚àß option_initial_message_prop om</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk174">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hgen</var><span class="hyp-type"><b>: </b><span>option_can_produce X s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om
‚à® initial_state_prop (state_project s)
  ‚àß option_initial_message_prop om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk175"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hgen</var><span class="hyp-type"><b>: </b><span>option_can_produce X s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk176"><span class="nb">revert</span> Hgen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om
‚Üí option_can_produce Y (state_project s) om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_can_produce.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk177">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y (state_project s) om
‚à® initial_state_prop (state_project s)
  ‚àß option_initial_message_prop om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk178"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)
‚àß option_initial_message_prop om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk179"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk17a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk17a"><hr></label><div class="goal-conclusion">option_initial_message_prop om</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk17b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk17c"><span class="nb">revert</span> His.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop s
‚Üí initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_full_projection_initial_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk17d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_initial_message_prop om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk17e"><span class="nb">destruct</span> om <span class="kr">as</span> [m|]; [|<span class="bp">exact</span> I].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_initial_message_prop (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk17f"><span class="nb">apply</span> Hmessage.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hsimul</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop X m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">full_projection_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_full_projection</span>.</span></span></pre><div class="doc">
<a id="lab6"></a><h2 class="section">VLSM Inclusion and Equality</h2>
<div class="paragraph"> </div>

We can also define VLSM <i>inclusion</i>  and <i>equality</i> in terms of traces.
When both VLSMs have the same state and label types they also share the
same <span class="inlinecode"><span class="id" title="var">Trace</span></span> type, and sets of traces can be compared without conversion.
<ul class="doclist">
<li> VLSM X is <i>included</i> in VLSM Y if every <span class="inlinecode"><span class="id" title="var">valid_trace</span></span> available to X

</li>
</ul>
is also available to Y.
<ul class="doclist">
<li> VLSM X and VLSM Y are <i>equal</i> if their <span class="inlinecode"><span class="id" title="var">valid_trace</span></span>s are exactly the same.

</li>
</ul>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_equality</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
    {<span class="nv">message</span> : <span class="kt">Type</span>}
    {<span class="nv">vtype</span> : VLSMType message}
    .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_eq_part</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  :=
  <span class="kr">forall</span> <span class="nv">t</span> : Trace,
    valid_trace_prop X t &lt;-&gt; valid_trace_prop Y t .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">VLSM_eq</span> X Y := (VLSM_eq_part (machine X) (machine Y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_incl_part</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  :=
  <span class="kr">forall</span> <span class="nv">t</span> : Trace,
    valid_trace_prop X t -&gt; valid_trace_prop Y t.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Notation</span> <span class="nf">VLSM_incl</span> X Y := (VLSM_incl_part (machine X) (machine Y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk180"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_refl</span>
  {<span class="nv">SigX</span> : VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX)
  (<span class="nv">X</span> := mk_vlsm MX)
  : VLSM_incl X X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk181"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk182"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_trans</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span> <span class="nv">SigZ</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY) (<span class="nv">MZ</span> : VLSMClass SigZ)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY) (<span class="nv">Z</span> := mk_vlsm MZ)
  : VLSM_incl X Y -&gt; VLSM_incl Y Z -&gt; VLSM_incl X Z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY, SigZ</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>MZ</var><span class="hyp-type"><b>: </b><span>VLSMClass SigZ</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Z</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MZ</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üí VLSM_incl Y Z ‚Üí VLSM_incl X Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk183"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY, SigZ</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>MZ</var><span class="hyp-type"><b>: </b><span>VLSMClass SigZ</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Z</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MZ</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üí VLSM_incl Y Z ‚Üí VLSM_incl X Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* begin hide *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk184"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_incl_l</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  : VLSM_eq X Y -&gt; VLSM_incl X Y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk185"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk186"><span class="nb">intro</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk187"><span class="nb">intros</span> t Hxt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Hxt</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine X)) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Y)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk188"><span class="nb">apply</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Hxt</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine X)) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk189"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_incl_r</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  : VLSM_eq X Y -&gt; VLSM_incl Y X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18b"><span class="nb">intro</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18c"><span class="nb">intros</span> t Hyt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Hyt</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine Y)) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18d"><span class="nb">apply</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Hyt</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine Y)) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Y)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18e"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_incl_iff</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  : VLSM_eq X Y &lt;-&gt; VLSM_incl X Y /\ VLSM_incl Y X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üî VLSM_incl X Y ‚àß VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk18f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üî VLSM_incl X Y ‚àß VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk190"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_incl X Y ‚àß VLSM_incl Y X</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk191" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk191"><hr></label><div class="goal-conclusion">VLSM_incl X Y ‚àß VLSM_incl Y X ‚Üí VLSM_eq X Y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk192">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_incl X Y ‚àß VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk193"><span class="nb">intro</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚àß VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk194"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk195" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk195"><hr></label><div class="goal-conclusion">VLSM_incl Y X</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk196">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_eq_incl_l; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk197">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_eq_incl_r; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk198">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚àß VLSM_incl Y X ‚Üí VLSM_eq X Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk199"><span class="nb">intros</span> [Hxy Hyx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hxy</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>Hyx</var><span class="hyp-type"><b>: </b><span>VLSM_incl Y X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk19a"><span class="nb">intro</span> t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hxy</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>Hyx</var><span class="hyp-type"><b>: </b><span>VLSM_incl Y X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t
‚Üî valid_trace_prop (mk_vlsm (machine Y)) t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk19b"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hxy</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>Hyx</var><span class="hyp-type"><b>: </b><span>VLSM_incl Y X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t
‚Üí valid_trace_prop (mk_vlsm (machine Y)) t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk19c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hxy</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>Hyx</var><span class="hyp-type"><b>: </b><span>VLSM_incl Y X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk19c"><hr></label><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Y)) t
‚Üí valid_trace_prop (mk_vlsm (machine X)) t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk19d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hxy</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>Hyx</var><span class="hyp-type"><b>: </b><span>VLSM_incl Y X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) t
‚Üí valid_trace_prop (mk_vlsm (machine Y)) t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hxy.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk19e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hxy</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>Hyx</var><span class="hyp-type"><b>: </b><span>VLSM_incl Y X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Y)) t
‚Üí valid_trace_prop (mk_vlsm (machine X)) t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hyx.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk19f"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_finite_traces_characterization</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  : VLSM_incl X Y &lt;-&gt;
    <span class="kr">forall</span> (<span class="nv">s</span> : vstate X)
    (<span class="nv">tr</span> : list (vtransition_item X)),
    finite_valid_trace X s tr -&gt; finite_valid_trace Y s tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y
‚Üî (<span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : list (vtransition_item X)),
     finite_valid_trace X s tr
     ‚Üí finite_valid_trace Y s tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y
‚Üî (<span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : list (vtransition_item X)),
     finite_valid_trace X s tr
     ‚Üí finite_valid_trace Y s tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a1"><span class="nb">split</span>; <span class="nb">intros</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : list (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk1a2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk1a2"><hr></label><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : list (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a4"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a5"><span class="nb">specialize</span> (Hincl (Finite s tr)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine X))
  (Finite s tr)
‚Üí valid_trace_prop (mk_vlsm (machine Y))
    (Finite s tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a6"><span class="nb">apply</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine X))
  (Finite s tr)
‚Üí valid_trace_prop (mk_vlsm (machine Y))
    (Finite s tr)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine X)) (Finite s tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a8"><span class="nb">intros</span> tr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>valid_trace_prop (mk_vlsm (machine X)) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop (mk_vlsm (machine Y)) tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1a9"><span class="nb">destruct</span> tr <span class="kr">as</span> [<span class="kr">is</span> tr | <span class="kr">is</span> tr]; <span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk1aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk1aa"><hr></label><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ab">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ac"><span class="nb">revert</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm (machine X)) <span class="kr">is</span> tr
‚Üí finite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hincl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ad">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ae"><span class="nb">destruct</span> Htr <span class="kr">as</span> [HtrX HisX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1af"><span class="nb">assert</span> (His_tr: finite_valid_trace X <span class="kr">is</span> []).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X <span class="kr">is</span> []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk1b0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>His_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> []</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk1b0"><hr></label><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b1">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X <span class="kr">is</span> []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b2"><span class="nb">split</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X <span class="kr">is</span> []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b3"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b4"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b5">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>His_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b6"><span class="nb">apply</span> Hincl <span class="kr">in</span> His_tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>His_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Y <span class="kr">is</span> []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b7"><span class="nb">destruct</span> His_tr <span class="kr">as</span> [_ HisY].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX, HisY</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b8"><span class="nb">split</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX, HisY</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from (mk_vlsm (machine Y)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1b9"><span class="nb">apply</span> infinite_valid_trace_from_prefix_rev.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX, HisY</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">n</span> : nat,
  finite_valid_trace_from (mk_vlsm (machine Y)) <span class="kr">is</span>
    (stream_prefix tr n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ba"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> tr</span></span></span><br><span><var>HisX, HisY</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm (machine Y)) <span class="kr">is</span>
  (stream_prefix tr n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1bb"><span class="nb">apply</span> infinite_valid_trace_from_prefix <span class="kr">with</span> (n0 := n) <span class="kr">in</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate X) (<span class="nv">tr</span> : 
                  list 
                    (vtransition_item X)),
  finite_valid_trace X s tr
  ‚Üí finite_valid_trace Y s tr</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (mk_vlsm (machine X)) <span class="kr">is</span> 
  (stream_prefix tr n)</span></span></span><br><span><var>HisX, HisY</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (mk_vlsm (machine Y)) <span class="kr">is</span>
  (stream_prefix tr n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hincl _ _ (conj HtrX HisX)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
A <span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span>usion is equivalent to a <span class="inlinecode"><span class="id" title="var">VLSM_full_projection</span></span> in which both the
label and state projection functions are identities.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1bc"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_full_projection_iff</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  : VLSM_incl X Y &lt;-&gt; VLSM_full_projection X Y id id.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üî VLSM_full_projection X Y id id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1bd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üî VLSM_full_projection X Y id id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1be"><span class="nb">assert</span> (Hid : <span class="kr">forall</span> <span class="nv">tr</span>, tr = pre_VLSM_full_projection_finite_trace_project _ _ id id tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project vtype
    vtype id id tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk1bf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk1bf"><hr></label><div class="goal-conclusion">VLSM_incl X Y ‚Üî VLSM_full_projection X Y id id</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c0">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project vtype
    vtype id id tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c1"><span class="nb">induction</span> tr; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>tr =
pre_VLSM_full_projection_finite_trace_project
  vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a :: tr =
pre_VLSM_full_projection_finite_trace_project vtype
  vtype id id (a :: tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c2"><span class="nb">destruct</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>tr =
pre_VLSM_full_projection_finite_trace_project
  vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|
  l := l;
  input := input;
  destination := destination;
  output := output
|} :: tr =
pre_VLSM_full_projection_finite_trace_project vtype
  vtype id id
  ({|
     l := l;
     input := input;
     destination := destination;
     output := output
   |} :: tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c3"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>tr =
pre_VLSM_full_projection_finite_trace_project
  vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|
  l := l;
  input := input;
  destination := destination;
  output := output
|} :: tr =
pre_VLSM_full_projection_trace_item_project vtype
  vtype id id
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |}
:: pre_VLSM_full_projection_finite_trace_project vtype
     vtype id id tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c4"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>tr =
pre_VLSM_full_projection_finite_trace_project
  vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr =
pre_VLSM_full_projection_finite_trace_project vtype
  vtype id id tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c5">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üî VLSM_full_projection X Y id id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c6"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üí VLSM_full_projection X Y id id</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk1c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk1c7"><hr></label><div class="goal-conclusion">VLSM_full_projection X Y id id ‚Üí VLSM_incl X Y</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y ‚Üí VLSM_full_projection X Y id id</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1c9"><span class="nb">constructor</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y (id sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) id id trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ca"><span class="nb">apply</span> (proj1 (VLSM_incl_finite_traces_characterization (machine X) (machine Y)) H) <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm (machine Y)) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y (id sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) id id trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1cb"><span class="nb">replace</span> (pre_VLSM_full_projection_finite_trace_project _ _ _ _ trX) <span class="kr">with</span> trX; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm (machine Y)) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trX =
pre_VLSM_full_projection_finite_trace_project (type X)
  (type X) id id trX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1cc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y id id ‚Üí VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1cd"><span class="nb">intro</span> Hproject.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y id id</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ce"><span class="nb">apply</span> VLSM_incl_finite_traces_characterization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y id id</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate (mk_vlsm MX)) (<span class="nv">tr</span> : list
                                    (vtransition_item
                                       (mk_vlsm MX))),
  finite_valid_trace (mk_vlsm MX) s tr
  ‚Üí finite_valid_trace (mk_vlsm MY) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1cf"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y id id</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (mk_vlsm MX)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item (mk_vlsm MX))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm MX) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm MY) s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d0"><span class="nb">apply</span> (VLSM_full_projection_finite_valid_trace Hproject) <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y id id</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (mk_vlsm MX)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item (mk_vlsm MX))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Y (id s)
  (VLSM_full_projection_finite_trace_project
     Hproject tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (mk_vlsm MY) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d1"><span class="nb">replace</span> (VLSM_full_projection_finite_trace_project Hproject _) <span class="kr">with</span> tr <span class="kr">in</span> H; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hid</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  tr =
  pre_VLSM_full_projection_finite_trace_project
    vtype vtype id id tr</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection X Y id id</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate (mk_vlsm MX)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item (mk_vlsm MX))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Y (id s)
  (VLSM_full_projection_finite_trace_project
     Hproject tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr =
VLSM_full_projection_finite_trace_project Hproject tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">VLSM_incl_is_full_projection</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  {<span class="nv">MX</span> : VLSMClass SigX} {<span class="nv">MY</span> : VLSMClass SigY}
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  (<span class="nv">Hincl</span> : VLSM_incl X Y)
  : VLSM_full_projection X Y id id
  := proj1 (VLSM_incl_full_projection_iff MX MY) Hincl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d2"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_is_full_projection_finite_trace_project</span>
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  {<span class="nv">MX</span> : VLSMClass SigX} {<span class="nv">MY</span> : VLSMClass SigY}
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  (<span class="nv">Hincl</span> : VLSM_incl X Y)
  : <span class="kr">forall</span> <span class="nv">tr</span>,
    VLSM_full_projection_finite_trace_project (VLSM_incl_is_full_projection Hincl) tr = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  VLSM_full_projection_finite_trace_project
    (VLSM_incl_is_full_projection Hincl) tr = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr</span> : list transition_item,
  VLSM_full_projection_finite_trace_project
    (VLSM_incl_is_full_projection Hincl) tr = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d4"><span class="nb">induction</span> tr; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection_finite_trace_project
  (VLSM_incl_is_full_projection Hincl) tr = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection_finite_trace_project
  (VLSM_incl_is_full_projection Hincl) (a :: tr) =
a :: tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d5"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection_finite_trace_project
  (VLSM_incl_is_full_projection Hincl) tr = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_full_projection_trace_item_project vtype
  vtype id id a
:: VLSM_full_projection_finite_trace_project
     (VLSM_incl_is_full_projection Hincl) tr = a :: tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d6"><span class="nb">f_equal</span>; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X Y</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection_finite_trace_project
  (VLSM_incl_is_full_projection Hincl) tr = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_full_projection_trace_item_project vtype
  vtype id id a = a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> a; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_equality</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">VLSM_eq</span> X Y := (VLSM_eq_part (machine X) (machine Y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">VLSM_incl</span> X Y := (VLSM_incl_part (machine X) (machine Y)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d7"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_refl</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">vtype</span> : VLSMType message}
  {<span class="nv">SigX</span> : VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX)
  (<span class="nv">X</span> := mk_vlsm MX)
  : VLSM_eq X X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1d9"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_sym</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">vtype</span> : VLSMType message}
  {<span class="nv">SigX</span> <span class="nv">SigY</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY)
  : VLSM_eq X Y -&gt; VLSM_eq Y X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_eq Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1da"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_eq Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1db"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_trans</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">vtype</span> : VLSMType message}
  {<span class="nv">SigX</span> <span class="nv">SigY</span> <span class="nv">SigZ</span>: VLSMSign vtype}
  (<span class="nv">MX</span> : VLSMClass SigX) (<span class="nv">MY</span> : VLSMClass SigY) (<span class="nv">MZ</span> : VLSMClass SigZ)
  (<span class="nv">X</span> := mk_vlsm MX) (<span class="nv">Y</span> := mk_vlsm MY) (<span class="nv">Z</span> := mk_vlsm MZ)
  : VLSM_eq X Y -&gt; VLSM_eq Y Z -&gt; VLSM_eq X Z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY, SigZ</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>MZ</var><span class="hyp-type"><b>: </b><span>VLSMClass SigZ</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Z</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MZ</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_eq Y Z ‚Üí VLSM_eq X Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1dc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY, SigZ</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>MZ</var><span class="hyp-type"><b>: </b><span>VLSMClass SigZ</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Z</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MZ</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X Y ‚Üí VLSM_eq Y Z ‚Üí VLSM_eq X Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_incl_preservation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">T</span> : VLSMType message}
  {<span class="nv">SX</span> <span class="nv">SY</span> : VLSMSign T}
  (<span class="nv">MX</span> : VLSMClass SX)
  (<span class="nv">MY</span> : VLSMClass SY)
  (<span class="nv">X</span> := mk_vlsm MX)
  (<span class="nv">Y</span> := mk_vlsm MY)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_incl_valid_preservation</span> : <span class="kt">Prop</span> :=
  weak_full_projection_valid_preservation X Y id id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_incl_valid_preservation</span> : <span class="kt">Prop</span> :=
  strong_full_projection_valid_preservation X Y id id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_incl_transition_preservation</span> : <span class="kt">Prop</span> :=
  weak_full_projection_transition_preservation X Y id id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_incl_transition_preservation</span> : <span class="kt">Prop</span> :=
  strong_full_projection_transition_preservation X Y id id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_incl_initial_state_preservation</span> : <span class="kt">Prop</span> :=
  strong_full_projection_initial_state_preservation X Y id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_incl_initial_message_preservation</span> : <span class="kt">Prop</span> :=
  weak_full_projection_initial_message_preservation X Y id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">strong_incl_initial_message_preservation</span> : <span class="kt">Prop</span> :=
  strong_full_projection_initial_message_preservation X Y.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_incl_preservation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_incl_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>} [vtype : VLSMType message] [SigX SigY : VLSMSign vtype]
  [MX : VLSMClass SigX] [MY : VLSMClass SigY]
  (Hincl : VLSM_incl_part MX MY)
  (X := mk_vlsm MX)
  (Y := mk_vlsm MY)
  .</span></span></pre><div class="doc">
VLSM inclusion specialized to finite trace. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1dd"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_finite_valid_trace</span>
  (<span class="nv">s</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  (<span class="nv">Htr</span> : finite_valid_trace X s tr)
  : finite_valid_trace Y s tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1de"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1df"><span class="nb">apply</span> (VLSM_full_projection_finite_valid_trace (VLSM_incl_is_full_projection Hincl))
    <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm MY) 
  (id s)
  (VLSM_full_projection_finite_trace_project
     (VLSM_incl_is_full_projection Hincl) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e0"><span class="nb">rewrite</span> (VLSM_incl_is_full_projection_finite_trace_project Hincl) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (mk_vlsm MY) (id s) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e1"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_finite_valid_trace_init_to</span>
  (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  (<span class="nv">Htr</span> : finite_valid_trace_init_to X s f tr)
  : finite_valid_trace_init_to Y s f tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X s f tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X s f tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e3"><span class="nb">apply</span> (VLSM_full_projection_finite_valid_trace_init_to (VLSM_incl_is_full_projection Hincl))
    <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to 
  (mk_vlsm MY) (id s) (id f)
  (VLSM_full_projection_finite_trace_project
     (VLSM_incl_is_full_projection Hincl) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e4"><span class="nb">rewrite</span> (VLSM_incl_is_full_projection_finite_trace_project Hincl) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to 
  (mk_vlsm MY) (id s) (id f) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e5"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_valid_state</span>
  (<span class="nv">s</span> : vstate X)
  (<span class="nv">Hs</span> : valid_state_prop X s)
  : valid_state_prop Y s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e7"><span class="nb">revert</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s ‚Üí valid_state_prop Y s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_full_projection_valid_state (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e8"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_initial_state</span>
  (<span class="nv">is</span> : vstate X)
  : vinitial_state_prop X <span class="kr">is</span> -&gt; vinitial_state_prop Y <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span> ‚Üí vinitial_state_prop Y <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1e9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span> ‚Üí vinitial_state_prop Y <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_full_projection_initial_state (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ea"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_finite_valid_trace_from</span>
  (<span class="nv">s</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  (<span class="nv">Htr</span> : finite_valid_trace_from X s tr)
  : finite_valid_trace_from Y s tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1eb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ec"><span class="nb">apply</span> (VLSM_full_projection_finite_valid_trace_from (VLSM_incl_is_full_projection Hincl))
    <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (mk_vlsm MY) (id s)
  (VLSM_full_projection_finite_trace_project
     (VLSM_incl_is_full_projection Hincl) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ed"><span class="nb">rewrite</span> (VLSM_incl_is_full_projection_finite_trace_project Hincl) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from (mk_vlsm MY) (id s) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ee"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_finite_valid_trace_from_to</span>
  (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  (<span class="nv">Htr</span> : finite_valid_trace_from_to X s f tr)
  : finite_valid_trace_from_to Y s f tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s f tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ef"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s f tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f0"><span class="nb">apply</span> (VLSM_full_projection_finite_valid_trace_from_to (VLSM_incl_is_full_projection Hincl))
    <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to 
  (mk_vlsm MY) (id s) (id f)
  (VLSM_full_projection_finite_trace_project
     (VLSM_incl_is_full_projection Hincl) tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f1"><span class="nb">rewrite</span> (VLSM_incl_is_full_projection_finite_trace_project Hincl) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to 
  (mk_vlsm MY) (id s) (id f) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f2"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_in_futures</span>
  (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X)
  : in_futures X s1 s2 -&gt; in_futures Y s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2 ‚Üí in_futures Y s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2 ‚Üí in_futures Y s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_full_projection_in_futures (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f4"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>,
  input_valid_transition X l (s,im) (s&#39;,om) -&gt;
  input_valid_transition Y l (s,im) (s&#39;,om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid_transition X l (s, im) (s&#39;, om)
  ‚Üí input_valid_transition Y l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid_transition X l (s, im) (s&#39;, om)
  ‚Üí input_valid_transition Y l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span>
    (VLSM_full_projection_input_valid_transition (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f6"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_input_valid</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span>,
  input_valid X l (s,im) -&gt;
  input_valid Y l (s,im).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message),
  input_valid X l (s, im) ‚Üí input_valid Y l (s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message),
  input_valid X l (s, im) ‚Üí input_valid Y l (s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span>
    (VLSM_full_projection_input_valid (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span> almost implies inclusion of the <span class="inlinecode"><span class="id" title="var">valid_state_message_prop</span></span> sets.
  Some additional hypotheses are required because <span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span> only
  refers to traces, and <span class="inlinecode"><span class="id" title="var">valid_initial_state_message</span></span> means that
  <span class="inlinecode"><span class="id" title="var">valid_state_message_prop</span></span> includes some pairs that do not appear in any
  transition.
 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f8"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_valid_state_message</span>
  (<span class="nv">Hmessage</span> : strong_incl_initial_message_preservation MX MY)
  : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span>, valid_state_message_prop X s om -&gt; valid_state_message_prop Y s om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  valid_state_message_prop X s om
  ‚Üí valid_state_message_prop Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1f9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  valid_state_message_prop X s om
  ‚Üí valid_state_message_prop Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1fa"><span class="nb">intros</span> s om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop X s om
‚Üí valid_state_message_prop Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1fb"><span class="nb">apply</span> (VLSM_full_projection_valid_state_message (VLSM_incl_is_full_projection Hincl)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation
  (mk_vlsm MX) (mk_vlsm MY)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1fc"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_can_produce</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">om</span> : option message)
  : option_can_produce X s om -&gt; option_can_produce Y s om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om ‚Üí option_can_produce Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1fd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om ‚Üí option_can_produce Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_full_projection_can_produce (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1fe"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_can_emit</span>
  (<span class="nv">m</span> : message)
  : can_emit X m -&gt; can_emit Y m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk1ff"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_full_projection_can_emit (VLSM_incl_is_full_projection Hincl)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk200"><span class="kn">Definition</span> <span class="nf">VLSM_incl_valid_message</span>
  (<span class="nv">Hinitial_valid_message</span> : strong_incl_initial_message_preservation MX MY)
  : <span class="kr">forall</span> (<span class="nv">m</span> : message),
    valid_message_prop X m -&gt; valid_message_prop Y m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  valid_message_prop X m ‚Üí valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk201"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : message,
  valid_message_prop X m ‚Üí valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk202"><span class="nb">intros</span> m [s Hm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop X s (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk203"><span class="kr">exists</span> <span class="nv">s</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop X s (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y s (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk204"><span class="nb">revert</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop X s (Some m)
‚Üí valid_state_message_prop Y s (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk205"><span class="nb">apply</span> VLSM_incl_valid_state_message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_message_preservation MX MY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk206"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_infinite_valid_trace_from</span>
  <span class="nv">s</span> <span class="nv">ls</span>
  : infinite_valid_trace_from X s ls -&gt;
    infinite_valid_trace_from Y s ls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üí infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk207"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üí infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk208"><span class="nb">intros</span> Hls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hls</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk209"><span class="nb">apply</span> (VLSM_full_projection_infinite_valid_trace_from (VLSM_incl_is_full_projection Hincl)) <span class="kr">in</span> Hls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Hls</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from 
  (mk_vlsm MY) (id s)
  (VLSM_full_projection_infinite_trace_project
     (VLSM_incl_is_full_projection Hincl) ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20a"><span class="nb">revert</span> Hls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from (mk_vlsm MY) (id s)
  (VLSM_full_projection_infinite_trace_project
     (VLSM_incl_is_full_projection Hincl) ls)
‚Üí infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20b"><span class="nb">apply</span> infinite_valid_trace_from_EqSt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Streams.EqSt
  (VLSM_full_projection_infinite_trace_project
     (VLSM_incl_is_full_projection Hincl) ls) ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20c"><span class="nb">apply</span> Streams.ntheq_eqst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">n</span> : nat,
  Streams.Str_nth n
    (VLSM_full_projection_infinite_trace_project
       (VLSM_incl_is_full_projection Hincl) ls) =
  Streams.Str_nth n ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20d"><span class="nb">unfold</span> VLSM_full_projection_infinite_trace_project, pre_VLSM_full_projection_infinite_trace_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">n</span> : nat,
  Streams.Str_nth n
    (Streams.map
       (pre_VLSM_full_projection_trace_item_project
          (type (mk_vlsm MX)) (type (mk_vlsm MY)) id
          id) ls) = Streams.Str_nth n ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20e"><span class="nb">intro</span> n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Streams.Str_nth n
  (Streams.map
     (pre_VLSM_full_projection_trace_item_project
        (type (mk_vlsm MX)) (type (mk_vlsm MY)) id id)
     ls) = Streams.Str_nth n ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk20f"><span class="nb">rewrite</span> Streams.Str_nth_map.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_full_projection_trace_item_project
  (type (mk_vlsm MX)) (type (mk_vlsm MY)) id id
  (Streams.Str_nth n ls) = Streams.Str_nth n ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk210"><span class="nb">destruct</span> (Streams.Str_nth _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_full_projection_trace_item_project
  (type (mk_vlsm MX)) (type (mk_vlsm MY)) id id
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} =
{|
  l := l;
  input := input;
  destination := destination;
  output := output
|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk211"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_infinite_valid_trace</span>
  <span class="nv">s</span> <span class="nv">ls</span>
  : infinite_valid_trace X s ls -&gt; infinite_valid_trace Y s ls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üí infinite_valid_trace Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk212"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üí infinite_valid_trace Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk213"><span class="nb">intros</span> [Htr His].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk214"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y s ls</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk215" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk215"><hr></label><div class="goal-conclusion">initial_state_prop s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk216">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk217"><span class="nb">revert</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üí infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_incl_infinite_valid_trace_from.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk218">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk219"><span class="nb">revert</span> His.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>infinite_valid_trace_from X s ls</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop s ‚Üí initial_state_prop s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_incl_initial_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk21a"><span class="kn">Lemma</span> <span class="nf">VLSM_incl_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">t</span>, valid_trace_prop X t -&gt; valid_trace_prop Y t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">t</span> : Trace,
  valid_trace_prop X t ‚Üí valid_trace_prop Y t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk21b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">t</span> : Trace,
  valid_trace_prop X t ‚Üí valid_trace_prop Y t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk21c"><span class="nb">intros</span> [s tr | s tr]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr ‚Üí finite_valid_trace Y s tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk21d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk21d"><hr></label><div class="goal-conclusion">infinite_valid_trace X s tr
‚Üí infinite_valid_trace Y s tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk21e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr ‚Üí finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_incl_finite_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk21f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s tr
‚Üí infinite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_incl_infinite_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_incl_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk220"><span class="kn">Lemma</span> <span class="nf">vlsm_incl_pre_loaded_with_all_messages_vlsm</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  : VLSM_incl X (pre_loaded_with_all_messages_vlsm X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk221"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk222"><span class="nb">apply</span> VLSM_incl_finite_traces_characterization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate
         (mk_vlsm
            (<span class="kr">let</span>
               (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
                <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
               projT2 X <span class="kr">in</span>
             h))) (<span class="nv">tr</span> : list
                          (vtransition_item
                             (mk_vlsm
                                (<span class="kr">let</span>
                                   (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
                                    <span class="nv">return</span>
                                      (<span class="nv">VLSMClass</span>
                                         (projT1 x)) :=
                                   projT2 X <span class="kr">in</span>
                                 h)))),
  finite_valid_trace
    (mk_vlsm
       (<span class="kr">let</span>
          (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
           <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
          projT2 X <span class="kr">in</span>
        h)) s tr
  ‚Üí finite_valid_trace
      (mk_vlsm
         (pre_loaded_with_all_messages_vlsm_machine X))
      s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk223"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 X <span class="kr">in</span>
      h))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (<span class="kr">let</span>
           (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
            <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
           projT2 X <span class="kr">in</span>
         h)))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 X <span class="kr">in</span>
      h)) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X)) s
  tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk224"><span class="nb">split</span>; [|<span class="nb">apply</span> H].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 X <span class="kr">in</span>
      h))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (<span class="kr">let</span>
           (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
            <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
           projT2 X <span class="kr">in</span>
         h)))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 X <span class="kr">in</span>
      h)) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X)) s
  tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk225"><span class="nb">apply</span> preloaded_weaken_valid_trace_from.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 X <span class="kr">in</span>
      h))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (<span class="kr">let</span>
           (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
            <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
           projT2 X <span class="kr">in</span>
         h)))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 X <span class="kr">in</span>
      h)) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk226"><span class="nb">destruct</span> X <span class="kr">as</span> (T, (S, M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 (existT T (existT S M)) <span class="kr">in</span>
      h))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (<span class="kr">let</span>
           (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
            <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
           projT2 (existT T (existT S M)) <span class="kr">in</span>
         h)))</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (<span class="kr">let</span>
        (<span class="nv">x0</span>, h) <span class="nv">as</span> <span class="nv">x</span>
         <span class="nv">return</span> (<span class="nv">VLSMClass</span> (projT1 x)) :=
        projT2 (existT T (existT S M)) <span class="kr">in</span>
      h)) s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (existT T (existT S M)) s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_eq_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>} [vtype : VLSMType message] [SigX SigY : VLSMSign vtype]
  [MX : VLSMClass SigX] [MY : VLSMClass SigY]
  (Hincl : VLSM_eq_part MX MY)
  (X := mk_vlsm MX)
  (Y := mk_vlsm MY)
  .</span></span></pre><div class="doc">
VLSM equality specialized to finite trace. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk227"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_proj1</span> : VLSM_incl X Y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk228"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk229"><span class="nb">apply</span> VLSM_eq_incl_iff <span class="kr">in</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl (mk_vlsm MX) (mk_vlsm MY)
‚àß VLSM_incl (mk_vlsm MY) (mk_vlsm MX)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hincl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22a"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_proj2</span> : VLSM_incl Y X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22c"><span class="nb">apply</span> VLSM_eq_incl_iff <span class="kr">in</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl (mk_vlsm MX) (mk_vlsm MY)
‚àß VLSM_incl (mk_vlsm MY) (mk_vlsm MX)</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl Y X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hincl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22d"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_finite_valid_trace</span>
  (<span class="nv">s</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  : finite_valid_trace X s tr &lt;-&gt; finite_valid_trace Y s tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr ‚Üî finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr ‚Üî finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk22f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr ‚Üí finite_valid_trace Y s tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk230" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk230"><hr></label><div class="goal-conclusion">finite_valid_trace Y s tr ‚Üí finite_valid_trace X s tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk231">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X s tr ‚Üí finite_valid_trace Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk232">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y s tr ‚Üí finite_valid_trace X s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk233"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_finite_valid_trace_init_to</span>
  (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  : finite_valid_trace_init_to X s f tr &lt;-&gt;
    finite_valid_trace_init_to Y s f tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to X s f tr
‚Üî finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk234"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to X s f tr
‚Üî finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk235"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to X s f tr
‚Üí finite_valid_trace_init_to Y s f tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk236" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk236"><hr></label><div class="goal-conclusion">finite_valid_trace_init_to Y s f tr
‚Üí finite_valid_trace_init_to X s f tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk237">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to X s f tr
‚Üí finite_valid_trace_init_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_init_to VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk238">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Y s f tr
‚Üí finite_valid_trace_init_to X s f tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_init_to VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk239"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_valid_state</span>
  (<span class="nv">s</span> : vstate X)
  : valid_state_prop X s &lt;-&gt; valid_state_prop Y s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s ‚Üî valid_state_prop Y s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk23a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s ‚Üî valid_state_prop Y s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk23b"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s ‚Üí valid_state_prop Y s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk23c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk23c"><hr></label><div class="goal-conclusion">valid_state_prop Y s ‚Üí valid_state_prop X s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk23d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop X s ‚Üí valid_state_prop Y s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_valid_state VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk23e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y s ‚Üí valid_state_prop X s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_valid_state VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk23f"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_initial_state</span>
  (<span class="nv">is</span> : vstate X)
  : vinitial_state_prop X <span class="kr">is</span> &lt;-&gt; vinitial_state_prop Y <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span> ‚Üî vinitial_state_prop Y <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk240"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span> ‚Üî vinitial_state_prop Y <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk241"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span> ‚Üí vinitial_state_prop Y <span class="kr">is</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk242" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk242"><hr></label><div class="goal-conclusion">vinitial_state_prop Y <span class="kr">is</span> ‚Üí vinitial_state_prop X <span class="kr">is</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk243">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span> ‚Üí vinitial_state_prop Y <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_initial_state VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk244">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop Y <span class="kr">is</span> ‚Üí vinitial_state_prop X <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_initial_state VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk245"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_finite_valid_trace_from</span>
  (<span class="nv">s</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  : finite_valid_trace_from X s tr &lt;-&gt;
    finite_valid_trace_from Y s tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s tr
‚Üî finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk246"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s tr
‚Üî finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk247"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s tr
‚Üí finite_valid_trace_from Y s tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk248" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk248"><hr></label><div class="goal-conclusion">finite_valid_trace_from Y s tr
‚Üí finite_valid_trace_from X s tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk249">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X s tr
‚Üí finite_valid_trace_from Y s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk24a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y s tr
‚Üí finite_valid_trace_from X s tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk24b"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_finite_valid_trace_from_to</span>
  (<span class="nv">s</span> <span class="nv">f</span> : vstate X)
  (<span class="nv">tr</span> : list (vtransition_item X))
  : finite_valid_trace_from_to X s f tr &lt;-&gt; finite_valid_trace_from_to Y s f tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s f tr
‚Üî finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk24c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s f tr
‚Üî finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk24d"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s f tr
‚Üí finite_valid_trace_from_to Y s f tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk24e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk24e"><hr></label><div class="goal-conclusion">finite_valid_trace_from_to Y s f tr
‚Üí finite_valid_trace_from_to X s f tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk24f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s f tr
‚Üí finite_valid_trace_from_to Y s f tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from_to VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk250">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (vtransition_item X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y s f tr
‚Üí finite_valid_trace_from_to X s f tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from_to VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk251"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_in_futures</span>
  (<span class="nv">s1</span> <span class="nv">s2</span> : vstate X)
  : in_futures X s1 s2 &lt;-&gt; in_futures Y s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2 ‚Üî in_futures Y s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk252"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2 ‚Üî in_futures Y s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk253"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2 ‚Üí in_futures Y s1 s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk254" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk254"><hr></label><div class="goal-conclusion">in_futures Y s1 s2 ‚Üí in_futures X s1 s2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk255">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures X s1 s2 ‚Üí in_futures Y s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_in_futures VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk256">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures Y s1 s2 ‚Üí in_futures X s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_in_futures VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk257" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk257"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_input_valid_transition</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span> <span class="nv">s&#39;</span> <span class="nv">om</span>,
  input_valid_transition X l (s,im) (s&#39;,om) &lt;-&gt;
  input_valid_transition Y l (s,im) (s&#39;,om).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid_transition X l (s, im) (s&#39;, om)
  ‚Üî input_valid_transition Y l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk258"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message) (<span class="nv">s&#39;</span> : state) 
  (<span class="nv">om</span> : option message),
  input_valid_transition X l (s, im) (s&#39;, om)
  ‚Üî input_valid_transition Y l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk259"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition X l (s, im) (s&#39;, om)
‚Üí input_valid_transition Y l (s, im) (s&#39;, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk25a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk25a"><hr></label><div class="goal-conclusion">input_valid_transition Y l (s, im) (s&#39;, om)
‚Üí input_valid_transition X l (s, im) (s&#39;, om)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk25b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition X l (s, im) (s&#39;, om)
‚Üí input_valid_transition Y l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_input_valid_transition VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk25c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y l (s, im) (s&#39;, om)
‚Üí input_valid_transition X l (s, im) (s&#39;, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_input_valid_transition VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk25d"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_input_valid</span>
  : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">im</span>,
  input_valid X l (s,im) &lt;-&gt; input_valid Y l (s,im).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message),
  input_valid X l (s, im) ‚Üî input_valid Y l (s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk25e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label) (<span class="nv">s</span> : state) (<span class="nv">im</span> : option message),
  input_valid X l (s, im) ‚Üî input_valid Y l (s, im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk25f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid X l (s, im) ‚Üí input_valid Y l (s, im)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk260" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk260"><hr></label><div class="goal-conclusion">input_valid Y l (s, im) ‚Üí input_valid X l (s, im)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk261">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid X l (s, im) ‚Üí input_valid Y l (s, im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_input_valid VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk262">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid Y l (s, im) ‚Üí input_valid X l (s, im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_input_valid VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk263"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_can_produce</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">om</span> : option message)
  : option_can_produce X s om &lt;-&gt; option_can_produce Y s om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om ‚Üî option_can_produce Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk264"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om ‚Üî option_can_produce Y s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk265"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om ‚Üí option_can_produce Y s om</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk266" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk266"><hr></label><div class="goal-conclusion">option_can_produce Y s om ‚Üí option_can_produce X s om</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk267">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce X s om ‚Üí option_can_produce Y s om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_can_produce VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk268">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce Y s om ‚Üí option_can_produce X s om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_can_produce VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk269"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_can_emit</span>
  (<span class="nv">m</span> : message)
  : can_emit X m &lt;-&gt; can_emit Y m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üî can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk26a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üî can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk26b"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk26c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk26c"><hr></label><div class="goal-conclusion">can_emit Y m ‚Üí can_emit X m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk26d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X m ‚Üí can_emit Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_can_emit VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk26e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit Y m ‚Üí can_emit X m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_can_emit VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk26f"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_infinite_valid_trace_from</span>
  <span class="nv">s</span> <span class="nv">ls</span>
  : infinite_valid_trace_from X s ls &lt;-&gt;
    infinite_valid_trace_from Y s ls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üî infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk270"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üî infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk271"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üí infinite_valid_trace_from Y s ls</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk272" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk272"><hr></label><div class="goal-conclusion">infinite_valid_trace_from Y s ls
‚Üí infinite_valid_trace_from X s ls</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk273">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from X s ls
‚Üí infinite_valid_trace_from Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_infinite_valid_trace_from VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk274">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace_from Y s ls
‚Üí infinite_valid_trace_from X s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_infinite_valid_trace_from VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk275"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_infinite_valid_trace</span>
  <span class="nv">s</span> <span class="nv">ls</span>
  : infinite_valid_trace X s ls &lt;-&gt; infinite_valid_trace Y s ls.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üî infinite_valid_trace Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk276"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üî infinite_valid_trace Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk277"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üí infinite_valid_trace Y s ls</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk278" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk278"><hr></label><div class="goal-conclusion">infinite_valid_trace Y s ls
‚Üí infinite_valid_trace X s ls</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk279">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace X s ls
‚Üí infinite_valid_trace Y s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_infinite_valid_trace VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk27a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>Streams.Stream transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">infinite_valid_trace Y s ls
‚Üí infinite_valid_trace X s ls</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_infinite_valid_trace VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk27b"><span class="kn">Lemma</span> <span class="nf">VLSM_eq_valid_trace</span>
  : <span class="kr">forall</span> <span class="nv">t</span>, valid_trace_prop X t &lt;-&gt; valid_trace_prop Y t.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">t</span> : Trace,
  valid_trace_prop X t ‚Üî valid_trace_prop Y t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk27c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">t</span> : Trace,
  valid_trace_prop X t ‚Üî valid_trace_prop Y t</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk27d"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop X t ‚Üí valid_trace_prop Y t</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk27e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk27e"><hr></label><div class="goal-conclusion">valid_trace_prop Y t ‚Üí valid_trace_prop X t</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk27f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop X t ‚Üí valid_trace_prop Y t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_valid_trace VLSM_eq_proj1).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk280">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>vtype</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX, SigY</var><span class="hyp-type"><b>: </b><span>VLSMSign vtype</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SigY</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_eq_part MX MY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop Y t ‚Üí valid_trace_prop X t</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_incl_valid_trace VLSM_eq_proj2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_eq_properties</span>.</span></span></pre><div class="doc">
For VLSM <code>X</code> to project to a VLSM <code>Y</code>, the following set of conditions is sufficient:
<ul class="doclist">
<li> <code>X</code>'s <span class="inlinecode"><span class="id" title="var">initial_state</span></span>s project to <code>Y</code>'s <span class="inlinecode"><span class="id" title="var">initial</span></span> <span class="inlinecode"><span class="id" title="var">state</span></span>s

</li>
<li> Every message <code>m</code> (including the empty one) which can be input to a
  projectable <span class="inlinecode"><span class="id" title="var">input_valid</span></span> transition in <code>X</code>, is a <span class="inlinecode"><span class="id" title="var">valid_message</span></span>
  in <code>Y</code>
</li>
<li> <code>X</code>'s <span class="inlinecode"><span class="id" title="var">input_valid</span></span> is included in <code>Y</code>'s <span class="inlinecode"><span class="id" title="var">valid</span></span>.

</li>
<li> For all projectable <span class="inlinecode"><span class="id" title="var">input_valid</span></span> inputs (in <code>X</code>), <code>Y</code>'s <span class="inlinecode"><span class="id" title="var">transition</span></span>
  acts like <code>X</code>'s <span class="inlinecode"><span class="id" title="var">transition</span></span>.

</li>
<li> All non-projectable transitions preserve the projected state

</li>
</ul>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic_VLSM_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic_VLSM_projection_type</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  (<span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : vstate X -&gt; @state _ TY)
  (<span class="nv">Htransition_None</span> : weak_projection_transition_consistency_None X TY label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk281"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_projection_type</span>
  : VLSM_projection_type X TY label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X TY label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk282"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X TY label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk283"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí state_project (finite_trace_last sX trX) =
    finite_trace_last (state_project sX)
      (pre_VLSM_projection_trace_project (type X) TY
         label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk284"><span class="nb">intros</span> <span class="kr">is</span> tr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last <span class="kr">is</span> tr) =
finite_trace_last (state_project <span class="kr">is</span>)
  (pre_VLSM_projection_trace_project (type X) TY
     label_project state_project tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk285"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_from_rev_ind
  ; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) TY label_project state_project
     tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s (tr ++ [x])) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project (type X) TY
     label_project state_project (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk286"><span class="nb">rewrite</span> (pre_VLSM_projection_trace_project_app _ _ label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) TY label_project state_project
     tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s (tr ++ [x])) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project (type X) TY
     label_project state_project tr ++
   pre_VLSM_projection_trace_project (type X) TY
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk287"><span class="nb">rewrite</span> finite_trace_last_is_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) TY label_project state_project
     tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project (type X) TY
     label_project state_project tr ++
   pre_VLSM_projection_trace_project (type X) TY
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk288"><span class="nb">rewrite</span> finite_trace_last_app, &lt;- IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) TY label_project state_project
     tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last
  (state_project (finite_trace_last s tr))
  (pre_VLSM_projection_trace_project (type X) TY
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk289"><span class="nb">clear</span> IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last
  (state_project (finite_trace_last s tr))
  (pre_VLSM_projection_trace_project (type X) TY
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr))
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (type X) TY label_project state_project x
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28b"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project (VLSM.l x) <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := input x;
            destination :=
              state_project (destination x);
            output := output x
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28c"><span class="nb">destruct</span> (label_project _) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:Hl; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28d"><span class="nb">apply</span> (Htransition_None _ Hl) <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>state_project sf =
state_project (finite_trace_last s tr)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28e"><span class="nb">rewrite</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>state_project sf =
state_project (finite_trace_last s tr)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s tr) =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic_VLSM_projection_type</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Hvalid</span> : weak_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition_Some</span> : weak_projection_transition_preservation_Some X Y label_project state_project)
  (<span class="nv">Htransition_None</span> : weak_projection_transition_consistency_None _ _ label_project state_project)
  (<span class="nv">Htype</span> : VLSM_projection_type X (type Y) label_project state_project :=
    basic_VLSM_projection_type X (type Y) label_project state_project Htransition_None)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">weak_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Hstate</span> : weak_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : weak_projection_valid_message_preservation X Y label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk28f"><span class="kn">Local Lemma</span> <span class="nf">basic_VLSM_projection_finite_valid_trace_init_to</span>
  <span class="nv">is</span> <span class="nv">s</span> <span class="nv">tr</span>
  (<span class="nv">Htr</span> : finite_valid_trace_init_to X <span class="kr">is</span> s tr)
  : finite_valid_trace_from_to Y (state_project <span class="kr">is</span>) (state_project s) (pre_VLSM_projection_trace_project _ _ label_project state_project tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk290"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk291"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_init_to_rev_strong_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project <span class="kr">is</span>)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk292" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk292"><hr></label><div class="goal-conclusion">finite_valid_trace_from_to Y 
  (state_project <span class="kr">is</span>) (state_project sf)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project state_project
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk293">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project <span class="kr">is</span>)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk294"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project <span class="kr">is</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk295"><span class="nb">apply</span> Hstate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk296">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project sf)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk297"><span class="nb">unfold</span> pre_VLSM_projection_trace_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project sf)
  (map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project state_project)
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk298"><span class="nb">rewrite</span> map_option_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project <span class="kr">is</span>)
  (state_project sf)
  (map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project state_project)
     tr ++
   map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project state_project)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk299"><span class="nb">apply</span> finite_valid_trace_from_to_app <span class="kr">with</span> (state_project s)
    ; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  (map_option
     (pre_VLSM_projection_transition_item_project
        (type X) (type Y) label_project state_project)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk29a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (type X) (type Y) label_project state_project
      {|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk29b"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  <span class="kr">match</span>
    <span class="kr">match</span>
      label_project
        (VLSM.l
           {|
             l := l;
             input := iom;
             destination := sf;
             output := oom
           |})
    <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input :=
              input
                {|
                  l := l;
                  input := iom;
                  destination := sf;
                  output := oom
                |};
            destination :=
              state_project
                (destination
                   {|
                     l := l;
                     input := iom;
                     destination := sf;
                     output := oom
                   |});
            output :=
              output
                {|
                  l := l;
                  input := iom;
                  destination := sf;
                  output := oom
                |}
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk29c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project <span class="kr">is</span>) (state_project s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project tr)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk29d"><span class="nb">apply</span> valid_trace_last_pstate <span class="kr">in</span> IHHtr1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk29e"><span class="nb">destruct</span> (label_project l) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  [{|
     l := lY;
     input := iom;
     destination := state_project sf;
     output := oom
   |}]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk29f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk29f"><hr></label><div class="goal-conclusion">finite_valid_trace_from_to Y 
  (state_project s) (state_project sf) []</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf)
  [{|
     l := lY;
     input := iom;
     destination := state_project sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a1"><span class="nb">apply</span> finite_valid_trace_from_to_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y lY (state_project s, iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a2"><span class="nb">assert</span> (Hiom : option_valid_message_prop Y iom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y iom</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2a3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y iom</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2a3"><hr></label><div class="goal-conclusion">input_valid_transition Y lY 
  (state_project s, iom) 
  (state_project sf, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a4">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a5"><span class="nb">destruct</span> iom <span class="kr">as</span> [im|]; [|<span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, Some im) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a6"><span class="nb">apply</span> (Hmessage _ _ Hl _ _ (proj1 Ht)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, Some im) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a7">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y lY (state_project s, iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a8"><span class="nb">specialize</span> (Hvalid _ _ Hl _ _ (proj1 Ht) IHHtr1 Hiom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid Y lY (state_project s, iom)</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y lY (state_project s, iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2a9"><span class="nb">apply</span> (Htransition_Some _ _ Hl) <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>vvalid Y lY (state_project s, iom)</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y lY (state_project s, iom) =
(state_project sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Y lY (state_project s, iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2aa">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf) []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ab"><span class="nb">apply</span> (Htransition_None _ Hl) <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>state_project sf = state_project s</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project sf) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ac"><span class="nb">rewrite</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>state_project sf = state_project s</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Y (state_project s)
  (state_project s) []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ad"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>state_project sf = state_project s</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project iom_si)
  (state_project iom_s)
  (pre_VLSM_projection_trace_project 
     (type X) (type Y) label_project
     state_project iom_tr)</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ae"><span class="kn">Local Lemma</span> <span class="nf">basic_VLSM_projection_finite_valid_trace_from</span>
  (<span class="nv">s</span> : state)
  (<span class="nv">ls</span> : list transition_item)
  (<span class="nv">Hpxt</span> : finite_valid_trace_from X s ls)
  : finite_valid_trace_from Y (state_project s) (pre_VLSM_projection_trace_project _ _ label_project state_project ls).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s ls</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2af"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X s ls</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b0"><span class="nb">apply</span> valid_trace_add_default_last <span class="kr">in</span> Hpxt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b1"><span class="nb">apply</span> valid_trace_first_pstate <span class="kr">in</span> Hpxt <span class="kr">as</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b2"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> [is_s [tr_s Hs]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X is_s s tr_s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b3"><span class="nb">specialize</span> (finite_valid_trace_from_to_app X _ _ _ _ _ (proj1 Hs) Hpxt) <span class="kr">as</span> Happ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X is_s s tr_s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b4"><span class="nb">specialize</span> (basic_VLSM_projection_finite_valid_trace_init_to _ _ _ (conj Happ (proj2 Hs)))
    <span class="kr">as</span> Happ_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X is_s s tr_s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project is_s)
  (state_project (finite_trace_last s ls))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project (tr_s ++ ls))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b5"><span class="nb">rewrite</span> (pre_VLSM_projection_trace_project_app _ _ label_project state_project) <span class="kr">in</span> Happ_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X is_s s tr_s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project is_s)
  (state_project (finite_trace_last s ls))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project tr_s ++
   pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b6"><span class="nb">apply</span> finite_valid_trace_from_to_app_split, proj2 <span class="kr">in</span> Happ_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X is_s s tr_s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (finite_trace_last (state_project is_s)
     (pre_VLSM_projection_trace_project
        (type X) (type Y) label_project
        state_project tr_s))
  (state_project (finite_trace_last s ls))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b7"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Hs <span class="kr">as</span> Heqs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X is_s s tr_s</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>finite_trace_last is_s tr_s = s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (finite_trace_last (state_project is_s)
     (pre_VLSM_projection_trace_project
        (type X) (type Y) label_project
        state_project tr_s))
  (state_project (finite_trace_last s ls))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b8"><span class="nb">apply</span> valid_trace_forget_last, proj1 <span class="kr">in</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X is_s tr_s</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>finite_trace_last is_s tr_s = s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (finite_trace_last (state_project is_s)
     (pre_VLSM_projection_trace_project
        (type X) (type Y) label_project
        state_project tr_s))
  (state_project (finite_trace_last s ls))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2b9"><span class="nb">rewrite</span> &lt;- (final_state_project X (type Y) label_project state_project Htype)
    <span class="kr">in</span> Happ_pr <span class="bp">by</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X is_s tr_s</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>finite_trace_last is_s tr_s = s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Y
  (state_project
     (finite_trace_last is_s tr_s))
  (state_project (finite_trace_last s ls))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ba"><span class="nb">apply</span> valid_trace_forget_last <span class="kr">in</span> Happ_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s
  (finite_trace_last s ls) ls</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X is_s tr_s</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>finite_trace_last is_s tr_s = s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last s ls) 
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y
  (state_project
     (finite_trace_last is_s tr_s))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project s)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2bb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2bb"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr_s</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpxt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X
  (finite_trace_last is_s tr_s)
  (finite_trace_last
     (finite_trace_last is_s tr_s) ls) ls</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X is_s tr_s</span></span></span><br><span><var>Happ</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X is_s
  (finite_trace_last
     (finite_trace_last is_s tr_s) ls)
  (tr_s ++ ls)</span></span></span><br><span><var>Happ_pr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y
  (state_project
     (finite_trace_last is_s tr_s))
  (pre_VLSM_projection_trace_project
     (type X) (type Y) label_project
     state_project ls)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y
  (state_project (finite_trace_last is_s tr_s))
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project ls)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* end hide *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2bc"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_weak_projection</span>
  : VLSM_weak_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2bd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2be"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y) label_project
  state_project</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2bf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2bf"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y 
      (state_project sX)
      (pre_VLSM_projection_trace_project 
         (type X) (type Y) label_project state_project
         trX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type X (type Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (pre_VLSM_projection_trace_project (type X)
         (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_projection_finite_valid_trace_from.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">weak_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c2"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_weak_projection_strengthen</span>
  (<span class="nv">Hweak</span> : VLSM_weak_projection X Y label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  : VLSM_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c4"><span class="nb">constructor</span>; [<span class="nb">apply</span> Hweak|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace X sX trX
  ‚Üí finite_valid_trace Y (state_project sX)
      (pre_VLSM_projection_trace_project (type X)
         (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c5"><span class="nb">intros</span> sX trX [HtrX HsX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y (state_project sX)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c6"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project trX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2c7"><hr></label><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (pre_VLSM_projection_trace_project (type X) (type Y)
     label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2c9"><span class="nb">revert</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX
‚Üí finite_valid_trace_from Y (state_project sX)
    (pre_VLSM_projection_trace_project (type X)
       (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_weak_projection_finite_valid_trace_from Hweak).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2cb"><span class="nb">revert</span> HsX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sX
‚Üí initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2cc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2cc"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_projection</span>
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : weak_projection_valid_message_preservation X Y label_project state_project)
  : VLSM_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2cd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ce"><span class="nb">apply</span> basic_VLSM_weak_projection_strengthen; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2cf"><span class="nb">apply</span> basic_VLSM_weak_projection; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_state_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d0"><span class="nb">apply</span> strong_full_projection_initial_state_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X 
  (type Y) label_project state_project
  Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X 
  (type Y) label_project state_project</span></span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  X Y label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic_VLSM_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d1"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_strong_projection</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Hvalid</span> : strong_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition_Some</span> : strong_projection_transition_preservation_Some X Y label_project state_project)
  (<span class="nv">Htransition_None</span> : strong_projection_transition_consistency_None _ _ label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : strong_projection_valid_message_preservation X Y)
  : VLSM_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d3"><span class="nb">apply</span> basic_VLSM_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_valid_preservation X Y label_project
  state_project</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2d4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2d4"><hr></label><div class="goal-conclusion">weak_projection_transition_preservation_Some X Y
  label_project state_project</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2d5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2d5"><hr></label><div class="goal-conclusion">weak_projection_transition_consistency_None X 
  (type Y) label_project state_project</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2d6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2d6"><hr></label><div class="goal-conclusion">strong_full_projection_initial_state_preservation X Y
  state_project</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2d7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2d7"><hr></label><div class="goal-conclusion">weak_projection_valid_message_preservation X Y
  label_project state_project</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_valid_preservation X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2d9"><span class="nb">apply</span> strong_projection_valid_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_preservation X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2da">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_preservation_Some X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2db"><span class="nb">apply</span> strong_projection_transition_preservation_Some_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_preservation_Some X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2dc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_transition_consistency_None X (type Y)
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2dd"><span class="nb">apply</span> strong_projection_transition_consistency_None_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_transition_consistency_None X
  (type Y) label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2de">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2df">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_valid_message_preservation X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e0"><span class="nb">apply</span> strong_projection_valid_message_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_projection_valid_message_preservation X Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e1"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_projection_type_preloaded</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Htransition_None</span> : strong_projection_transition_consistency_None _ _ label_project state_project)
  : VLSM_projection_type (pre_loaded_with_all_messages_vlsm X) (type Y) label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X) (type Y)
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X) (type Y)
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e3"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from
    (pre_loaded_with_all_messages_vlsm X) sX trX
  ‚Üí state_project (finite_trace_last sX trX) =
    finite_trace_last (state_project sX)
      (pre_VLSM_projection_trace_project
         (type (pre_loaded_with_all_messages_vlsm X))
         (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e4"><span class="nb">intros</span> <span class="kr">is</span> tr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last <span class="kr">is</span> tr) =
finite_trace_last (state_project <span class="kr">is</span>)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e5"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_from_rev_ind
  ; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s (tr ++ [x])) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e6"><span class="nb">rewrite</span> (@pre_VLSM_projection_trace_project_app _ (type (pre_loaded_with_all_messages_vlsm X)) (type Y) label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s (tr ++ [x])) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr ++
   pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e7"><span class="nb">rewrite</span> finite_trace_last_is_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr ++
   pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e8"><span class="nb">rewrite</span> finite_trace_last_app, &lt;- IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last
  (state_project (finite_trace_last s tr))
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2e9"><span class="nb">clear</span> IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last
  (state_project (finite_trace_last s tr))
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ea" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ea"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr))
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (type X) (type Y) label_project state_project x
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2eb"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project (VLSM.l x) <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := input x;
            destination :=
              state_project (destination x);
            output := output x
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ec" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ec"><span class="nb">destruct</span> (label_project _) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:Hl; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ed" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ed"><span class="nb">apply</span> proj2, (Htransition_None _ Hl) <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>state_project sf =
state_project (finite_trace_last s tr)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ee" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ee"><span class="nb">rewrite</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>state_project sf =
state_project (finite_trace_last s tr)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s tr) =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ef" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ef"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_projection_preloaded</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Hvalid</span> : strong_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition_Some</span> : strong_projection_transition_preservation_Some X Y label_project state_project)
  (<span class="nv">Htransition_None</span> : strong_projection_transition_consistency_None _ _ label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  : VLSM_projection (pre_loaded_with_all_messages_vlsm X) (pre_loaded_with_all_messages_vlsm Y) label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f1"><span class="nb">specialize</span> (basic_VLSM_projection_type_preloaded X Y label_project state_project Htransition_None) <span class="kr">as</span> Htype.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f2"><span class="nb">constructor</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace
    (pre_loaded_with_all_messages_vlsm X) sX trX
  ‚Üí finite_valid_trace
      (pre_loaded_with_all_messages_vlsm Y)
      (state_project sX)
      (pre_VLSM_projection_trace_project
         (type (pre_loaded_with_all_messages_vlsm X))
         (type (pre_loaded_with_all_messages_vlsm Y))
         label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f3"><span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project sX)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f4"><span class="nb">split</span>; [|<span class="nb">apply</span> Hstate; <span class="nb">apply</span> HtrX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project sX)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f5"><span class="nb">induction</span> HtrX <span class="nb">using</span> finite_valid_trace_rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk2f6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk2f6"><hr></label><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project 
     (tr ++ [x]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f8"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2f9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2f9"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project si)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2fa">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2fb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2fb"><span class="nb">rewrite</span> (@pre_VLSM_projection_trace_project_app _ (type (pre_loaded_with_all_messages_vlsm X)) (type Y) label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr ++
   pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2fc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2fc"><span class="nb">apply</span> (finite_valid_trace_from_app_iff (pre_loaded_with_all_messages_vlsm Y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project tr)
‚àß finite_valid_trace_from
    (pre_loaded_with_all_messages_vlsm Y)
    (finite_trace_last (state_project si)
       (pre_VLSM_projection_trace_project
          (type (pre_loaded_with_all_messages_vlsm X))
          (type Y) label_project state_project tr))
    (pre_VLSM_projection_trace_project
       (type (pre_loaded_with_all_messages_vlsm X))
       (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2fd"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type (pre_loaded_with_all_messages_vlsm X))
        (type Y) label_project state_project tr))
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type Y) label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2fe" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2fe"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (type X) (type Y) label_project state_project x
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk2ff" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk2ff"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project (VLSM.l x) <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := input x;
            destination :=
              state_project (destination x);
            output := output x
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk300"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk301" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk301"><span class="nb">apply</span> finite_valid_trace_last_pstate <span class="kr">in</span> IHHtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type
           (pre_loaded_with_all_messages_vlsm
              X))
        (type
           (pre_loaded_with_all_messages_vlsm
              Y)) label_project state_project
        tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk302" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk302"><span class="nb">destruct</span> Hx <span class="kr">as</span> [[_ [_ Hv]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type
           (pre_loaded_with_all_messages_vlsm
              X))
        (type
           (pre_loaded_with_all_messages_vlsm
              Y)) label_project state_project
        tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (type X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk303" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk303"><span class="nb">rewrite</span> &lt;- (final_state_project _ _ _ _ Htype) <span class="kr">in</span> IHHtrX |- * <span class="bp">by</span> <span class="nb">apply</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk304"><span class="nb">destruct</span> (label_project l) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))
  [{|
     l := lY;
     input := iom;
     destination := state_project sf;
     output := oom
   |}]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk305" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk305"><hr></label><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr)) []</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk306">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))
  [{|
     l := lY;
     input := iom;
     destination := state_project sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk307" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk307"><span class="nb">apply</span> (finite_valid_trace_singleton (pre_loaded_with_all_messages_vlsm Y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk308" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk308"><span class="nb">assert</span> (Hiom : option_valid_message_prop (pre_loaded_with_all_messages_vlsm Y) iom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) iom</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk309" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) iom</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk309"><hr></label><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30b"><span class="nb">destruct</span> iom <span class="kr">as</span> [im|]; [|<span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, Some im) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (any_message_is_valid_in_preloaded Y).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30d"><span class="nb">apply</span> (Hvalid _ _ Hl) <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y lY
  (state_project (finite_trace_last si tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30e"><span class="nb">apply</span> (Htransition_Some _ _ Hl) <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y lY
  (state_project (finite_trace_last si tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y lY
  (state_project (finite_trace_last si tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk30f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk30f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk310" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk310"><span class="nb">apply</span> (finite_valid_trace_from_empty (pre_loaded_with_all_messages_vlsm Y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type
  (pre_loaded_with_all_messages_vlsm X)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_with_all_messages_vlsm Y)
  (state_project (finite_trace_last si tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk311"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_projection_type_preloaded_with</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Htransition_None</span> : strong_projection_transition_consistency_None _ _ label_project state_project)
  : VLSM_projection_type (pre_loaded_vlsm X P) (type Y) label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type (pre_loaded_vlsm X P) (type Y)
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk312" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk312"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_type (pre_loaded_vlsm X P) (type Y)
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk313" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk313"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from (pre_loaded_vlsm X P) sX trX
  ‚Üí state_project (finite_trace_last sX trX) =
    finite_trace_last (state_project sX)
      (pre_VLSM_projection_trace_project
         (type (pre_loaded_vlsm X P)) (type Y)
         label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk314" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk314"><span class="nb">intros</span> <span class="kr">is</span> tr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last <span class="kr">is</span> tr) =
finite_trace_last (state_project <span class="kr">is</span>)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk315" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk315"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_from_rev_ind
  ; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) 
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s (tr ++ [x])) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk316"><span class="nb">rewrite</span> (@pre_VLSM_projection_trace_project_app _ (type (pre_loaded_vlsm X P)) (type Y) label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) 
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s (tr ++ [x])) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project tr ++
   pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk317" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk317"><span class="nb">rewrite</span> finite_trace_last_is_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) 
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project tr ++
   pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk318"><span class="nb">rewrite</span> finite_trace_last_app, &lt;- IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>state_project (finite_trace_last s tr) =
finite_trace_last (state_project s)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) 
     (type Y) label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last
  (state_project (finite_trace_last s tr))
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk319" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk319"><span class="nb">clear</span> IHHtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (destination x) =
finite_trace_last
  (state_project (finite_trace_last s tr))
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31a"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr))
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (projT1 X) (type Y) label_project state_project
      x
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31b"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project (VLSM.l x) <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := input x;
            destination :=
              state_project (destination x);
            output := output x
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31c"><span class="nb">destruct</span> (label_project _) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:Hl; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last s tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31d"><span class="nb">apply</span> proj2, (Htransition_None _ Hl) <span class="kr">in</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>state_project sf =
state_project (finite_trace_last s tr)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sf =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31e"><span class="nb">rewrite</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm X P) s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>state_project sf =
state_project (finite_trace_last s tr)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project (VLSM.l x) = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (finite_trace_last s tr) =
finite_trace_last
  (state_project (finite_trace_last s tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk31f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk31f"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_projection_preloaded_with</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (vlabel Y))
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Hvalid</span> : strong_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition_Some</span> : strong_projection_transition_preservation_Some X Y label_project state_project)
  (<span class="nv">Htransition_None</span> : strong_projection_transition_consistency_None _ _ label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : weak_projection_valid_message_preservation (pre_loaded_vlsm X P) (pre_loaded_vlsm Y Q) label_project state_project)
  : VLSM_projection (pre_loaded_vlsm X P) (pre_loaded_vlsm Y Q) label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk320" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk320"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk321" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk321"><span class="nb">specialize</span> (basic_VLSM_projection_type_preloaded_with X Y P Q label_project state_project Htransition_None) <span class="kr">as</span> Htype.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk322" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk322"><span class="nb">constructor</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace (pre_loaded_vlsm X P) sX trX
  ‚Üí finite_valid_trace (pre_loaded_vlsm Y Q)
      (state_project sX)
      (pre_VLSM_projection_trace_project
         (type (pre_loaded_vlsm X P))
         (type (pre_loaded_vlsm Y Q)) label_project
         state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk323" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk323"><span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (pre_loaded_vlsm Y Q)
  (state_project sX)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk324" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk324"><span class="nb">split</span>; [|<span class="nb">apply</span> Hstate; <span class="nb">apply</span> HtrX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project sX)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk325" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk325"><span class="nb">induction</span> HtrX <span class="nb">using</span> finite_valid_trace_rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk326" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk326"><hr></label><div class="goal-conclusion">finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project (tr ++ [x]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk327" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk327">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk328" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk328"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project si)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk329" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk329"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project si)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32b"><span class="nb">rewrite</span> (@pre_VLSM_projection_trace_project_app _ (type (pre_loaded_vlsm X P)) (type Y) label_project state_project).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project tr ++
   pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32c"><span class="nb">apply</span> (finite_valid_trace_from_app_iff (pre_loaded_vlsm Y Q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project tr)
‚àß finite_valid_trace_from (pre_loaded_vlsm Y Q)
    (finite_trace_last (state_project si)
       (pre_VLSM_projection_trace_project
          (type (pre_loaded_vlsm X P)) (type Y)
          label_project state_project tr))
    (pre_VLSM_projection_trace_project
       (type (pre_loaded_vlsm X P)) (type Y)
       label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32d"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type (pre_loaded_vlsm X P)) (type Y)
        label_project state_project tr))
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P)) (type Y)
     label_project state_project [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32e"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (projT1 X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    pre_VLSM_projection_transition_item_project
      (projT1 X) (type Y) label_project state_project
      x
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk32f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk32f"><span class="nb">unfold</span> pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (projT1 X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project (VLSM.l x) <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := input x;
            destination :=
              state_project (destination x);
            output := output x
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk330" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk330"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project si)
  (pre_VLSM_projection_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (projT1 X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk331" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk331"><span class="nb">apply</span> finite_valid_trace_last_pstate <span class="kr">in</span> IHHtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q))
        label_project state_project tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (projT1 X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk332" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk332"><span class="nb">apply</span> proj1 <span class="kr">in</span> Hx <span class="kr">as</span> Hpv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q))
        label_project state_project tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (projT1 X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk333" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk333"><span class="nb">destruct</span> Hx <span class="kr">as</span> [[_ [_ Hv]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q))
        label_project state_project tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project si)
     (pre_VLSM_projection_trace_project (projT1 X)
        (type Y) label_project state_project tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk334" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk334"><span class="nb">rewrite</span> &lt;- (final_state_project _ _ _ _ Htype) <span class="kr">in</span> IHHtrX |- * <span class="bp">by</span> <span class="nb">apply</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))
  <span class="kr">match</span>
    <span class="kr">match</span> label_project l <span class="kr">with</span>
    | Some lY =&gt;
        Some
          {|
            l := lY;
            input := iom;
            destination := state_project sf;
            output := oom
          |}
    | None =&gt; None
    <span class="kr">end</span>
  <span class="kr">with</span>
  | Some b =&gt; [b]
  | None =&gt; []
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk335" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk335"><span class="nb">destruct</span> (label_project l) <span class="kr">as</span> [lY|] <span class="nb">eqn</span>:Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))
  [{|
     l := lY;
     input := iom;
     destination := state_project sf;
     output := oom
   |}]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk336" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk336"><hr></label><div class="goal-conclusion">finite_valid_trace_from 
  (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr)) []</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk337" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk337">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))
  [{|
     l := lY;
     input := iom;
     destination := state_project sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk338" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk338"><span class="nb">apply</span> (finite_valid_trace_singleton (pre_loaded_vlsm Y Q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk339" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk339"><span class="nb">assert</span> (Hiom : option_valid_message_prop (pre_loaded_vlsm Y Q) iom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q) iom</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk33a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop 
  (pre_loaded_vlsm Y Q) iom</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk33a"><hr></label><div class="goal-conclusion">input_valid_transition 
  (pre_loaded_vlsm Y Q) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk33b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk33b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q) iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk33c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk33c"><span class="nb">destruct</span> iom <span class="kr">as</span> [im|]; [|<span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, Some im)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, Some im) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, Some im)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q)
  (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hmessage _ _ Hl) <span class="kr">in</span> Hpv; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk33d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk33d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop 
  (pre_loaded_vlsm Y Q) iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk33e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk33e"><span class="nb">apply</span> (Hvalid _ _ Hl) <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y lY
  (state_project (finite_trace_last si tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop 
  (pre_loaded_vlsm Y Q) iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk33f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk33f"><span class="nb">apply</span> (Htransition_Some _ _ Hl) <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y lY
  (state_project (finite_trace_last si tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y lY
  (state_project (finite_trace_last si tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = Some lY</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop 
  (pre_loaded_vlsm Y Q) iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q) lY
  (state_project (finite_trace_last si tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk340" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk340">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr)) []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk341" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk341"><span class="nb">apply</span> (finite_valid_trace_from_empty (pre_loaded_vlsm Y Q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option (vlabel Y)</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_preservation_Some
  X Y label_project state_project</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>strong_projection_transition_consistency_None
  X (type Y) label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation
  (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project
  state_project</span></span></span><br><span><var>Htype</var><span class="hyp-type"><b>: </b><span>VLSM_projection_type (pre_loaded_vlsm X P)
  (type Y) label_project state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>Hpv</var><span class="hyp-type"><b>: </b><span>input_valid (pre_loaded_vlsm X P) l
  (finite_trace_last si tr, iom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>label_project l = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project (finite_trace_last si tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
It is natural to look for sufficient conditions for VLSM projections
which are easy to verify in a practical setting. One such result is the following.

<div class="paragraph"> </div>

For VLSM <code>X</code> to fully-project to a VLSM <code>Y</code>, the following set of conditions is sufficient:
<ul class="doclist">
<li> <code>X</code>'s <span class="inlinecode"><span class="id" title="var">initial_state</span></span>s project to <code>Y</code>'s <span class="inlinecode"><span class="id" title="var">initial</span></span> <span class="inlinecode"><span class="id" title="var">state</span></span>s

</li>
<li> Every message <code>m</code> (including the empty one) which can be input to
  an <span class="inlinecode"><span class="id" title="var">input_valid</span></span> transition in <code>X</code>, is a <span class="inlinecode"><span class="id" title="var">valid_message</span></span> in <code>Y</code>
</li>
<li> <code>X</code>'s <span class="inlinecode"><span class="id" title="var">input_valid</span></span> is included in <code>Y</code>'s <span class="inlinecode"><span class="id" title="var">valid</span></span>.

</li>
<li> For all <span class="inlinecode"><span class="id" title="var">input_valid</span></span> inputs (in <code>X</code>), <code>Y</code>'s <span class="inlinecode"><span class="id" title="var">transition</span></span> acts

</li>
</ul>
like <code>X</code>'s <span class="inlinecode"><span class="id" title="var">transition</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic_VLSM_full_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y)
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Hvalid</span> : weak_full_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition</span> : weak_full_projection_transition_preservation X Y label_project state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">weak_full_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Hstate</span> : weak_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : weak_full_projection_initial_message_preservation X Y state_project)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk342" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk342"><span class="kn">Lemma</span> <span class="nf">weak_projection_valid_message_preservation_from_full</span>
  : weak_projection_valid_message_preservation X Y (Some ‚àò label_project) state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_valid_message_preservation X Y
  (Some ‚àò label_project) state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk343" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk343"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_projection_valid_message_preservation X Y
  (Some ‚àò label_project) state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk344" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk344"><span class="nb">intros</span> lX lY Hl s m Hv HsY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk345" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk345"><span class="nb">apply</span> proj2 <span class="kr">in</span> Hv <span class="kr">as</span> Hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)
‚àß valid lX (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk346" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk346"><span class="nb">apply</span> proj1 <span class="kr">in</span> Hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk347" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk347"><span class="nb">apply</span> emitted_messages_are_valid_iff <span class="kr">in</span> Hom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>initial_message_prop m ‚à® can_emit X m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk348" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk348"><span class="nb">destruct</span> Hom <span class="kr">as</span> [Him | Hemit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk349" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk349"><hr></label><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Hmessage _ _ _ Hv); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34c"><span class="nb">apply</span> can_emit_has_trace <span class="kr">in</span> Hemit <span class="kr">as</span> [<span class="kr">is</span> [tr [item [Htr Hm]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span> (tr ++ [item])</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>output item = Some m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34d"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(Some ‚àò label_project) lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span>
  (tr ++
   [{|
      l := l;
      input := input;
      destination := destination;
      output := output
    |}])</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>VLSM.output
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} = Some m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34e"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span>
  (tr ++
   [{|
      l := l;
      input := input;
      destination := destination;
      output := output
    |}])</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>output = Some m</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk34f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk34f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace X <span class="kr">is</span>
  (tr ++
   [{|
      l := l;
      input := input;
      destination := destination;
      output := Some m
    |}])</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk350" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk350"><span class="nb">apply</span> valid_trace_add_default_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span>
     (tr ++
      [{|
         l := l;
         input := input;
         destination := destination;
         output := Some m
       |}]))
  (tr ++
   [{|
      l := l;
      input := input;
      destination := destination;
      output := Some m
    |}])</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk351" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk351"><span class="nb">rewrite</span> finite_trace_last_is_last <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span>
  (VLSM.destination
     {|
       l := l;
       input := input;
       destination := destination;
       output := Some m
     |})
  (tr ++
   [{|
      l := l;
      input := input;
      destination := destination;
      output := Some m
    |}])</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk352" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk352"><span class="nb">simpl</span> <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination
  (tr ++
   [{|
      l := l;
      input := input;
      destination := destination;
      output := Some m
    |}])</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk353" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk353"><span class="nb">remember</span> (tr ++ _) <span class="kr">as</span> tr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr'</var><span class="hyp-type"><b>: </b><span>tr&#39; =
tr ++
[{|
   l := l;
   input := input;
   destination := destination;
   output := Some m
 |}]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination tr&#39;</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Y m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk354" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk354"><span class="nb">cut</span> (option_valid_message_prop Y (Some m)); [<span class="bp">exact</span> id|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr'</var><span class="hyp-type"><b>: </b><span>tr&#39; =
tr ++
[{|
   l := l;
   input := input;
   destination := destination;
   output := Some m
 |}]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination tr&#39;</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk355" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk355"><span class="kr">exists</span> (<span class="nv">state_project</span> <span class="nv">destination</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel Y</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>Some (label_project lX) = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s
‚àß option_valid_message_prop X (Some m)
  ‚àß valid lX (s, Some m)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr'</var><span class="hyp-type"><b>: </b><span>tr&#39; =
tr ++
[{|
   l := l;
   input := input;
   destination := destination;
   output := Some m
 |}]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination tr&#39;</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project destination)
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk356" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk356"><span class="nb">clear</span> Hv Hl lX lY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr'</var><span class="hyp-type"><b>: </b><span>tr&#39; =
tr ++
[{|
   l := l;
   input := input;
   destination := destination;
   output := Some m
 |}]</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination tr&#39;</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project destination)
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk357" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk357"><span class="nb">revert</span> tr l input Heqtr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination tr&#39;</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">l</span> : label) (<span class="nv">input</span> : 
                                           option
                                             message),
  tr&#39; =
  tr ++
  [{|
     l := l;
     input := input;
     destination := destination;
     output := Some m
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project destination) (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk358" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk358"><span class="nb">generalize</span> (Some m) <span class="kr">as</span> om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> destination tr&#39;</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr&#39; =
  tr ++
  [{|
     l := l;
     input := input;
     destination := destination;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project destination) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk359" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk359"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_init_to_rev_strong_ind
    ; <span class="nb">intros</span>; [<span class="nb">destruct</span> tr; <span class="nb">simpl</span> <span class="kr">in</span> *; <span class="bp">congruence</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, oom)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqtr'</var><span class="hyp-type"><b>: </b><span>tr ++
[{|
   l := l;
   input := iom;
   destination := sf;
   output := oom
 |}] =
tr0 ++
[{|
   l := l0;
   input := input;
   destination := sf;
   output := om
 |}]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35a"><span class="nb">apply</span> app_inj_tail <span class="kr">in</span> Heqtr&#39; <span class="kr">as</span> [Heqtr Heqitem].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, oom)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = tr0</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|} =
{|
  l := l0;
  input := input;
  destination := sf;
  output := om
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35b"><span class="nb">subst</span> tr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, oom)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|} =
{|
  l := l0;
  input := input;
  destination := sf;
  output := om
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35c"><span class="nb">inversion</span> Heqitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, oom)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|} =
{|
  l := l0;
  input := input;
  destination := sf;
  output := om
|}</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>l = l0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>iom = input</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>oom = om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35d"><span class="nb">subst</span> l0 input oom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := om
|} =
{|
  l := l;
  input := iom;
  destination := sf;
  output := om
|}</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35e"><span class="nb">clear</span> Heqitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk35f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk35f"><span class="nb">assert</span> (Hs : valid_state_prop Y (state_project s0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk360" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s0)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk360"><hr></label><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk361" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk361">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk362" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk362">destruct_list_last tr s_tr&#39; s_item Heqtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 []</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk363" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr, s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++ [s_item])</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  s_tr&#39; ++ [s_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = s_tr&#39; ++ [s_item]</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk363"><hr></label><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk364" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk364">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 []</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk365" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk365"><span class="nb">subst</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 []</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk366" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk366"><span class="nb">destruct</span> Htr1 <span class="kr">as</span> [Hs His].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X <span class="kr">is</span> s0 []</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk367" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk367"><span class="nb">inversion</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X <span class="kr">is</span> s0 []</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s1 = <span class="kr">is</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">is</span> = s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk368" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk368"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s0 s0 []</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk369" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk369"><span class="nb">apply</span> Hstate.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to X s0 s0 []</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>valid_state_prop X s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X s0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr, s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++ [s_item])</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  s_tr&#39; ++ [s_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = s_tr&#39; ++ [s_item]</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36b"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++ [s_item])</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  s_tr&#39; ++ [s_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36c"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr1 <span class="kr">as</span> Hs0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++ [s_item])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> (s_tr&#39; ++ [s_item]) = s0</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  s_tr&#39; ++ [s_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36d"><span class="nb">rewrite</span> finite_trace_last_is_last <span class="kr">in</span> Hs0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++ [s_item])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>destination s_item = s0</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  s_tr&#39; ++ [s_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36e"><span class="nb">destruct</span> s_item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := destination;
      output := output
    |}])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>VLSM.destination
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |} = s0</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input0</span> : option message),
  s_tr&#39; ++
  [{|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |}] =
  tr ++
  [{|
     l := l;
     input := input0;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk36f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk36f"><span class="nb">simpl</span> <span class="kr">in</span> Hs0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := destination;
      output := output
    |}])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>destination = s0</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input0</span> : option message),
  s_tr&#39; ++
  [{|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |}] =
  tr ++
  [{|
     l := l;
     input := input0;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk370" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk370"><span class="nb">subst</span> destination.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input, output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := s0;
      output := output
    |}])</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input0</span> : option message),
  s_tr&#39; ++
  [{|
     l := l0;
     input := input;
     destination := s0;
     output := output
   |}] =
  tr ++
  [{|
     l := l;
     input := input0;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk371" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk371"><span class="nb">specialize</span> (IHHtr1 _ _ _ _ eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input, output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0
  (s_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := s0;
      output := output
    |}])</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y 
  (state_project s0) output</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">exact</span> IHHtr1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk372" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk372">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk373" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk373"><span class="nb">destruct</span> Hs <span class="kr">as</span> [_om Hs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk374" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk374"><span class="nb">assert</span> (Hom : option_valid_message_prop Y iom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y iom</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk375" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y iom</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk375"><hr></label><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk376" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk376">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk377" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk377"><span class="nb">destruct</span> iom <span class="kr">as</span> [im|]; [|<span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk378" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk378"><span class="nb">unfold</span> empty_initial_message_or_final_output <span class="kr">in</span> Heqiom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> has_last_or_null iom_tr <span class="kr">with</span>
| inleft (existT _tmp (item ‚Üæ _)) =&gt;
    output item = Some im
| inright _ =&gt;
    option_initial_message_prop (Some im)
<span class="kr">end</span></span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk379" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk379">destruct_list_last iom_tr iom_tr&#39; iom_item Heqiom_tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk37a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++ [iom_item])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr&#39; ++ [iom_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk37a"><hr></label><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk37b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk37b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk37c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk37c"><span class="nb">apply</span> (Hmessage _ _ _ (proj1 Ht)); [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some im)</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  [] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Y (state_project s0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">exact</span> Hs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk37d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk37d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_item]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++ [iom_item])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr&#39; ++ [iom_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk37e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk37e"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++ [iom_item])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr&#39; ++ [iom_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk37f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk37f"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr2 <span class="kr">as</span> Hs0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++ [iom_item])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>finite_trace_last iom_si (iom_tr&#39; ++ [iom_item]) =
iom_s</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr&#39; ++ [iom_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk380" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk380"><span class="nb">rewrite</span> finite_trace_last_is_last <span class="kr">in</span> Hs0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_item = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++ [iom_item])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>destination iom_item = iom_s</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr&#39; ++ [iom_item] =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk381" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk381"><span class="nb">destruct</span> iom_item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>VLSM.output
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |} = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := destination;
      output := output
    |}])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>VLSM.destination
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |} = iom_s</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input0</span> : option message),
  iom_tr&#39; ++
  [{|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |}] =
  tr ++
  [{|
     l := l;
     input := input0;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk382" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk382"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output = Some im</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := destination;
      output := output
    |}])</span></span></span><br><span><var>Hs0</var><span class="hyp-type"><b>: </b><span>destination = iom_s</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input0</span> : option message),
  iom_tr&#39; ++
  [{|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |}] =
  tr ++
  [{|
     l := l;
     input := input0;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk383" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk383"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := iom_s;
      output := Some im
    |}])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input0</span> : option message),
  iom_tr&#39; ++
  [{|
     l := l0;
     input := input;
     destination := iom_s;
     output := Some im
   |}] =
  tr ++
  [{|
     l := l;
     input := input0;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk384" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk384"><span class="nb">specialize</span> (IHHtr2 _ _ _ _ eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  (iom_tr&#39; ++
   [{|
      l := l0;
      input := input;
      destination := iom_s;
      output := Some im
    |}])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, Some im) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y
  (state_project iom_s) 
  (Some im)</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Y (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eexists</span>; <span class="bp">exact</span> IHHtr2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk385" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk385">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Y iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk386" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk386"><span class="nb">destruct</span> Hom <span class="kr">as</span> [_s Hom].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y _s iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Y (state_project sf) om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk387" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk387"><span class="nb">apply</span>
      (valid_generated_state_message Y _ _ Hs _ _ Hom (label_project l)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y _s iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (label_project l) (state_project s0, iom)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk388" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y _s iom</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk388"><hr></label><div class="goal-conclusion">transition (label_project l) (state_project s0, iom) =
(state_project sf, om)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk389" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk389">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y _s iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (label_project l) (state_project s0, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hvalid; [<span class="nb">apply</span> Ht|<span class="kr">exists</span> <span class="nv">_om</span>|<span class="kr">exists</span> <span class="nv">_s</span>]; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y _s iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (label_project l) (state_project s0, iom) =
(state_project sf, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38b"><span class="nb">apply</span> Htransition.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>is, s0</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X <span class="kr">is</span> s0 tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output X
  iom_tr iom</span></span></span><br><span><var>Htr2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to X iom_si iom_s
  iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition X l (s0, iom) (sf, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Y (state_project s)</span></span></span><br><span><var>IHHtr1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr0</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  tr =
  tr0 ++
  [{|
     l := l;
     input := input;
     destination := s0;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project s0) om</span></span></span><br><span><var>IHHtr2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">om</span> : option message) 
  (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">l</span> : label) (<span class="nv">input</span> : option message),
  iom_tr =
  tr ++
  [{|
     l := l;
     input := input;
     destination := iom_s;
     output := om
   |}]
  ‚Üí valid_state_message_prop Y
      (state_project iom_s) om</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y (state_project s0) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop Y _s iom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition X l (s0, iom) (sf, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38c"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_weak_full_projection</span> : VLSM_weak_full_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38e"><span class="nb">specialize</span> (basic_VLSM_weak_projection X Y (<span class="kr">fun</span> <span class="nv">l</span> =&gt; Some (label_project l)) state_project) <span class="kr">as</span> Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_preservation X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project
‚Üí weak_projection_transition_preservation_Some
    X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project
  ‚Üí weak_projection_transition_consistency_None
      X (type Y)
      (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
      state_project
    ‚Üí weak_full_projection_initial_state_preservation
        X Y state_project
      ‚Üí weak_projection_valid_message_preservation
          X Y
          (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X,
             Some (label_project l))
          state_project
        ‚Üí VLSM_weak_projection X Y
            (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X,
               Some (label_project l))
            state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk38f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk38f">spec Hproj; [<span class="nb">apply</span> weak_projection_valid_preservation_from_full; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_preservation_Some X
  Y (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project
‚Üí weak_projection_transition_consistency_None
    X (type Y)
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project
  ‚Üí weak_full_projection_initial_state_preservation
      X Y state_project
    ‚Üí weak_projection_valid_message_preservation
        X Y
        (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X,
           Some (label_project l))
        state_project
      ‚Üí VLSM_weak_projection X Y
          (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X,
             Some (label_project l))
          state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk390" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk390">spec Hproj; [<span class="nb">apply</span> weak_projection_transition_preservation_Some_from_full; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None X
  (type Y)
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project
‚Üí weak_full_projection_initial_state_preservation
    X Y state_project
  ‚Üí weak_projection_valid_message_preservation
      X Y
      (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
      state_project
    ‚Üí VLSM_weak_projection X Y
        (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X,
           Some (label_project l))
        state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk391" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk391">spec Hproj; [<span class="nb">apply</span> weak_projection_transition_consistency_None_from_full|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project
‚Üí weak_projection_valid_message_preservation X
    Y (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project
  ‚Üí VLSM_weak_projection X Y
      (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
      state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk392" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk392">spec Hproj; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>weak_projection_valid_message_preservation X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project
‚Üí VLSM_weak_projection X Y
    (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
    state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk393" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk393">spec Hproj; [<span class="nb">apply</span> weak_projection_valid_message_preservation_from_full|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk394" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk394"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace_from X sX trX
  ‚Üí finite_valid_trace_from Y (state_project sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type X) (type Y) label_project state_project
         trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk395" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk395"><span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk396" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk396"><span class="nb">apply</span> (VLSM_weak_projection_finite_valid_trace_from Hproj) <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_weak_projection X Y
  (<span class="kr">Œª</span> <span class="nv">l</span> : vlabel X, Some (label_project l))
  state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Y 
  (state_project sX)
  (VLSM_weak_projection_trace_project Hproj trX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">weak_full_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk397" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk397"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_weak_full_projection_strengthen</span>
  (<span class="nv">Hweak</span> : VLSM_weak_full_projection X Y label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  : VLSM_full_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk398" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk398"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk399" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk399"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace X sX trX
  ‚Üí finite_valid_trace Y (state_project sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type X) (type Y) label_project state_project
         trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk39a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk39a"><span class="nb">intros</span> sX trX [HtrX HsX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Y (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk39b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk39b"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) label_project state_project trX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk39c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk39c"><hr></label><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk39d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk39d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Y (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type X) (type Y) label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk39e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk39e"><span class="nb">revert</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X sX trX
‚Üí finite_valid_trace_from Y (state_project sX)
    (pre_VLSM_full_projection_finite_trace_project
       (type X) (type Y) label_project state_project
       trX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (VLSM_weak_full_projection_finite_valid_trace_from Hweak).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk39f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk39f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>initial_state_prop sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a0"><span class="nb">revert</span> HsX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hweak</var><span class="hyp-type"><b>: </b><span>VLSM_weak_full_projection X Y label_project
  state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from X sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sX
‚Üí initial_state_prop (state_project sX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a1"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_full_projection</span>
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : weak_full_projection_initial_message_preservation X Y state_project)
  : VLSM_full_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a3"><span class="nb">apply</span> basic_VLSM_weak_full_projection_strengthen; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_full_projection X Y label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a4"><span class="nb">apply</span> basic_VLSM_weak_full_projection; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_state_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a5"><span class="nb">apply</span> strong_full_projection_initial_state_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>weak_full_projection_initial_message_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic_VLSM_full_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a6"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_strong_full_projection</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y)
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Hvalid</span> : strong_full_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition</span> : strong_full_projection_transition_preservation X Y label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : strong_full_projection_initial_message_preservation X Y)
  : VLSM_full_projection X Y label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X Y label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3a8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3a8"><span class="nb">apply</span> basic_VLSM_full_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_valid_preservation X Y
  label_project state_project</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3a9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3a9"><hr></label><div class="goal-conclusion">weak_full_projection_transition_preservation X Y
  label_project state_project</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3aa"><hr></label><div class="goal-conclusion">strong_full_projection_initial_state_preservation X Y
  state_project</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3ab"><hr></label><div class="goal-conclusion">weak_full_projection_initial_message_preservation X Y
  state_project</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ac" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ac">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_valid_preservation X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ad" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ad"><span class="nb">apply</span> strong_full_projection_valid_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_valid_preservation X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ae" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ae">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_transition_preservation X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3af" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3af"><span class="nb">apply</span> strong_full_projection_transition_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_transition_preservation X Y
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_state_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_full_projection_initial_message_preservation X Y
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b2"><span class="nb">apply</span> strong_full_projection_initial_message_preservation_weaken.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation X
  Y</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b3"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_full_projection_preloaded</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y)
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Hvalid</span> : strong_full_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition</span> : strong_full_projection_transition_preservation  X Y label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  : VLSM_full_projection (pre_loaded_with_all_messages_vlsm X) (pre_loaded_with_all_messages_vlsm Y) label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y) label_project
  state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b5"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace
    (pre_loaded_with_all_messages_vlsm X) sX trX
  ‚Üí finite_valid_trace
      (pre_loaded_with_all_messages_vlsm Y)
      (state_project sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type (pre_loaded_with_all_messages_vlsm X))
         (type (pre_loaded_with_all_messages_vlsm Y))
         label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b6"><span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b7"><span class="nb">split</span>; [|<span class="nb">apply</span> Hstate; <span class="nb">apply</span> HtrX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3b8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3b8"><span class="nb">induction</span> HtrX <span class="nb">using</span> finite_valid_trace_rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3b9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3b9"><hr></label><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project 
     (tr ++ [x]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ba" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ba">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3bb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3bb"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3bc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3bc"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project si)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3bd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3bd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_with_all_messages_vlsm X))
     (type (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project (tr ++ [x]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3be" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3be"><span class="nb">setoid_rewrite</span> map_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_with_all_messages_vlsm X))
        (type (pre_loaded_with_all_messages_vlsm Y))
        label_project state_project) tr ++
   map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_with_all_messages_vlsm X))
        (type (pre_loaded_with_all_messages_vlsm Y))
        label_project state_project) [x])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3bf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3bf"><span class="nb">apply</span> finite_valid_trace_from_app_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_with_all_messages_vlsm X))
        (type (pre_loaded_with_all_messages_vlsm Y))
        label_project state_project) tr)
‚àß finite_valid_trace_from
    (pre_loaded_with_all_messages_vlsm Y)
    (finite_trace_last (state_project si)
       (map
          (pre_VLSM_full_projection_trace_item_project
             (type
                (pre_loaded_with_all_messages_vlsm X))
             (type
                (pre_loaded_with_all_messages_vlsm Y))
             label_project state_project) tr))
    (map
       (pre_VLSM_full_projection_trace_item_project
          (type (pre_loaded_with_all_messages_vlsm X))
          (type (pre_loaded_with_all_messages_vlsm Y))
          label_project state_project) [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c0"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type (pre_loaded_with_all_messages_vlsm X))
           (type (pre_loaded_with_all_messages_vlsm Y))
           label_project state_project) tr))
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_with_all_messages_vlsm X))
        (type (pre_loaded_with_all_messages_vlsm Y))
        label_project state_project) [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c1"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr))
  [pre_VLSM_full_projection_trace_item_project
     (type X) (type Y) label_project state_project x]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c2"><span class="nb">apply</span> (finite_valid_trace_singleton (pre_loaded_with_all_messages_vlsm Y)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y)
  (label_project (VLSM.l x))
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr), input x)
  (state_project (destination x), output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c3"><span class="nb">destruct</span> Hx <span class="kr">as</span> [[_ [_ Hv]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last si tr, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y)
  (label_project (VLSM.l x))
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr), input x)
  (state_project (destination x), output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c4"><span class="nb">apply</span> Hvalid <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (state_project (finite_trace_last si tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y)
  (label_project (VLSM.l x))
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr), input x)
  (state_project (destination x), output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c5"><span class="nb">apply</span> Htransition <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (state_project (finite_trace_last si tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (state_project (finite_trace_last si tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y)
  (label_project (VLSM.l x))
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr), input x)
  (state_project (destination x), output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c6"><span class="nb">rewrite</span> (pre_VLSM_full_projection_finite_trace_last _ _ label_project state_project) <span class="kr">in</span> Hv, Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm Y)
  (label_project (VLSM.l x))
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr), input x)
  (state_project (destination x), output x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c7"><span class="kp">repeat</span> <span class="nb">split</span>; [..|<span class="bp">assumption</span>|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3c8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3c8"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) 
  (input x)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3c9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3c9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ca" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ca"><span class="nb">apply</span> finite_valid_trace_last_pstate <span class="kr">in</span> IHHtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type
           (pre_loaded_with_all_messages_vlsm
              X))
        (type
           (pre_loaded_with_all_messages_vlsm
              Y)) label_project state_project
        tr))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_with_all_messages_vlsm Y)
  (finite_trace_last (state_project si)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type X) (type Y) label_project
           state_project) tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3cb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3cb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (pre_loaded_with_all_messages_vlsm X) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project si)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm Y)
  (state_project si)
  (pre_VLSM_full_projection_finite_trace_project
     (type
        (pre_loaded_with_all_messages_vlsm X))
     (type
        (pre_loaded_with_all_messages_vlsm Y))
     label_project state_project tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (pre_loaded_with_all_messages_vlsm Y) (input x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3cc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3cc"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_full_projection_preloaded_with</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> <span class="nv">Y</span> : VLSM message)
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">PimpliesQ</span> : <span class="kr">forall</span> <span class="nv">m</span> : message, P m -&gt; Q m)
  (<span class="nv">label_project</span> : vlabel X -&gt; vlabel Y)
  (<span class="nv">state_project</span> : vstate X -&gt; vstate Y)
  (<span class="nv">Hvalid</span> : strong_full_projection_valid_preservation X Y label_project state_project)
  (<span class="nv">Htransition</span> : strong_full_projection_transition_preservation  X Y label_project state_project)
  (<span class="nv">Hstate</span> : strong_full_projection_initial_state_preservation X Y state_project)
  (<span class="nv">Hmessage</span> : strong_full_projection_initial_message_preservation X Y)
  : VLSM_full_projection (pre_loaded_vlsm X P) (pre_loaded_vlsm Y Q) label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3cd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3cd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (pre_loaded_vlsm X P)
  (pre_loaded_vlsm Y Q) label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ce" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ce"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">sX</span> : state) (<span class="nv">trX</span> : list transition_item),
  finite_valid_trace (pre_loaded_vlsm X P) sX trX
  ‚Üí finite_valid_trace (pre_loaded_vlsm Y Q)
      (state_project sX)
      (pre_VLSM_full_projection_finite_trace_project
         (type (pre_loaded_vlsm X P))
         (type (pre_loaded_vlsm Y Q)) label_project
         state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3cf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3cf"><span class="nb">intros</span> sX trX HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace (pre_loaded_vlsm X P) sX trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (pre_loaded_vlsm Y Q)
  (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d0"><span class="nb">apply</span> valid_trace_add_default_last <span class="kr">in</span> HtrX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) sX
  (finite_trace_last sX trX) trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace (pre_loaded_vlsm Y Q)
  (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d1"><span class="nb">split</span>; [|<span class="nb">apply</span> Hstate; <span class="nb">apply</span> HtrX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) sX
  (finite_trace_last sX trX) trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project sX)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project trX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d2"><span class="nb">induction</span> HtrX <span class="nb">using</span> finite_valid_trace_init_to_rev_strong_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project [])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3d3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3d3"><hr></label><div class="goal-conclusion">finite_valid_trace_from 
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project [])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d5"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm Y Q)
  (state_project <span class="kr">is</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d6"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project <span class="kr">is</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project
     (tr ++
      [{|
         l := l;
         input := iom;
         destination := sf;
         output := oom
       |}]))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d8"><span class="nb">setoid_rewrite</span> map_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project <span class="kr">is</span>)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project) tr ++
   map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3d9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3d9"><span class="nb">apply</span> finite_valid_trace_from_app_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (state_project <span class="kr">is</span>)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project) tr)
‚àß finite_valid_trace_from (pre_loaded_vlsm Y Q)
    (finite_trace_last (state_project <span class="kr">is</span>)
       (map
          (pre_VLSM_full_projection_trace_item_project
             (type (pre_loaded_vlsm X P))
             (type (pre_loaded_vlsm Y Q))
             label_project state_project) tr))
    (map
       (pre_VLSM_full_projection_trace_item_project
          (type (pre_loaded_vlsm X P))
          (type (pre_loaded_vlsm Y Q)) label_project
          state_project)
       [{|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3da" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3da"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (type (pre_loaded_vlsm X P))
           (type (pre_loaded_vlsm Y Q)) label_project
           state_project) tr))
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project)
     [{|
        l := l;
        input := iom;
        destination := sf;
        output := oom
      |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3db" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3db"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr))
  [pre_VLSM_full_projection_trace_item_project
     (projT1 X) (projT1 Y) label_project state_project
     {|
       l := l;
       input := iom;
       destination := sf;
       output := oom
     |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3dc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3dc"><span class="nb">apply</span> (finite_valid_trace_singleton (pre_loaded_vlsm Y Q)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (pre_loaded_vlsm X P) l 
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3dd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3dd"><span class="nb">destruct</span> Ht <span class="kr">as</span> [[_ [_ Hv]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, iom) = (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3de" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3de"><span class="nb">apply</span> Hvalid <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l) (state_project s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, iom) = (sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3df" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3df"><span class="nb">apply</span> Htransition <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) <span class="kr">is</span> s tr</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l) (state_project s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (state_project s, iom) =
(state_project sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e0"><span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> HtrX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX1</var><span class="hyp-type"><b>: </b><span>finite_trace_last <span class="kr">is</span> tr = s</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l) (state_project s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (state_project s, iom) =
(state_project sf, oom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e1"><span class="nb">subst</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (state_project (finite_trace_last <span class="kr">is</span> tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (state_project (finite_trace_last <span class="kr">is</span> tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e2"><span class="nb">rewrite</span> (pre_VLSM_full_projection_finite_trace_last _ _ label_project state_project) <span class="kr">in</span> Hv, Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}))
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr),
  input
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})
  (state_project
     (destination
        {|
          l := l;
          input := iom;
          destination := sf;
          output := oom
        |}),
  output
    {|
      l := l;
      input := iom;
      destination := sf;
      output := oom
    |})</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e3"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (pre_loaded_vlsm Y Q)
  (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr), iom)
  (state_project sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e4"><span class="kp">repeat</span> <span class="nb">split</span>; [..|<span class="bp">assumption</span>|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3e5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3e5"><hr></label><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q) iom</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e7"><span class="nb">apply</span> finite_valid_trace_last_pstate <span class="kr">in</span> IHHtrX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q))
        label_project state_project tr))</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm Y Q)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (map
        (pre_VLSM_full_projection_trace_item_project
           (projT1 X) (projT1 Y) label_project
           state_project) tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr iom</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom) =
(state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), iom)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q) iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3e9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3e9"><span class="nb">destruct</span> iom <span class="kr">as</span> [m|]; [|<span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>empty_initial_message_or_final_output
  (pre_loaded_vlsm X P) iom_tr 
  (Some m)</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q)
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ea" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ea"><span class="nb">unfold</span> empty_initial_message_or_final_output <span class="kr">in</span> Heqiom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> has_last_or_null iom_tr <span class="kr">with</span>
| inleft (existT _tmp (item ‚Üæ _)) =&gt;
    output item = Some m
| inright _ =&gt;
    option_initial_message_prop (Some m)
<span class="kr">end</span></span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s iom_tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project iom_tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q)
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3eb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3eb">destruct_list_last iom_tr iom_tr&#39; iom_lst Heqiom_tr
      ; [<span class="nb">apply</span> option_initial_message_is_valid; <span class="nb">destruct</span> Heqiom <span class="kr">as</span> [Him | Hp]|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_initial_message_prop (Some m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3ec" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>P m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3ec"><hr></label><div class="goal-conclusion">option_initial_message_prop (Some m)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk3ed" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk3ed"><hr></label><div class="goal-conclusion">option_valid_message_prop 
  (pre_loaded_vlsm Y Q) 
  (Some m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ee" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ee">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_initial_message_prop (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ef" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ef"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f0"><span class="nb">revert</span> Him.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m ‚Üí initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hmessage.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f1">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>P m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_initial_message_prop (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f2"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>P m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Q m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f3"><span class="nb">apply</span> PimpliesQ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = []</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>P m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s []</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (pre_loaded_vlsm Y Q)
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f5"><span class="nb">apply</span>
          (valid_trace_output_is_valid (pre_loaded_vlsm Y Q) _ _ IHHtrX2 m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) m
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project (iom_tr&#39; ++ [iom_lst]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f6"><span class="nb">setoid_rewrite</span> map_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">trace_has_message (field_selector output) m
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project) iom_tr&#39; ++
   map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project) [iom_lst])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f7"><span class="nb">apply</span> Exists_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (field_selector output m)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project) iom_tr&#39;)
‚à® Exists (field_selector output m)
    (map
       (pre_VLSM_full_projection_trace_item_project
          (type (pre_loaded_vlsm X P))
          (type (pre_loaded_vlsm Y Q)) label_project
          state_project) [iom_lst])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f8"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Exists (field_selector output m)
  (map
     (pre_VLSM_full_projection_trace_item_project
        (type (pre_loaded_vlsm X P))
        (type (pre_loaded_vlsm Y Q)) label_project
        state_project) [iom_lst])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3f9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3f9"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X, Y</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí vlabel Y</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí vstate Y</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_full_projection_valid_preservation X Y
  label_project state_project</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_full_projection_transition_preservation
  X Y label_project state_project</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_state_preservation
  X Y state_project</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_full_projection_initial_message_preservation
  X Y</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>iom_si, iom_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom_tr, iom_tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom_lst</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqiom_tr</var><span class="hyp-type"><b>: </b><span>iom_tr = iom_tr&#39; ++ [iom_lst]</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>output iom_lst = Some m</span></span></span><br><span><var>HtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_vlsm X P) iom_si iom_s
  (iom_tr&#39; ++ [iom_lst])</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>vtransition Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m) = (state_project sf, oom)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>vvalid Y (label_project l)
  (finite_trace_last (state_project <span class="kr">is</span>)
     (pre_VLSM_full_projection_finite_trace_project
        (type X) (type Y) label_project
        state_project tr), 
  Some m)</span></span></span><br><span><var>IHHtrX1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q) 
  (state_project <span class="kr">is</span>)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project tr)</span></span></span><br><span><var>IHHtrX2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (pre_loaded_vlsm Y Q)
  (state_project iom_si)
  (pre_VLSM_full_projection_finite_trace_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q))
     label_project state_project
     (iom_tr&#39; ++ [iom_lst]))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">field_selector output m
  (pre_VLSM_full_projection_trace_item_project
     (type (pre_loaded_vlsm X P))
     (type (pre_loaded_vlsm Y Q)) label_project
     state_project iom_lst)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
We instantiate the above for VLSM inclusions

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">basic_VLSM_incl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">T</span> : VLSMType message}
  {<span class="nv">SX</span> <span class="nv">SY</span> : VLSMSign T}
  (<span class="nv">MX</span> : VLSMClass SX)
  (<span class="nv">MY</span> : VLSMClass SY)
  (<span class="nv">X</span> := mk_vlsm MX)
  (<span class="nv">Y</span> := mk_vlsm MY)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3fa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3fa"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_incl</span>
  (<span class="nv">Hinitial_state</span> : strong_incl_initial_state_preservation MX MY)
  (<span class="nv">Hinitial_valid_message</span> : weak_incl_initial_message_preservation MX MY)
  (<span class="nv">Hvalid</span> : weak_incl_valid_preservation MX MY)
  (<span class="nv">Htransition</span> : weak_incl_transition_preservation MX MY)
  : VLSM_incl X Y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>weak_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_incl_transition_preservation MX MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3fb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3fb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>weak_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_incl_transition_preservation MX MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3fc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3fc"><span class="nb">apply</span> VLSM_incl_full_projection_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>weak_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>weak_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>weak_incl_transition_preservation MX MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (mk_vlsm MX) (mk_vlsm MY) id id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_full_projection; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3fd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3fd"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_strong_incl</span>
  (<span class="nv">Hinitial_state</span> : strong_incl_initial_state_preservation MX MY)
  (<span class="nv">Hinitial_valid_message</span> : strong_incl_initial_message_preservation MX MY)
  (<span class="nv">Hvalid</span> : strong_incl_valid_preservation MX MY)
  (<span class="nv">Htransition</span> : strong_incl_transition_preservation MX MY)
  : VLSM_incl X Y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3fe" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3fe"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X Y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk3ff" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk3ff"><span class="nb">apply</span> VLSM_incl_full_projection_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hinitial_valid_message</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection (mk_vlsm MX) (mk_vlsm MY) id id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_strong_full_projection; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk400" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk400"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_incl_preloaded</span>
  (<span class="nv">Hinitial_state</span> : strong_incl_initial_state_preservation MX MY)
  (<span class="nv">Hvalid</span> : strong_incl_valid_preservation MX MY)
  (<span class="nv">Htransition</span> : strong_incl_transition_preservation MX MY)
  : VLSM_incl (pre_loaded_with_all_messages_vlsm X) (pre_loaded_with_all_messages_vlsm Y).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk401" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk401"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm Y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk402" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk402"><span class="nb">apply</span> VLSM_incl_full_projection_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hinitial_state</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation
  MX MY</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine Y)) id
  id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (basic_VLSM_full_projection_preloaded X Y id id); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk403" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk403"><span class="kn">Lemma</span> <span class="nf">basic_VLSM_incl_preloaded_with</span>
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">PimpliesQ</span> : <span class="kr">forall</span> <span class="nv">m</span> : message, P m -&gt; Q m)
  (<span class="nv">Hvalid</span> : strong_incl_valid_preservation MX MY)
  (<span class="nv">Htransition</span> : strong_incl_transition_preservation  MX MY)
  (<span class="nv">Hstate</span> : strong_incl_initial_state_preservation MX MY)
  (<span class="nv">Hmessage</span> : strong_incl_initial_message_preservation MX MY)
  : VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm Y Q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation MX MY</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm Y Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk404" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk404"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation MX MY</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm Y Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk405" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk405"><span class="nb">apply</span> VLSM_incl_full_projection_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SX, SY</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>MX</var><span class="hyp-type"><b>: </b><span>VLSMClass SX</span></span></span><br><span><var>MY</var><span class="hyp-type"><b>: </b><span>VLSMClass SY</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Y</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MY</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>strong_incl_valid_preservation MX MY</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>strong_incl_transition_preservation MX
  MY</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_state_preservation MX MY</span></span></span><br><span><var>Hmessage</var><span class="hyp-type"><b>: </b><span>strong_incl_initial_message_preservation MX
  MY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) P))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 Y)) Q)) id id</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (basic_VLSM_full_projection_preloaded_with X Y _ _ PimpliesQ id id); <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">basic_VLSM_incl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">VLSM_incl_preloaded_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk406" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk406"><span class="kn">Lemma</span> <span class="nf">pre_loaded_vlsm_incl</span>
  (<span class="nv">P</span> <span class="nv">Q</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">PimpliesQ</span> : <span class="kr">forall</span> <span class="nv">m</span> : message, P m -&gt; Q m)
  : VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm X Q).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm X Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk407" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk407"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>PimpliesQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m</span> : message, P m ‚Üí Q m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm X Q)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_incl_preloaded_with; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk408" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk408"><span class="kn">Lemma</span> <span class="nf">pre_loaded_vlsm_idem_l</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM_incl (pre_loaded_vlsm (pre_loaded_vlsm X P) P) (pre_loaded_vlsm X P).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm (pre_loaded_vlsm X P) P)
  (pre_loaded_vlsm X P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk409" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk409"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm (pre_loaded_vlsm X P) P)
  (pre_loaded_vlsm X P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_strong_incl; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40a"><span class="kn">Lemma</span> <span class="nf">pre_loaded_vlsm_idem_r</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_vlsm (pre_loaded_vlsm X P) P).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P)
  (pre_loaded_vlsm (pre_loaded_vlsm X P) P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P)
  (pre_loaded_vlsm (pre_loaded_vlsm X P) P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_incl_preloaded_with; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40c"><span class="kn">Lemma</span> <span class="nf">pre_loaded_vlsm_idem</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM_eq (pre_loaded_vlsm (pre_loaded_vlsm X P) P) (pre_loaded_vlsm X P).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq (pre_loaded_vlsm (pre_loaded_vlsm X P) P)
  (pre_loaded_vlsm X P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq (pre_loaded_vlsm (pre_loaded_vlsm X P) P)
  (pre_loaded_vlsm X P)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40e"><span class="nb">apply</span> VLSM_eq_incl_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 (pre_loaded_vlsm X P))) P))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) P))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages
          (projT2 (projT2 X)) P))
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages
          (projT2 (projT2 (pre_loaded_vlsm X P))) P))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk40f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk40f"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 (pre_loaded_vlsm X P))) P))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) P))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk410" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk410"><hr></label><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) P))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 (pre_loaded_vlsm X P))) P))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk411" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk411">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 (pre_loaded_vlsm X P))) P))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) P))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_vlsm_idem_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk412" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk412">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) P))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 (pre_loaded_vlsm X P))) P))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_vlsm_idem_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk413" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk413"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True_l</span>
  : VLSM_incl (pre_loaded_with_all_messages_vlsm X) (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">True</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk414" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk414"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_strong_incl; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk415" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk415"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True_r</span>
  : VLSM_incl (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">True</span>)) (pre_loaded_with_all_messages_vlsm X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk416" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk416"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_strong_incl; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk417" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk417"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span>
  : VLSM_eq (pre_loaded_with_all_messages_vlsm X) (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">True</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk418" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk418"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk419" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk419"><span class="nb">apply</span> VLSM_eq_incl_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages
          (projT2 (projT2 X)) (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine X))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk41a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk41a"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk41b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk41b"><hr></label><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) 
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk41c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk41c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk41d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk41d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X)) (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk41e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk41e"><span class="kn">Lemma</span> <span class="nf">pre_loaded_vlsm_incl_pre_loaded_with_all_messages</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM_incl (pre_loaded_vlsm X P) (pre_loaded_with_all_messages_vlsm X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P)
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk41f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk41f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_vlsm X P)
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_strong_incl; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk420" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk420"><span class="kn">Lemma</span> <span class="nf">vlsm_is_pre_loaded_with_False</span>
  : VLSM_eq X (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">False</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk421" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk421"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk422" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk422"><span class="nb">destruct</span> X <span class="kr">as</span> (T, (S, M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq (existT T (existT S M))
  (pre_loaded_vlsm (existT T (existT S M))
     (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk423" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk423"><span class="nb">intro</span> Hpp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hpp</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_trace_prop
  (mk_vlsm (machine (existT T (existT S M)))) Hpp
‚Üî valid_trace_prop
    (mk_vlsm
       (machine
          (pre_loaded_vlsm (existT T (existT S M))
             (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))) Hpp</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk424" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk424"><span class="nb">apply</span> VLSM_eq_incl_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hpp</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (mk_vlsm M)
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 (existT T (existT S M))))
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages
          (projT2 (projT2 (existT T (existT S M))))
          (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))) (mk_vlsm M)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk425" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk425"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>Hpp</var><span class="hyp-type"><b>: </b><span>Trace</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (mk_vlsm M)
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages M
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages M
          (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))) (mk_vlsm M)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; <span class="nb">apply</span> basic_VLSM_strong_incl; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk426" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk426"><span class="kn">Lemma</span> <span class="nf">vlsm_is_pre_loaded_with_False_initial_message</span>
  : strong_full_projection_initial_message_preservation X (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">False</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation X
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk427" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk427"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation X
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk428" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk428"><span class="nb">intros</span> m Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk429" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk429"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>vinitial_message_prop X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42a"><span class="kn">Lemma</span> <span class="nf">vlsm_is_pre_loaded_with_False_initial_message_rev</span>
  : strong_full_projection_initial_message_preservation (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">False</span>)) X.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_full_projection_initial_message_preservation
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> m [Hm | Hfalse]; [<span class="bp">assumption</span>|<span class="bp">contradiction</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42c"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_vlsm_idem_l</span>
  : VLSM_incl (pre_loaded_with_all_messages_vlsm (pre_loaded_with_all_messages_vlsm X)) (pre_loaded_with_all_messages_vlsm X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (pre_loaded_with_all_messages_vlsm
     (pre_loaded_with_all_messages_vlsm X))
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (pre_loaded_with_all_messages_vlsm
     (pre_loaded_with_all_messages_vlsm X))
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_strong_incl; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42e"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_vlsm_idem_r</span>
  : VLSM_incl (pre_loaded_with_all_messages_vlsm X) (pre_loaded_with_all_messages_vlsm (pre_loaded_with_all_messages_vlsm X)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm
     (pre_loaded_with_all_messages_vlsm X))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk42f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk42f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl (pre_loaded_with_all_messages_vlsm X)
  (pre_loaded_with_all_messages_vlsm
     (pre_loaded_with_all_messages_vlsm X))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> basic_VLSM_incl_preloaded; <span class="nb">cbv</span>; <span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk430" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk430"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_vlsm_idem</span>
  : VLSM_eq (pre_loaded_with_all_messages_vlsm (pre_loaded_with_all_messages_vlsm X)) (pre_loaded_with_all_messages_vlsm X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq
  (pre_loaded_with_all_messages_vlsm
     (pre_loaded_with_all_messages_vlsm X))
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk431" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk431"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq
  (pre_loaded_with_all_messages_vlsm
     (pre_loaded_with_all_messages_vlsm X))
  (pre_loaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk432" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk432"><span class="nb">apply</span> VLSM_eq_incl_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (pre_loaded_with_all_messages_vlsm X)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
‚àß VLSM_incl
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine X))
    (mk_vlsm
       (pre_loaded_with_all_messages_vlsm_machine
          (pre_loaded_with_all_messages_vlsm X)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk433" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk433"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (pre_loaded_with_all_messages_vlsm X)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk434" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk434"><hr></label><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (pre_loaded_with_all_messages_vlsm X)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk435" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk435">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (pre_loaded_with_all_messages_vlsm X)))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_with_all_messages_vlsm_idem_l.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk436" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk436">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine X))
  (mk_vlsm
     (pre_loaded_with_all_messages_vlsm_machine
        (pre_loaded_with_all_messages_vlsm X)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> pre_loaded_with_all_messages_vlsm_idem_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk437" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk437"><span class="kn">Lemma</span> <span class="nf">vlsm_is_pre_loaded_with_False_valid_state_message</span> <span class="nv">s</span> <span class="nv">om</span>
  : valid_state_message_prop X s om &lt;-&gt; valid_state_message_prop (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">m</span> =&gt; <span class="kt">False</span>)) s om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop X s om
‚Üî valid_state_message_prop
    (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk438" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk438"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop X s om
‚Üî valid_state_message_prop
    (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk439" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk439"><span class="nb">pose proof</span> vlsm_is_pre_loaded_with_False <span class="kr">as</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop X s om
‚Üî valid_state_message_prop
    (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43a"><span class="nb">apply</span> VLSM_eq_incl_iff <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_incl (mk_vlsm (machine X))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages
        (projT2 (projT2 X))
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages
          (projT2 (projT2 X))
          (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))
    (mk_vlsm (machine X))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop X s om
‚Üî valid_state_message_prop
    (pre_loaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43b"><span class="nb">destruct</span> X <span class="kr">as</span> (T, (S, M)); <span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_incl
  (mk_vlsm (machine (existT T (existT S M))))
  (mk_vlsm
     (VLSMClass_pre_loaded_with_messages M
        (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))
‚àß VLSM_incl
    (mk_vlsm
       (VLSMClass_pre_loaded_with_messages M
          (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)))
    (mk_vlsm (machine (existT T (existT S M))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop (existT T (existT S M)) s om
‚Üî valid_state_message_prop
    (pre_loaded_vlsm (existT T (existT S M))
       (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; (<span class="nb">apply</span> VLSM_incl_valid_state_message; [|<span class="nb">cbv</span>;<span class="bp">tauto</span>]); <span class="nb">apply</span> Heq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43c"><span class="kn">Lemma</span> <span class="nf">pre_loaded_with_all_messages_can_emit</span>
  (<span class="nv">m</span> : message)
  (<span class="nv">Hm</span> : can_emit X m)
  : can_emit (pre_loaded_with_all_messages_vlsm X) m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm X) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (pre_loaded_with_all_messages_vlsm X) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43e"><span class="nb">apply</span> (VLSM_incl_can_emit (vlsm_incl_pre_loaded_with_all_messages_vlsm X)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit (mk_vlsm (machine X)) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> mk_vlsm_machine;<span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">VLSM_incl_preloaded_properties</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk43f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk43f"><span class="kn">Lemma</span> <span class="nf">preloaded_weaken_finite_valid_trace_from</span>
      {<span class="nv">message</span> : <span class="kt">Type</span>} (<span class="nv">X</span> : VLSM message) (<span class="nv">from</span> : state) (<span class="nv">tr</span> : list transition_item) :
  finite_valid_trace_from X <span class="kn">from</span> tr -&gt;
  finite_valid_trace_from (pre_loaded_with_all_messages_vlsm X) <span class="kn">from</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>from</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X <span class="kn">from</span> tr
‚Üí finite_valid_trace_from
    (pre_loaded_with_all_messages_vlsm X) <span class="kn">from</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk440" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk440"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>from</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from X <span class="kn">from</span> tr
‚Üí finite_valid_trace_from
    (pre_loaded_with_all_messages_vlsm X) <span class="kn">from</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk441" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk441"><span class="nb">destruct</span> X <span class="kr">as</span> (T, (S, M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>from</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from (existT T (existT S M)) <span class="kn">from</span>
  tr
‚Üí finite_valid_trace_from
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) <span class="kn">from</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk442" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk442"><span class="nb">apply</span> VLSM_incl_finite_valid_trace_from.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>from</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part M
  (pre_loaded_with_all_messages_vlsm_machine
     (existT T (existT S M)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> vlsm_incl_pre_loaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk443" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk443"><span class="kn">Lemma</span> <span class="nf">preloaded_weaken_finite_valid_trace_from_to</span>
      {<span class="nv">message</span> : <span class="kt">Type</span>} (<span class="nv">X</span> : VLSM message) (<span class="nv">from</span> <span class="nv">to</span> : state) (<span class="nv">tr</span> : list transition_item) :
  finite_valid_trace_from_to X <span class="kn">from</span> to tr -&gt;
  finite_valid_trace_from_to (pre_loaded_with_all_messages_vlsm X) <span class="kn">from</span> to tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>from, to</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X <span class="kn">from</span> to tr
‚Üí finite_valid_trace_from_to
    (pre_loaded_with_all_messages_vlsm X) <span class="kn">from</span> to tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk444" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk444"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>from, to</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X <span class="kn">from</span> to tr
‚Üí finite_valid_trace_from_to
    (pre_loaded_with_all_messages_vlsm X) <span class="kn">from</span> to tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk445" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk445"><span class="nb">destruct</span> X <span class="kr">as</span> (T, (S, M)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>from, to</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (existT T (existT S M))
  <span class="kn">from</span> to tr
‚Üí finite_valid_trace_from_to
    (pre_loaded_with_all_messages_vlsm
       (existT T (existT S M))) <span class="kn">from</span> to tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk446" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk446"><span class="nb">apply</span> VLSM_incl_finite_valid_trace_from_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>T</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>S</var><span class="hyp-type"><b>: </b><span>VLSMSign T</span></span></span><br><span><var>M</var><span class="hyp-type"><b>: </b><span>VLSMClass S</span></span></span><br><span><var>from, to</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part M
  (pre_loaded_with_all_messages_vlsm_machine
     (existT T (existT S M)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> vlsm_incl_pre_loaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab7"></a><h2 class="section">Induced <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span>s</h2>
<div class="paragraph"> </div>

Given an existing <span class="inlinecode"><span class="id" title="var">VLSM</span></span>, a target <span class="inlinecode"><span class="id" title="var">VLSM_type</span></span>, a <code>state_project</code>ion map, and
a partial <code>label_project</code>ion map, and some corresponding reverse maps
<code>state_lift</code> and <code>label_lift</code> we can build a new VLSM over the target type,
induced by the source VLSM, its missing components being defined based on the
source components.

<div class="paragraph"> </div>

If additionally some consistency (<span class="inlinecode"><span class="id" title="var">weak_projection_transition_consistency_None</span></span>
and <span class="inlinecode"><span class="id" title="var">weak_projection_transition_consistency_Some</span></span>) properties are satisfied,
then the induced VLSM is a <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span> of the source one.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_induced_vlsm</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  (<span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : vlabel X -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : vstate X -&gt; @state _ TY)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  (<span class="nv">label_lift</span> : @label _ TY -&gt; vlabel X)
  (<span class="nv">state_lift</span> : @state _ TY -&gt; vstate X)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_initial_state_prop</span> (<span class="nv">sY</span> : @state _ TY) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">sX</span>, state_project sX = sY /\ vinitial_state_prop X sX.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Program Instance</span> <span class="nf">projection_induced_initial_state_inh</span> : Inhabited (sig projection_induced_initial_state_prop)
  := populate (exist _ (state_project (proj1_sig (@inhabitant _ (@s0 _ _ (sign X))))) _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk447" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk447"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">projection_induced_initial_state_prop
  (state_project (`inhabitant))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk448" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk448"><span class="nb">eexists</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project <span class="nl">?sX</span> = state_project (`inhabitant)
‚àß vinitial_state_prop X <span class="nl">?sX</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk449" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk449"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project <span class="nl">?sX</span> = state_project (`inhabitant)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk44a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk44a"><hr></label><div class="goal-conclusion">vinitial_state_prop X <span class="nl">?sX</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk44b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk44b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project <span class="nl">?sX</span> = state_project (`inhabitant)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk44c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk44c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X (`inhabitant)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk44d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk44d"><span class="nb">destruct</span> (@inhabitant _ (@s0 _ _ (sign X))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>initial_state_prop x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X (`(x ‚Üæ i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_initial_message_prop</span> : message -&gt; <span class="kt">Prop</span> :=
  valid_message_prop X.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_vlsm_sig</span> : VLSMSign TY :=
  {| initial_message_prop := projection_induced_initial_message_prop
   ; initial_state_prop := projection_induced_initial_state_prop
  |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_transition</span>
  (<span class="nv">lY</span> : @label _ TY)
  (<span class="nv">somY</span> : @state _ TY * option message)
  : @state _ TY * option message :=
  <span class="kr">let</span> (<span class="nv">sY</span>, om) := somY <span class="kr">in</span>
  <span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) := vtransition X (label_lift lY) (state_lift sY, om) <span class="kr">in</span>
  (state_project s&#39;X, om&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_valid</span>
  (<span class="nv">lY</span> : @label _ TY)
  (<span class="nv">somY</span> : @state _ TY * option message)
  : <span class="kt">Prop</span> :=
  <span class="kr">let</span> (<span class="nv">sY</span>, om) := somY <span class="kr">in</span>
  <span class="kr">exists</span> <span class="nv">lX</span> <span class="nv">sX</span>, label_project lX = Some lY /\ state_project sX = sY /\
  input_valid X lX (sX, om).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_vlsm_class</span> : VLSMClass projection_induced_vlsm_sig :=
  {| transition := projection_induced_transition
   ;  valid := projection_induced_valid
  |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">projection_induced_vlsm</span> : VLSM message :=
  mk_vlsm projection_induced_vlsm_class.</span></span></pre><div class="doc">
<code>label_project</code> is a left-inverse of <code>label_lift</code>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">induced_projection_label_lift_prop</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lY</span>, label_project (label_lift lY) = Some lY.</span></span></pre><div class="doc">
<code>state_project</code> is a left-inverse of <code>state_lift</code>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">induced_projection_state_lift_prop</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">sY</span>, state_project (state_lift sY) = sY.</span></span></pre><div class="doc">
Transitions through states and labels with the same projections using the
same message should lead to the same output message and states with the same
projections.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">induced_projection_transition_consistency_Some</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX1</span> <span class="nv">lX2</span> <span class="nv">lY</span>, label_project lX1 = Some lY -&gt; label_project lX2 = Some lY -&gt;
  <span class="kr">forall</span> <span class="nv">sX1</span> <span class="nv">sX2</span>, state_project sX1 = state_project sX2 -&gt;
  <span class="kr">forall</span> <span class="nv">iom</span> <span class="nv">sX1&#39;</span> <span class="nv">oom1</span>, vtransition X lX1 (sX1, iom) = (sX1&#39;, oom1) -&gt;
  <span class="kr">forall</span> <span class="nv">sX2&#39;</span> <span class="nv">oom2</span>, vtransition X lX2 (sX2, iom) = (sX2&#39;, oom2) -&gt;
  state_project sX1&#39; = state_project sX2&#39; /\ oom1 = oom2.</span></span></pre><div class="doc">
A weaker version of <span class="inlinecode"><span class="id" title="var">induced_projection_transition_consistency_Some</span></span>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">weak_projection_transition_consistency_Some</span>
  : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">lX</span> <span class="nv">lY</span>, label_project lX = Some lY -&gt;
  <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">om</span> <span class="nv">s1&#39;</span> <span class="nv">om1&#39;</span>, input_valid_transition X lX (s1, om) (s1&#39;, om1&#39;) -&gt;
  <span class="kr">forall</span> <span class="nv">s2&#39;</span> <span class="nv">om2&#39;</span>, vtransition X (label_lift lY) (state_lift (state_project s1), om) = (s2&#39;, om2&#39;) -&gt;
  state_project s1&#39; = state_project s2&#39; /\ om1&#39; = om2&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">(* TODO(traiansf): remove the definition above and assume the properties</span>
<span class="c">deriving it in the next lemma instead. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk44e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk44e"><span class="kn">Lemma</span> <span class="nf">basic_weak_projection_transition_consistency_Some</span>
  : induced_projection_label_lift_prop -&gt; induced_projection_state_lift_prop -&gt;
    induced_projection_transition_consistency_Some -&gt;
    weak_projection_transition_consistency_Some.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
‚Üí induced_projection_state_lift_prop
  ‚Üí induced_projection_transition_consistency_Some
    ‚Üí weak_projection_transition_consistency_Some</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk44f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk44f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">induced_projection_label_lift_prop
‚Üí induced_projection_state_lift_prop
  ‚Üí induced_projection_transition_consistency_Some
    ‚Üí weak_projection_transition_consistency_Some</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk450" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk450"><span class="nb">intros</span> Hlabel Hstate Htransition lX lY HlX_pr sX1 iom sX1&#39; oom1 Ht1
    sX2&#39; oom2 Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Hlabel</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>sX1</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX1, iom) (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift lY)
  (state_lift (state_project sX1), iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sX1&#39; = state_project sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk451" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk451"><span class="nb">apply</span> proj2 <span class="kr">in</span> Ht1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Hlabel</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>sX1</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>transition lX (sX1, iom) = (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift lY)
  (state_lift (state_project sX1), iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sX1&#39; = state_project sX2&#39; ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk452" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk452"><span class="nb">eapply</span> Htransition; [<span class="bp">eassumption</span>| <span class="nb">apply</span> Hlabel| |<span class="bp">exact</span> Ht1|<span class="bp">exact</span> Ht2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Hlabel</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>sX1</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>transition lX (sX1, iom) = (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift lY)
  (state_lift (state_project sX1), iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project sX1 =
state_project (state_lift (state_project sX1))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk453" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk453"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Hlabel</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>sX1</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX1'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>transition lX (sX1, iom) = (sX1&#39;, oom1)</span></span></span><br><span><var>sX2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift lY)
  (state_lift (state_project sX1), iom) =
(sX2&#39;, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (state_lift (state_project sX1)) =
state_project sX1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Under transition-consistency assumptions, valid messages of the
<span class="inlinecode"><span class="id" title="var">projection_induced_vlsm</span></span> coincide with those of the source <span class="inlinecode"><span class="id" title="var">VLSM</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk454" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk454"><span class="kn">Lemma</span> <span class="nf">projection_induced_valid_message_char</span>
  (<span class="nv">Htransition_Some</span> : weak_projection_transition_consistency_Some)
  : <span class="kr">forall</span> <span class="nv">om</span>, option_valid_message_prop projection_induced_vlsm om &lt;-&gt;
    option_valid_message_prop X om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">om</span> : option message,
  option_valid_message_prop projection_induced_vlsm om
  ‚Üî option_valid_message_prop X om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk455" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk455"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">om</span> : option message,
  option_valid_message_prop projection_induced_vlsm om
  ‚Üî option_valid_message_prop X om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk456" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk456"><span class="nb">split</span>; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om
‚Üí option_valid_message_prop projection_induced_vlsm om</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk457" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk457"><hr></label><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm om
‚Üí option_valid_message_prop X om</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk458" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk458">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om
‚Üí option_valid_message_prop projection_induced_vlsm om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk459" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk459"><span class="nb">intros</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk45a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk45a"><span class="nb">destruct</span> om <span class="kr">as</span> [m |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm
  (Some m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk45b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X None</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk45b"><hr></label><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm None</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk45c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk45c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk45d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk45d"><span class="nb">apply</span> initial_message_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk45e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk45e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> option_valid_message_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk45f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk45f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop projection_induced_vlsm om
‚Üí option_valid_message_prop X om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk460" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk460"><span class="nb">intros</span> [s Hsom].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hsom</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk461" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk461"><span class="nb">induction</span> Hsom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk462" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk462"><hr></label><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk463" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk463">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk464" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk464"><span class="nb">destruct</span> om <span class="kr">as</span> [m |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X (Some m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk465" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop None</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk465"><hr></label><div class="goal-conclusion">option_valid_message_prop X None</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk466" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk466">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk467" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk467">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> option_valid_message_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk468" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk468">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk469" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk469"><span class="nb">destruct</span> Hv <span class="kr">as</span> [lX [sX [HlX_pr [HsX_pr [HsX [HomX Hv]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46a"><span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   vtransition X (label_lift l)
     (state_lift s, om) <span class="kr">in</span>
 (state_project s&#39;X, om&#39;)) = 
(s&#39;, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46b"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (_s&#39;X, __om&#39;) <span class="nb">eqn</span>: H_tX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = s</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>__om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l) (state_lift s, om) =
(_s&#39;X, __om&#39;)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_project _s&#39;X, __om&#39;) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46c"><span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46d"><span class="nb">destruct</span> (vtransition X lX (sX, om)) <span class="kr">as</span> (s&#39;X, _om&#39;) <span class="nb">eqn</span>: HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46e"><span class="nb">assert</span> (HivtX : input_valid_transition X lX (sX, om) (s&#39;X, _om&#39;))
        <span class="bp">by</span> (<span class="kp">repeat</span> <span class="nb">split</span>; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br><span><var>HivtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX, om) (s&#39;X, _om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk46f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk46f"><span class="nb">replace</span> om&#39; <span class="kr">with</span> _om&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br><span><var>HivtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX, om) (s&#39;X, _om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X _om&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk470" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br><span><var>HivtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX, om) (s&#39;X, _om&#39;)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk470"><hr></label><div class="goal-conclusion">_om&#39; = om&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk471" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk471">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br><span><var>HivtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX, om) (s&#39;X, _om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop X _om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk472" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk472"><span class="nb">eapply</span> input_valid_transition_out.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br><span><var>HivtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX, om) (s&#39;X, _om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition X <span class="nl">?l</span> (<span class="nl">?s</span>, <span class="nl">?om</span>) (<span class="nl">?s&#39;</span>, _om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk473" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk473">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X</span></span></span><br><span><var>Hsom1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm 
  (state_project sX) _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hsom2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop
  projection_induced_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX</var><span class="hyp-type"><b>: </b><span>valid_state_prop X sX</span></span></span><br><span><var>HomX</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lX (sX, om)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX</var><span class="hyp-type"><b>: </b><span>vtransition X (label_lift l)
  (state_lift (state_project sX), om) =
(_s&#39;X, om&#39;)</span></span></span><br><span><var>IHHsom1</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X _om</span></span></span><br><span><var>IHHsom2</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X om</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>vtransition X lX (sX, om) = (s&#39;X, _om&#39;)</span></span></span><br><span><var>HivtX</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX 
  (sX, om) (s&#39;X, _om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">_om&#39; = om&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> Htransition_Some; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Htransition_None</span> : weak_projection_transition_consistency_None _ _ label_project state_project)
  (<span class="nv">Htype</span> : VLSM_projection_type X TY label_project state_project :=
    basic_VLSM_projection_type X TY label_project state_project Htransition_None)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk474" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk474"><span class="kn">Lemma</span> <span class="nf">projection_induced_vlsm_is_projection</span>
  (<span class="nv">Htransition_Some</span> : weak_projection_transition_consistency_Some)
  : VLSM_projection X projection_induced_vlsm label_project state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X projection_induced_vlsm
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk475" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk475"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection X projection_induced_vlsm
  label_project state_project</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk476" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk476"><span class="nb">apply</span> basic_VLSM_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  projection_induced_vlsm om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid projection_induced_vlsm lY
  (state_project s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk477" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk477"><hr></label><div class="goal-conclusion">vtransition projection_induced_vlsm lY
  (state_project s, om) = 
(state_project s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk478" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk478"><hr></label><div class="goal-conclusion">state_project s&#39; = state_project s</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk479" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk479"><hr></label><div class="goal-conclusion">vinitial_state_prop projection_induced_vlsm
  (state_project s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk47a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk47a"><hr></label><div class="goal-conclusion">valid_message_prop projection_induced_vlsm m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk47b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk47b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  projection_induced_vlsm om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid projection_induced_vlsm lY
  (state_project s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk47c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk47c"><span class="kr">exists</span> <span class="nv">lX</span>, s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  projection_induced_vlsm om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">label_project lX = Some lY
‚àß state_project s = state_project s
  ‚àß input_valid X lX (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk47d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk47d"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  projection_induced_vlsm om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project s = state_project s
‚àß input_valid X lX (s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; [<span class="bp">reflexivity</span>|<span class="bp">assumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk47e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk47e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition projection_induced_vlsm lY
  (state_project s, om) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk47f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk47f"><span class="nb">specialize</span> (Htransition_Some _ _ H _ _ _ _ H0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s2&#39;</span> : state) (<span class="nv">om2&#39;</span> : 
                 option message),
  vtransition X (label_lift lY)
    (state_lift (state_project s),
    om) = (s2&#39;, om2&#39;)
  ‚Üí state_project s&#39; =
    state_project s2&#39; ‚àß 
    om&#39; = om2&#39;</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vtransition projection_induced_vlsm lY
  (state_project s, om) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk480" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk480"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s2&#39;</span> : state) (<span class="nv">om2&#39;</span> : 
                 option message),
  vtransition X (label_lift lY)
    (state_lift (state_project s),
    om) = (s2&#39;, om2&#39;)
  ‚Üí state_project s&#39; =
    state_project s2&#39; ‚àß 
    om&#39; = om2&#39;</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   vtransition X (label_lift lY)
     (state_lift (state_project s), om) <span class="kr">in</span>
 (state_project s&#39;X, om&#39;)) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk481" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk481"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (s2&#39;, om2&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om2'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s2&#39;0</span> : state) (<span class="nv">om2&#39;0</span> : 
                  option message),
  (s2&#39;, om2&#39;) = (s2&#39;0, om2&#39;0)
  ‚Üí state_project s&#39; =
    state_project s2&#39;0
    ‚àß om&#39; = om2&#39;0</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project s2&#39;, om2&#39;) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk482" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk482"><span class="nb">specialize</span> (Htransition_Some _ _ eq_refl) <span class="kr">as</span> [Heqs Heqom].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om2'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_project s&#39; = state_project s2&#39;</span></span></span><br><span><var>Heqom</var><span class="hyp-type"><b>: </b><span>om&#39; = om2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project s2&#39;, om2&#39;) = (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk483" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk483"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s', s2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om2'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om2&#39;)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_project s&#39; = state_project s2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project s2&#39;, om2&#39;) = (state_project s&#39;, om2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk484" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk484"><span class="nb">rewrite</span> Heqs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s', s2'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om2'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om2&#39;)</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_project s&#39; = state_project s2&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project s2&#39;, om2&#39;) = (state_project s2&#39;, om2&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk485" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk485">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>label_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>input_valid_transition X lX (s, om) (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project s&#39; = state_project s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (Htransition_None _ H _ _ _ _ H0).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk486" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk486">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop projection_induced_vlsm
  (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk487" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk487"><span class="kr">exists</span> <span class="nv">s</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project s = state_project s
‚àß vinitial_state_prop X s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">split</span>; [<span class="bp">reflexivity</span>|<span class="bp">assumption</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk488" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk488">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid X lX (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop projection_induced_vlsm m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk489" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk489"><span class="nb">destruct</span> Hv <span class="kr">as</span> [_ [Hm _]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop projection_induced_vlsm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48a"><span class="nb">apply</span> initial_message_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Htransition_Some</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>vlabel projection_induced_vlsm</span></span></span><br><span><var>HlX</var><span class="hyp-type"><b>: </b><span>label_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop X (Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop projection_induced_vlsm
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">projection_induced_friendliness</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Hlabel_lift</span> : induced_projection_label_lift_prop)
  (<span class="nv">Hstate_lift</span> : induced_projection_state_lift_prop)
  (<span class="nv">Htransition_consistency</span> : induced_projection_transition_consistency_Some)
  (<span class="nv">Htransition_Some</span>  : weak_projection_transition_consistency_Some
    := basic_weak_projection_transition_consistency_Some Hlabel_lift Hstate_lift Htransition_consistency)
  (<span class="nv">Hproj</span> := projection_induced_vlsm_is_projection Htransition_Some)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48b"><span class="kn">Lemma</span> <span class="nf">induced_projection_transition_item_lift</span>
  (<span class="nv">item</span> : @transition_item _ TY)
  : @pre_VLSM_projection_transition_item_project _ (type X) _
    label_project state_project
    (pre_VLSM_full_projection_trace_item_project _ _ label_lift state_lift item)
    = Some item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_transition_item_project (type X)
  TY label_project state_project
  (pre_VLSM_full_projection_trace_item_project TY
     (type X) label_lift state_lift item) = Some item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_transition_item_project (type X)
  TY label_project state_project
  (pre_VLSM_full_projection_trace_item_project TY
     (type X) label_lift state_lift item) = Some item</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48d"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_transition_item_project (type X)
  TY label_project state_project
  (pre_VLSM_full_projection_trace_item_project TY
     (type X) label_lift state_lift
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) =
Some
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48e"><span class="nb">unfold</span> pre_VLSM_full_projection_trace_item_project,
    pre_VLSM_projection_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  label_project
    (VLSM.l
       {|
         l :=
           label_lift
             (VLSM.l
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |});
         input :=
           VLSM.input
             {|
               l := l;
               input := input;
               destination := destination;
               output := output
             |};
         destination :=
           state_lift
             (VLSM.destination
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |});
         output :=
           VLSM.output
             {|
               l := l;
               input := input;
               destination := destination;
               output := output
             |}
       |})
<span class="kr">with</span>
| Some lY =&gt;
    Some
      {|
        l := lY;
        input :=
          VLSM.input
            {|
              l :=
                label_lift
                  (VLSM.l
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |});
              input :=
                VLSM.input
                  {|
                    l := l;
                    input := input;
                    destination := destination;
                    output := output
                  |};
              destination :=
                state_lift
                  (VLSM.destination
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |});
              output :=
                VLSM.output
                  {|
                    l := l;
                    input := input;
                    destination := destination;
                    output := output
                  |}
            |};
        destination :=
          state_project
            (VLSM.destination
               {|
                 l :=
                   label_lift
                     (VLSM.l
                        {|
                          l := l;
                          input := input;
                          destination := destination;
                          output := output
                        |});
                 input :=
                   VLSM.input
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |};
                 destination :=
                   state_lift
                     (VLSM.destination
                        {|
                          l := l;
                          input := input;
                          destination := destination;
                          output := output
                        |});
                 output :=
                   VLSM.output
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |}
               |});
        output :=
          VLSM.output
            {|
              l :=
                label_lift
                  (VLSM.l
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |});
              input :=
                VLSM.input
                  {|
                    l := l;
                    input := input;
                    destination := destination;
                    output := output
                  |};
              destination :=
                state_lift
                  (VLSM.destination
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |});
              output :=
                VLSM.output
                  {|
                    l := l;
                    input := input;
                    destination := destination;
                    output := output
                  |}
            |}
      |}
| None =&gt; None
<span class="kr">end</span> =
Some
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk48f" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk48f"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> label_project (label_lift l) <span class="kr">with</span>
| Some lY =&gt;
    Some
      {|
        l := lY;
        input := input;
        destination :=
          state_project (state_lift destination);
        output := output
      |}
| None =&gt; None
<span class="kr">end</span> =
Some
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk490" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk490"><span class="nb">rewrite</span> Hlabel_lift.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  {|
    l := l;
    input := input;
    destination :=
      state_project (state_lift destination);
    output := output
  |} =
Some
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk491" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk491"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{|
  l := l;
  input := input;
  destination :=
    state_project (state_lift destination);
  output := output
|} =
{|
  l := l;
  input := input;
  destination := destination;
  output := output
|}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk492" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk492"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project (state_lift destination) = destination</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Hstate_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk493" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk493"><span class="kn">Lemma</span> <span class="nf">induced_projection_trace_lift</span>
  (<span class="nv">tr</span> : list (@transition_item _ TY))
  : @pre_VLSM_projection_trace_project _ (type X) _
    label_project state_project
    (pre_VLSM_full_projection_finite_trace_project _ _ label_lift state_lift tr)
    = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (type X) TY
  label_project state_project
  (pre_VLSM_full_projection_finite_trace_project TY
     (type X) label_lift state_lift tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk494" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk494"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (type X) TY
  label_project state_project
  (pre_VLSM_full_projection_finite_trace_project TY
     (type X) label_lift state_lift tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk495" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk495"><span class="nb">induction</span> tr; [<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_trace_project 
  (type X) TY label_project state_project
  (pre_VLSM_full_projection_finite_trace_project
     TY (type X) label_lift state_lift tr) = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (type X) TY
  label_project state_project
  (pre_VLSM_full_projection_finite_trace_project TY
     (type X) label_lift state_lift (a :: tr)) =
a :: tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk496" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk496"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_trace_project 
  (type X) TY label_project state_project
  (pre_VLSM_full_projection_finite_trace_project
     TY (type X) label_lift state_lift tr) = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  pre_VLSM_projection_transition_item_project (type X)
    TY label_project state_project
    (pre_VLSM_full_projection_trace_item_project TY
       (type X) label_lift state_lift a)
<span class="kr">with</span>
| Some b =&gt;
    b
    :: pre_VLSM_projection_trace_project (type X) TY
         label_project state_project
         (pre_VLSM_full_projection_finite_trace_project
            TY (type X) label_lift state_lift tr)
| None =&gt;
    pre_VLSM_projection_trace_project (type X) TY
      label_project state_project
      (pre_VLSM_full_projection_finite_trace_project
         TY (type X) label_lift state_lift tr)
<span class="kr">end</span> = a :: tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk497" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk497"><span class="nb">rewrite</span> induced_projection_transition_item_lift.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_trace_project 
  (type X) TY label_project state_project
  (pre_VLSM_full_projection_finite_trace_project
     TY (type X) label_lift state_lift tr) = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a
:: pre_VLSM_projection_trace_project (type X) TY
     label_project state_project
     (pre_VLSM_full_projection_finite_trace_project TY
        (type X) label_lift state_lift tr) = a :: tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk498" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk498"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHtr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_projection_trace_project 
  (type X) TY label_project state_project
  (pre_VLSM_full_projection_finite_trace_project
     TY (type X) label_lift state_lift tr) = tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pre_VLSM_projection_trace_project (type X) TY
  label_project state_project
  (pre_VLSM_full_projection_finite_trace_project TY
     (type X) label_lift state_lift tr) = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If there is a way to "lift" valid traces of the <span class="inlinecode"><span class="id" title="var">projection_induced_vlsm</span></span>
to the original <span class="inlinecode"><span class="id" title="var">VLSM</span></span>, then the induced <span class="inlinecode"><span class="id" title="var">VLSM_projection</span></span> is friendly.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk499" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk499"><span class="kn">Lemma</span> <span class="nf">basic_projection_induces_friendliness</span>
  : VLSM_full_projection projection_induced_vlsm X label_lift state_lift -&gt;
    projection_friendly_prop Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection projection_induced_vlsm X
  label_lift state_lift
‚Üí projection_friendly_prop Hproj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk49a" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk49a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection projection_induced_vlsm X
  label_lift state_lift
‚Üí projection_friendly_prop Hproj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk49b" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk49b"><span class="nb">intros</span> Hfull_proj isY trY HtrY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">sX</span> : vstate X) (<span class="nv">trX</span> : list (vtransition_item X)),
  finite_valid_trace X sX trX
  ‚àß state_project sX = isY
    ‚àß VLSM_projection_trace_project Hproj trX = trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk49c" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk49c"><span class="kr">exists</span> (<span class="nv">state_lift</span> <span class="nv">isY</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">trX</span> : list (vtransition_item X),
  finite_valid_trace X (state_lift isY) trX
  ‚àß state_project (state_lift isY) = isY
    ‚àß VLSM_projection_trace_project Hproj trX = trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk49d" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk49d"><span class="kr">exists</span> (<span class="nv">VLSM_full_projection_finite_trace_project</span> <span class="nv">Hfull_proj</span> <span class="nv">trY</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X (state_lift isY)
  (VLSM_full_projection_finite_trace_project
     Hfull_proj trY)
‚àß state_project (state_lift isY) = isY
  ‚àß VLSM_projection_trace_project Hproj
      (VLSM_full_projection_finite_trace_project
         Hfull_proj trY) = trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk49e" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk49e"><span class="nb">intuition</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X (state_lift isY)
  (VLSM_full_projection_finite_trace_project
     Hfull_proj trY)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk49f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk49f"><hr></label><div class="goal-conclusion">VLSM_projection_trace_project Hproj
  (VLSM_full_projection_finite_trace_project
     Hfull_proj trY) = trY</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace X (state_lift isY)
  (VLSM_full_projection_finite_trace_project
     Hfull_proj trY)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a1"><span class="nb">apply</span> (VLSM_full_projection_finite_valid_trace Hfull_proj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace projection_induced_vlsm isY trY</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>vlabel X ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>vstate X ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project
  (type X) TY label_project
  state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí vlabel X</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí vstate X</span></span></span><br><span><var>Htransition_None</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_None
  X TY label_project state_project</span></span></span><br><span><var>Htype</var><span><span class="hyp-body"><b>:= </b><span>basic_VLSM_projection_type X TY label_project
  state_project Htransition_None</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection_type X TY label_project
  state_project</span></span></span></span><br><span><var>Hlabel_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_label_lift_prop</span></span></span><br><span><var>Hstate_lift</var><span class="hyp-type"><b>: </b><span>induced_projection_state_lift_prop</span></span></span><br><span><var>Htransition_consistency</var><span class="hyp-type"><b>: </b><span>induced_projection_transition_consistency_Some</span></span></span><br><span><var>Htransition_Some</var><span><span class="hyp-body"><b>:= </b><span>basic_weak_projection_transition_consistency_Some
  Hlabel_lift Hstate_lift
  Htransition_consistency</span></span><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some</span></span></span></span><br><span><var>Hproj</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm_is_projection
  Htransition_Some</span></span><span class="hyp-type"><b>: </b><span>VLSM_projection X projection_induced_vlsm
  label_project state_project</span></span></span></span><br><span><var>Hfull_proj</var><span class="hyp-type"><b>: </b><span>VLSM_full_projection
  projection_induced_vlsm X label_lift
  state_lift</span></span></span><br><span><var>isY</var><span class="hyp-type"><b>: </b><span>vstate projection_induced_vlsm</span></span></span><br><span><var>trY</var><span class="hyp-type"><b>: </b><span>list (vtransition_item projection_induced_vlsm)</span></span></span><br><span><var>HtrY</var><span class="hyp-type"><b>: </b><span>finite_valid_trace projection_induced_vlsm isY
  trY</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection_trace_project Hproj
  (VLSM_full_projection_finite_trace_project
     Hfull_proj trY) = trY</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> induced_projection_trace_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_induced_friendliness</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">projection_induced_vlsm</span>.</span></span></pre><div class="doc">
Under <span class="inlinecode"><span class="id" title="var">weak_projection_transition_consistency_Some</span></span> assumptions,
<span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span>usion between source <span class="inlinecode"><span class="id" title="var">VLSM</span></span>s implies <span class="inlinecode"><span class="id" title="var">VLSM_incl</span></span>usion between
their projections induced by the same maps.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a3"><span class="kn">Lemma</span> <span class="nf">projection_induced_vlsm_incl</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">TX</span> : VLSMType message}
  {<span class="nv">SigX1</span> <span class="nv">SigX2</span>: VLSMSign TX}
  (<span class="nv">MX1</span> : VLSMClass SigX1) (<span class="nv">MX2</span> : VLSMClass SigX2)
  (<span class="nv">X1</span> := mk_vlsm MX1) (<span class="nv">X2</span> := mk_vlsm MX2)
  (<span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : @label _ TX -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : @state _ TX -&gt; @state _ TY)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  (<span class="nv">label_lift</span> : @label _ TY -&gt; @label _ TX)
  (<span class="nv">state_lift</span> : @state _ TY -&gt; @state _ TX)
  (<span class="nv">XY1</span> : VLSM message := projection_induced_vlsm X1 TY label_project state_project label_lift state_lift)
  (<span class="nv">XY2</span> : VLSM message := projection_induced_vlsm X2 TY label_project state_project label_lift state_lift)
  (<span class="nv">Htransition_Some1</span> : weak_projection_transition_consistency_Some X1 TY label_project state_project label_lift state_lift)
  (<span class="nv">Htransition_Some2</span> : weak_projection_transition_consistency_Some X2 TY label_project state_project label_lift state_lift)
  : VLSM_incl X1 X2 -&gt; VLSM_incl XY1 XY2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X1 X2 ‚Üí VLSM_incl XY1 XY2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl X1 X2 ‚Üí VLSM_incl XY1 XY2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a5"><span class="nb">intros</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl XY1 XY2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a6"><span class="nb">apply</span> VLSM_incl_finite_traces_characterization.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate
         (mk_vlsm
            (projection_induced_vlsm_class X1 TY
               label_project state_project label_lift
               state_lift))) (<span class="nv">tr</span> : list
                                     (vtransition_item
                                        (mk_vlsm
                                           (projection_induced_vlsm_class
                                              X1 TY
                                              label_project
                                              state_project
                                              label_lift
                                              state_lift)))),
  finite_valid_trace
    (mk_vlsm
       (projection_induced_vlsm_class X1 TY
          label_project state_project label_lift
          state_lift)) s tr
  ‚Üí finite_valid_trace
      (mk_vlsm
         (projection_induced_vlsm_class X2 TY
            label_project state_project label_lift
            state_lift)) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a7"><span class="nb">assert</span> (His : <span class="kr">forall</span> <span class="nv">s</span>, vinitial_state_prop XY1 s -&gt; vinitial_state_prop XY2 s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4a8"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate
         (mk_vlsm
            (projection_induced_vlsm_class X1 TY
               label_project state_project label_lift
               state_lift))) 
  (<span class="nv">tr</span> : list
          (vtransition_item
             (mk_vlsm
                (projection_induced_vlsm_class X1 TY
                   label_project state_project
                   label_lift state_lift)))),
  finite_valid_trace
    (mk_vlsm
       (projection_induced_vlsm_class X1 TY
          label_project state_project label_lift
          state_lift)) s tr
  ‚Üí finite_valid_trace
      (mk_vlsm
         (projection_induced_vlsm_class X2 TY
            label_project state_project label_lift
            state_lift)) s tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4a9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4a9">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4aa" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4aa"><span class="nb">intros</span> <span class="kr">is</span> [s1 [Hs1_pr Hs1]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>Hs1_pr</var><span class="hyp-type"><b>: </b><span>state_project s1 = <span class="kr">is</span></span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X1 s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop XY2 <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ab" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ab"><span class="kr">exists</span> <span class="nv">s1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>Hs1_pr</var><span class="hyp-type"><b>: </b><span>state_project s1 = <span class="kr">is</span></span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X1 s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project s1 = <span class="kr">is</span> ‚àß vinitial_state_prop X2 s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ac" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ac"><span class="nb">split</span>; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>Hs1_pr</var><span class="hyp-type"><b>: </b><span>state_project s1 = <span class="kr">is</span></span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>vinitial_state_prop X1 s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X2 s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> VLSM_incl_initial_state; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ad" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ad">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : vstate
         (mk_vlsm
            (projection_induced_vlsm_class X1 TY
               label_project state_project label_lift
               state_lift))) (<span class="nv">tr</span> : list
                                     (vtransition_item
                                        (mk_vlsm
                                           (projection_induced_vlsm_class
                                              X1 TY
                                              label_project
                                              state_project
                                              label_lift
                                              state_lift)))),
  finite_valid_trace
    (mk_vlsm
       (projection_induced_vlsm_class X1 TY
          label_project state_project label_lift
          state_lift)) s tr
  ‚Üí finite_valid_trace
      (mk_vlsm
         (projection_induced_vlsm_class X2 TY
            label_project state_project label_lift
            state_lift)) s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ae" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ae"><span class="nb">intros</span> <span class="kr">is</span> tr Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (projection_induced_vlsm_class X1 TY
           label_project state_project label_lift
           state_lift)))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4af" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4af"><span class="nb">split</span>; [|<span class="nb">apply</span> His, Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>vstate
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list
  (vtransition_item
     (mk_vlsm
        (projection_induced_vlsm_class X1 TY
           label_project state_project label_lift
           state_lift)))</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) <span class="kr">is</span> tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b0"><span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_rev_ind
  ; [<span class="nb">apply</span> (finite_valid_trace_from_empty XY2), initial_state_is_valid, His; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si (tr ++ [x])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b1"><span class="nb">apply</span> (finite_valid_trace_from_app_iff XY2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from XY2 si tr
‚àß finite_valid_trace_from XY2
    (finite_trace_last si tr) [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b2"><span class="nb">split</span>; [<span class="nb">apply</span> IHHtr|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from XY2 (finite_trace_last si tr)
  [x]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b3"><span class="nb">apply</span> (finite_valid_trace_singleton XY2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) l
  (finite_trace_last si tr, iom) 
  (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom) (sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b4" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b4"><span class="nb">destruct</span> Hx <span class="kr">as</span> [[_ [_ [lX [sX [HlX_pr [HsX_pr HpvX1]]]]]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last si tr, iom) =
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom) (sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b5"><span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   vtransition X1 (label_lift l)
     (state_lift (finite_trace_last si tr), iom) <span class="kr">in</span>
 (state_project s&#39;X, om&#39;)) = 
(sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom) (sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b6"><span class="nb">destruct</span> (vtransition _ _ _) <span class="kr">as</span> (_s&#39;X, _oom) <span class="nb">eqn</span>:H_tX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_project _s&#39;X, _oom) = (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom) (sf, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b7"><span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_project _s&#39;X, _oom) = (sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>state_project _s&#39;X = sf</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b8"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_project _s&#39;X, oom) =
(state_project _s&#39;X, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4b9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4b9"><span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ba" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ba"><span class="nb">destruct</span> (vtransition X1 lX (sX, iom)) <span class="kr">as</span> (s&#39;X, _oom) <span class="nb">eqn</span>:HtX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4bb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4bb"><span class="nb">assert</span> (HivtX1 : input_valid_transition X1 lX (sX, iom) (s&#39;X, _oom))
    <span class="bp">by</span> (<span class="nb">split</span>; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, _oom)</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition X1 lX 
  (sX, iom) (s&#39;X, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4bc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4bc"><span class="nb">simpl</span> <span class="kr">in</span> HsX_pr, H_tX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (finite_trace_last si tr), iom) =
(_s&#39;X, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, _oom)</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition X1 lX 
  (sX, iom) (s&#39;X, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4bd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4bd"><span class="nb">rewrite</span> &lt;- HsX_pr <span class="kr">in</span> H_tX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>H_tX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 (label_lift l)
  (state_lift (state_project sX), iom) =
(_s&#39;X, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, _oom)</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition X1 lX 
  (sX, iom) (s&#39;X, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4be" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4be"><span class="nb">apply</span> (Htransition_Some1 _ _ HlX_pr _ _ _ _ HivtX1) <span class="kr">in</span> H_tX1
    <span class="kr">as</span> [Heq_s&#39;X_pr Heq_oom].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, _oom)</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition X1 lX 
  (sX, iom) (s&#39;X, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4bf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4bf"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition X1 lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c0"><span class="nb">apply</span> (VLSM_incl_input_valid_transition Hincl) <span class="kr">in</span> HivtX1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition XY2 l
  (finite_trace_last si tr, iom)
  (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c1"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop XY2 (finite_trace_last si tr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4c2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4c2"><hr></label><div class="goal-conclusion">option_valid_message_prop XY2 iom</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4c3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4c3"><hr></label><div class="goal-conclusion">valid l (finite_trace_last si tr, iom)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4c4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4c4"><hr></label><div class="goal-conclusion">transition l (finite_trace_last si tr, iom) =
(state_project _s&#39;X, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop XY2 (finite_trace_last si tr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> finite_valid_trace_last_pstate; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop XY2 iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> projection_induced_valid_message_char; [<span class="bp">assumption</span>| <span class="nb">apply</span> HivtX1].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid l (finite_trace_last si tr, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c8"><span class="kr">exists</span> <span class="nv">lX</span>, sX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">label_project lX = Some l
‚àß state_project sX = finite_trace_last si tr
  ‚àß input_valid X2 lX (sX, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4c9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4c9"><span class="nb">intuition</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid X2 lX (sX, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> HivtX1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ca" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl X1 X2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  vinitial_state_prop XY1 s
  ‚Üí vinitial_state_prop XY2 s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>input_valid X1 lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm (machine X2)) lX 
  (sX, iom) (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition l (finite_trace_last si tr, iom) =
(state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4cb" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4cb"><span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX1 MX2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  projection_induced_initial_state_prop X1 TY
    state_project s
  ‚Üí projection_induced_initial_state_prop X2 TY
      state_project s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>valid_state_prop X1 sX
‚àß option_valid_message_prop X1 iom
  ‚àß valid lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm MX2) lX (sX, iom) 
  (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   vtransition X2 (label_lift l)
     (state_lift (finite_trace_last si tr), iom) <span class="kr">in</span>
 (state_project s&#39;X, om&#39;)) = (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4cc" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4cc"><span class="nb">rewrite</span> &lt;- HsX_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX1 MX2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  projection_induced_initial_state_prop X1 TY
    state_project s
  ‚Üí projection_induced_initial_state_prop X2 TY
      state_project s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>valid_state_prop X1 sX
‚àß option_valid_message_prop X1 iom
  ‚àß valid lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm MX2) lX (sX, iom) 
  (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">s&#39;X</span>, om&#39;) :=
   vtransition X2 (label_lift l)
     (state_lift (state_project sX), iom) <span class="kr">in</span>
 (state_project s&#39;X, om&#39;)) = (state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4cd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4cd"><span class="nb">destruct</span> (vtransition X2 _ _) <span class="kr">as</span> (_s&#39;X2, _oom) <span class="nb">eqn</span>:H_tX2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX1 MX2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  projection_induced_initial_state_prop X1 TY
    state_project s
  ‚Üí projection_induced_initial_state_prop X2 TY
      state_project s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>valid_state_prop X1 sX
‚àß option_valid_message_prop X1 iom
  ‚àß valid lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm MX2) lX (sX, iom) 
  (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br><span><var>_s'X2</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H_tX2</var><span class="hyp-type"><b>: </b><span>vtransition X2 (label_lift l)
  (state_lift (state_project sX), iom) =
(_s&#39;X2, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project _s&#39;X2, _oom) =
(state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4ce" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4ce"><span class="nb">apply</span> (Htransition_Some2 _ _ HlX_pr _ _ _ _ HivtX1) <span class="kr">in</span> H_tX2
      <span class="kr">as</span> [Heq_s&#39;X_pr&#39; Heq_oom].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>VLSM_incl_part MX1 MX2</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state,
  projection_induced_initial_state_prop X1 TY
    state_project s
  ‚Üí projection_induced_initial_state_prop X2 TY
      state_project s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>vlabel X1</span></span></span><br><span><var>sX</var><span class="hyp-type"><b>: </b><span>vstate X1</span></span></span><br><span><var>HlX_pr</var><span class="hyp-type"><b>: </b><span>label_project lX = Some l</span></span></span><br><span><var>HsX_pr</var><span class="hyp-type"><b>: </b><span>state_project sX = finite_trace_last si tr</span></span></span><br><span><var>HpvX1</var><span class="hyp-type"><b>: </b><span>valid_state_prop X1 sX
‚àß option_valid_message_prop X1 iom
  ‚àß valid lX (sX, iom)</span></span></span><br><span><var>_s'X, s'X</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Heq_s'X_pr</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := state_project _s&#39;X;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift)) si tr</span></span></span><br><span><var>HivtX1</var><span class="hyp-type"><b>: </b><span>input_valid_transition 
  (mk_vlsm MX2) lX (sX, iom) 
  (s&#39;X, oom)</span></span></span><br><span><var>HtX1</var><span class="hyp-type"><b>: </b><span>vtransition X1 lX (sX, iom) = (s&#39;X, oom)</span></span></span><br><span><var>_s'X2</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Heq_s'X_pr'</var><span class="hyp-type"><b>: </b><span>state_project s&#39;X = state_project _s&#39;X2</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>oom = _oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_project _s&#39;X2, _oom) =
(state_project _s&#39;X, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Under <span class="inlinecode"><span class="id" title="var">weak_projection_transition_consistency_Some</span></span> assumptions,
<span class="inlinecode"><span class="id" title="var">VLSM_eq</span></span>uality between source <span class="inlinecode"><span class="id" title="var">VLSM</span></span>s implies <span class="inlinecode"><span class="id" title="var">VLSM_eq</span></span>uality between
their projections induced by the same maps.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4cf" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4cf"><span class="kn">Lemma</span> <span class="nf">projection_induced_vlsm_eq</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  {<span class="nv">TX</span> : VLSMType message}
  {<span class="nv">SigX1</span> <span class="nv">SigX2</span>: VLSMSign TX}
  (<span class="nv">MX1</span> : VLSMClass SigX1) (<span class="nv">MX2</span> : VLSMClass SigX2)
  (<span class="nv">X1</span> := mk_vlsm MX1) (<span class="nv">X2</span> := mk_vlsm MX2)
  (<span class="nv">TY</span> : VLSMType message)
  (<span class="nv">label_project</span> : @label _ TX -&gt; option (@label _ TY))
  (<span class="nv">state_project</span> : @state _ TX -&gt; @state _ TY)
  (<span class="nv">trace_project</span> := pre_VLSM_projection_trace_project _ _ label_project state_project)
  (<span class="nv">label_lift</span> : @label _ TY -&gt; @label _ TX)
  (<span class="nv">state_lift</span> : @state _ TY -&gt; @state _ TX)
  (<span class="nv">XY1</span> : VLSM message := projection_induced_vlsm X1 TY label_project state_project label_lift state_lift)
  (<span class="nv">XY2</span> : VLSM message := projection_induced_vlsm X2 TY label_project state_project label_lift state_lift)
  (<span class="nv">Htransition_Some1</span> : weak_projection_transition_consistency_Some X1 TY label_project state_project label_lift state_lift)
  (<span class="nv">Htransition_Some2</span> : weak_projection_transition_consistency_Some X2 TY label_project state_project label_lift state_lift)
  : VLSM_eq X1 X2 -&gt; VLSM_eq XY1 XY2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X1 X2 ‚Üí VLSM_eq XY1 XY2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq X1 X2 ‚Üí VLSM_eq XY1 XY2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d1"><span class="nb">intro</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_eq XY1 XY2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d2" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d2"><span class="nb">apply</span> VLSM_eq_incl_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift))
‚àß VLSM_incl
    (mk_vlsm
       (projection_induced_vlsm_class X2 TY
          label_project state_project label_lift
          state_lift))
    (mk_vlsm
       (projection_induced_vlsm_class X1 TY
          label_project state_project label_lift
          state_lift))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d3" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d3"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4d4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X1 X2</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4d4"><hr></label><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift))
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d5" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span>
    (projection_induced_vlsm_incl MX1 MX2 TY
      label_project state_project label_lift state_lift
      Htransition_Some1 Htransition_Some2 (VLSM_eq_proj1 Heq)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d6" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>TX</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>SigX1, SigX2</var><span class="hyp-type"><b>: </b><span>VLSMSign TX</span></span></span><br><span><var>MX1</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX1</span></span></span><br><span><var>MX2</var><span class="hyp-type"><b>: </b><span>VLSMClass SigX2</span></span></span><br><span><var>X1</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX1</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>X2</var><span><span class="hyp-body"><b>:= </b><span>mk_vlsm MX2</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>TY</var><span class="hyp-type"><b>: </b><span>VLSMType message</span></span></span><br><span><var>label_project</var><span class="hyp-type"><b>: </b><span>label ‚Üí option label</span></span></span><br><span><var>state_project</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>trace_project</var><span><span class="hyp-body"><b>:= </b><span>pre_VLSM_projection_trace_project TX TY
  label_project state_project</span></span><span class="hyp-type"><b>: </b><span>list transition_item
‚Üí list transition_item</span></span></span></span><br><span><var>label_lift</var><span class="hyp-type"><b>: </b><span>label ‚Üí label</span></span></span><br><span><var>state_lift</var><span class="hyp-type"><b>: </b><span>state ‚Üí state</span></span></span><br><span><var>XY1</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X1 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>XY2</var><span><span class="hyp-body"><b>:= </b><span>projection_induced_vlsm X2 TY label_project
  state_project label_lift state_lift</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Htransition_Some1</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X1 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Htransition_Some2</var><span class="hyp-type"><b>: </b><span>weak_projection_transition_consistency_Some
  X2 TY label_project
  state_project label_lift
  state_lift</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>VLSM_eq X1 X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (mk_vlsm
     (projection_induced_vlsm_class X2 TY
        label_project state_project label_lift
        state_lift))
  (mk_vlsm
     (projection_induced_vlsm_class X1 TY
        label_project state_project label_lift
        state_lift))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span>
    (projection_induced_vlsm_incl MX2 MX1 TY
      label_project state_project label_lift state_lift
      Htransition_Some2 Htransition_Some1 (VLSM_eq_proj2 Heq)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">same_VLSM_full_projection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X1</span> <span class="nv">X2</span> : VLSM message)
  (<span class="nv">Heq</span> : X1 = X2)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d7" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d7"><span class="kn">Lemma</span> <span class="nf">same_VLSM_full_projection</span>
  : VLSM_full_projection X1 X2 (same_VLSM_label_rew Heq) (same_VLSM_state_rew Heq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X1 X2 (same_VLSM_label_rew Heq)
  (same_VLSM_state_rew Heq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d8" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection X1 X2 (same_VLSM_label_rew Heq)
  (same_VLSM_state_rew Heq)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4d9" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4d9"><span class="nb">apply</span> basic_VLSM_strong_full_projection; <span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  vvalid X1 l (s, om)
  ‚Üí vvalid X2 (same_VLSM_label_rew Heq l)
      (same_VLSM_state_rew Heq s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4da" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4da"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) 
  (<span class="nv">s&#39;</span> : state) (<span class="nv">om&#39;</span> : option message),
  vtransition X1 l (s, om) = (s&#39;, om&#39;)
  ‚Üí vtransition X2 (same_VLSM_label_rew Heq l)
      (same_VLSM_state_rew Heq s, om) =
    (same_VLSM_state_rew Heq s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4db" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4db"><hr></label><div class="goal-conclusion">vinitial_state_prop X1 s
‚Üí vinitial_state_prop X2 (same_VLSM_state_rew Heq s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="VLSMProjections-v-chk4dc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="VLSMProjections-v-chk4dc"><hr></label><div class="goal-conclusion">vinitial_message_prop X1 m
‚Üí vinitial_message_prop X2 m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4dd" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4dd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message),
  vvalid X1 l (s, om)
  ‚Üí vvalid X2 (same_VLSM_label_rew Heq l)
      (same_VLSM_state_rew Heq s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> same_VLSM_valid_preservation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4de" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4de">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state) (<span class="nv">om</span> : option message) (<span class="nv">s&#39;</span> : state) (<span class="nv">om&#39;</span> : 
                                                 option
                                                 message),
  vtransition X1 l (s, om) = (s&#39;, om&#39;)
  ‚Üí vtransition X2 (same_VLSM_label_rew Heq l)
      (same_VLSM_state_rew Heq s, om) =
    (same_VLSM_state_rew Heq s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> same_VLSM_transition_preservation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4df" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4df">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_state_prop X1 s
‚Üí vinitial_state_prop X2 (same_VLSM_state_rew Heq s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> same_VLSM_initial_state_preservation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4e0" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4e0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vinitial_message_prop X1 m
‚Üí vinitial_message_prop X2 m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="VLSMProjections-v-chk4e1" style="display: none" type="checkbox"><label class="alectryon-input" for="VLSMProjections-v-chk4e1"><span class="nb">apply</span> same_VLSM_initial_message_preservation.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X1, X2</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>X1 = X2</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">X1 = X2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">same_VLSM_full_projection</span>.</span></span></pre></article></body></html>