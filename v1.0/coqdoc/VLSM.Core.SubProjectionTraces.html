<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"><script>document.write(document.title)</script></span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">stdpp</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">prelude</span> <span class="id" title="library">finite</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#"><span class="id" title="library">FunctionalExtensionality</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FinFun.html#"><span class="id" title="library">FinFun</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.Eqdep.html#"><span class="id" title="library">Eqdep</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Lib.Preamble.html#"><span class="id" title="library">Lib.Preamble</span></a> <a class="idref" href="VLSM.Lib.ListExtras.html#"><span class="id" title="library">Lib.ListExtras</span></a> <a class="idref" href="VLSM.Lib.StdppListSet.html#"><span class="id" title="library">Lib.StdppListSet</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">VLSM</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="VLSM.Core.VLSM.html#"><span class="id" title="library">Core.VLSM</span></a> <a class="idref" href="VLSM.Core.VLSMProjections.html#"><span class="id" title="library">Core.VLSMProjections</span></a> <a class="idref" href="VLSM.Core.ProjectionTraces.html#"><span class="id" title="library">Core.ProjectionTraces</span></a> <a class="idref" href="VLSM.Core.Composition.html#"><span class="id" title="library">Core.Composition</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#"><span class="id" title="library">Core.Equivocation</span></a> <a class="idref" href="VLSM.Core.EquivocationProjections.html#"><span class="id" title="library">Core.EquivocationProjections</span></a> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#"><span class="id" title="library">Core.Equivocation.NoEquivocation</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab82"></a><h1 class="section">VLSM Subcomposition</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition" class="idref" href="#sub_composition"><span class="id" title="section">sub_composition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:1" class="idref" href="#message:1"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:2" class="idref" href="#index:2"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:3" class="idref" href="#IndEqDec:3"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:4" class="idref" href="#IM:4"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:1"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index_list:5" class="idref" href="#sub_index_list:5"><span class="id" title="binder">sub_index_list</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:2"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index_prop" class="idref" href="#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a id="i:6" class="idref" href="#i:6"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:6"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="sub_index_prop_dec" class="idref" href="#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a><br/>
&nbsp;&nbsp;(<a id="i:7" class="idref" href="#i:7"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:7"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">decide_rel</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index" class="idref" href="#sub_index"><span class="id" title="definition">sub_index</span></a> : <span class="id" title="keyword">Type</span><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig"><span class="id" title="definition">dec_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM" class="idref" href="#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;(<a id="ei:8" class="idref" href="#ei:8"><span class="id" title="binder">ei</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#ei:8"><span class="id" title="variable">ei</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_state_pi" class="idref" href="#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a><br/>
&nbsp;&nbsp;(<a id="i:9" class="idref" href="#i:9"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:10" class="idref" href="#s:10"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="e1:11" class="idref" href="#e1:11"><span class="id" title="binder">e1</span></a> <a id="e2:12" class="idref" href="#e2:12"><span class="id" title="binder">e2</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:9"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:10"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:9"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e1:11"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:10"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:9"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e2:12"><span class="id" title="variable">e2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#_composite_state"><span class="id" title="definition">_composite_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dsig_f_equal"><span class="id" title="lemma">dsig_f_equal</span></a> (<span class="id" title="keyword">fun</span> <a id="i:14" class="idref" href="#i:14"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:13"><span class="id" title="variable">i</span></a>)) <span class="id" title="var">s</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_state_update_eq" class="idref" href="#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a><br/>
&nbsp;&nbsp;(<a id="i:15" class="idref" href="#i:15"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:16" class="idref" href="#s:16"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="si:17" class="idref" href="#si:17"><span class="id" title="binder">si</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:15"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;(<a id="e1:18" class="idref" href="#e1:18"><span class="id" title="binder">e1</span></a> <a id="e2:19" class="idref" href="#e2:19"><span class="id" title="binder">e2</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:15"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:16"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:15"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e1:18"><span class="id" title="variable">e1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si:17"><span class="id" title="variable">si</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:15"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e2:19"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si:17"><span class="id" title="variable">si</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<span class="id" title="notation">forall</span> <a id="be1:22" class="idref" href="#be1:22"><span class="id" title="binder">be1</span></a> <a id="be2:23" class="idref" href="#be2:23"><span class="id" title="binder">be2</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be1:20"><span class="id" title="variable">be1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be2:21"><span class="id" title="variable">be2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="var">s</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be1:20"><span class="id" title="variable">be1</span></a>) <span class="id" title="var">si</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#be2:21"><span class="id" title="variable">be2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">si</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="definition">proof_irrel</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_vlsm_composition" class="idref" href="#free_sub_vlsm_composition"><span class="id" title="definition">free_sub_vlsm_composition</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="seeded_free_sub_composition" class="idref" href="#seeded_free_sub_composition"><span class="id" title="definition">seeded_free_sub_composition</span></a><br/>
&nbsp;&nbsp;(<a id="messageSet:24" class="idref" href="#messageSet:24"><span class="id" title="binder">messageSet</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;:= <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_vlsm_composition"><span class="id" title="definition">free_sub_vlsm_composition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="m:25" class="idref" href="#m:25"><span class="id" title="binder">m</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#messageSet:24"><span class="id" title="variable">messageSet</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:25"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:25"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_state_sub_projection" class="idref" href="#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:26" class="idref" href="#s:26"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> (<a id="subi:27" class="idref" href="#subi:27"><span class="id" title="binder">subi</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>) =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:26"><span class="id" title="variable">s</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#subi:27"><span class="id" title="variable">subi</span></a>) : <a class="idref" href="VLSM.Core.VLSM.html#vstate"><span class="id" title="definition">vstate</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#subi:27"><span class="id" title="variable">subi</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_initial_state_sub_projection" class="idref" href="#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:28" class="idref" href="#s:28"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:29" class="idref" href="#Hs:29"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:28"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:28"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">i</span>, <span class="id" title="var">Hi</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_label_sub_projection" class="idref" href="#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="l:30" class="idref" href="#l:30"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:31" class="idref" href="#i:31"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:30"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;(<a id="e:32" class="idref" href="#e:32"><span class="id" title="binder">e</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:31"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:31"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#e:32"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:30"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_label" class="idref" href="#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a><br/>
&nbsp;&nbsp;(<a id="l:33" class="idref" href="#l:33"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:33"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:33"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_state_to" class="idref" href="#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a><br/>
&nbsp;&nbsp;(<a id="s0:34" class="idref" href="#s0:34"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:35" class="idref" href="#s:35"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="i:36" class="idref" href="#i:36"><span class="id" title="binder">i</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> @<span class="id" title="definition">decide</span>  (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt;  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:35"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:34"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:36"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_state" class="idref" href="#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> (<span class="id" title="keyword">fun</span> (<a id="n:37" class="idref" href="#n:37"><span class="id" title="binder">n</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#n:37"><span class="id" title="variable">n</span></a>))).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_eq" class="idref" href="#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a><br/>
&nbsp;&nbsp;(<a id="s0:38" class="idref" href="#s0:38"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:39" class="idref" href="#s:39"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;<a id="i:40" class="idref" href="#i:40"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hi:41" class="idref" href="#Hi:41"><span class="id" title="binder">Hi</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:40"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:38"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:39"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:40"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:39"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:40"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hi:41"><span class="id" title="variable">Hi</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_neq" class="idref" href="#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a><br/>
&nbsp;&nbsp;(<a id="s0:42" class="idref" href="#s0:42"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:43" class="idref" href="#s:43"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;<a id="i:44" class="idref" href="#i:44"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hni:45" class="idref" href="#Hni:45"><span class="id" title="binder">Hni</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:44"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:42"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:43"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:44"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:42"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:44"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_state_sub_projection_lift_to" class="idref" href="#composite_state_sub_projection_lift_to"><span class="id" title="lemma">composite_state_sub_projection_lift_to</span></a><br/>
&nbsp;&nbsp;(<a id="s0:46" class="idref" href="#s0:46"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:47" class="idref" href="#s:47"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:46"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:47"><span class="id" title="variable">s</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:47"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_neq_state_update" class="idref" href="#lift_sub_state_to_neq_state_update"><span class="id" title="lemma">lift_sub_state_to_neq_state_update</span></a><br/>
&nbsp;&nbsp;(<a id="s0:48" class="idref" href="#s0:48"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:49" class="idref" href="#s:49"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;<a id="i:50" class="idref" href="#i:50"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;(<a id="Hni:51" class="idref" href="#Hni:51"><span class="id" title="binder">Hni</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:50"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;<a id="si':52" class="idref" href="#si':52"><span class="id" title="binder">si'</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:48"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:49"><span class="id" title="variable">s</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:50"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si':52"><span class="id" title="variable">si'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> (<a class="idref" href="VLSM.Core.Composition.html#state_update"><span class="id" title="definition">state_update</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:48"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:50"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#si':52"><span class="id" title="variable">si'</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:49"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>. <span class="id" title="var">case_decide</span>; [<span class="id" title="var">contradiction</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.sec_induced_sub_projection" class="idref" href="#sub_composition.sec_induced_sub_projection"><span class="id" title="section">sec_induced_sub_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:53" class="idref" href="#constraint:53"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:54" class="idref" href="#X:54"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:53"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="composite_label_sub_projection_option" class="idref" href="#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a><br/>
&nbsp;&nbsp;(<a id="l:55" class="idref" href="#l:55"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:55"><span class="id" title="variable">l</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">i_in</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:55"><span class="id" title="variable">l</span></a> <span class="id" title="var">i_in</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
By restricting the components of a composition to a subset we obtain a
<span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm"><span class="id" title="definition">projection_induced_vlsm</span></a></span>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="induced_sub_projection" class="idref" href="#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm"><span class="id" title="definition">projection_induced_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_consistency_None" class="idref" href="#induced_sub_projection_transition_consistency_None"><span class="id" title="lemma">induced_sub_projection_transition_consistency_None</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#weak_projection_transition_consistency_None"><span class="id" title="definition">weak_projection_transition_consistency_None</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">HlX</span> <span class="id" title="var">sX</span> <span class="id" title="var">om</span> <span class="id" title="var">s'X</span> <span class="id" title="var">om'</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="var">v</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HtX</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">HtX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">discriminate</span>|<span class="id" title="var">contradiction</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_label_sub_projection_option_lift" class="idref" href="#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_label_lift_prop"><span class="id" title="definition">induced_projection_label_lift_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_sigT_eq"><span class="id" title="lemma">dec_sig_sigT_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="keyword">fun</span> <a id="i:57" class="idref" href="#i:57"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:56"><span class="id" title="variable">i</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_state_sub_projection_lift" class="idref" href="#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_state_lift_prop"><span class="id" title="definition">induced_projection_state_lift_prop</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift_to"><span class="id" title="lemma">composite_state_sub_projection_lift_to</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="composite_trace_sub_projection_lift" class="idref" href="#composite_trace_sub_projection_lift"><span class="id" title="lemma">composite_trace_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;(<a id="tr:58" class="idref" href="#tr:58"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>))<br/>
&nbsp;&nbsp;: @<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_trace_project"><span class="id" title="definition">pre_VLSM_projection_trace_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_full_projection_finite_trace_project"><span class="id" title="definition">pre_VLSM_full_projection_finite_trace_project</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:58"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:58"><span class="id" title="variable">tr</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_trace_lift"><span class="id" title="lemma">induced_projection_trace_lift</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_consistency_Some" class="idref" href="#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#induced_projection_transition_consistency_Some"><span class="id" title="definition">induced_projection_transition_consistency_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX1</span> <span class="id" title="var">lX2</span> <span class="id" title="var">lY</span> <span class="id" title="var">HlX1_pr</span> <span class="id" title="var">HlX2_pr</span> <span class="id" title="var">sX1</span> <span class="id" title="var">sX2</span> <span class="id" title="var">HsXeq_pr</span> <span class="id" title="var">iom</span> <span class="id" title="var">sX1'</span> <span class="id" title="var">oom1</span> <span class="id" title="var">Ht1</span> <span class="id" title="var">sX2'</span> <span class="id" title="var">oom2</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">lXi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX1_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX1_pr</span>. <span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX1_pr</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lY</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">_i</span>, <span class="id" title="var">_lXi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>. <span class="id" title="var">case_decide</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H_i</span>; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HlX2_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_sigT_eq_rev"><span class="id" title="lemma">dec_sig_sigT_eq_rev</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="keyword">fun</span> <a id="i:60" class="idref" href="#i:60"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.VLSM.html#vlabel"><span class="id" title="definition">vlabel</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:59"><span class="id" title="variable">i</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">HlX2_pr</span> <span class="id" title="keyword">as</span> -&gt;.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal_dep</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HsXeq_pri</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pri</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht1</span>, <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HsXeq_pri</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht2</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">f_equal_dep</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">sub_j</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HsXeq_pr</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="weak_induced_sub_projection_transition_consistency_Some" class="idref" href="#weak_induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">weak_induced_sub_projection_transition_consistency_Some</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#weak_projection_transition_consistency_Some"><span class="id" title="definition">weak_projection_transition_consistency_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_weak_projection_transition_consistency_Some"><span class="id" title="lemma">basic_weak_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
The <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a></span> is actually a <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a></span> of the
original composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_is_projection" class="idref" href="#induced_sub_projection_is_projection"><span class="id" title="lemma">induced_sub_projection_is_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm_is_projection"><span class="id" title="lemma">projection_induced_vlsm_is_projection</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_None"><span class="id" title="lemma">induced_sub_projection_transition_consistency_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#weak_induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">weak_induced_sub_projection_transition_consistency_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_valid_projection" class="idref" href="#induced_sub_projection_valid_projection"><span class="id" title="lemma">induced_sub_projection_valid_projection</span></a> <a id="l:61" class="idref" href="#l:61"><span class="id" title="binder">l</span></a> <a id="s:62" class="idref" href="#s:62"><span class="id" title="binder">s</span></a> <a id="om:63" class="idref" href="#om:63"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:64" class="idref" href="#Hv:64"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:61"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:62"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:63"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:65" class="idref" href="#i:65"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:65"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_index_list"><span class="id" title="variable">sub_index_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="l:66" class="idref" href="#l:66"><span class="id" title="binder">l</span></a> <a id="s:67" class="idref" href="#s:67"><span class="id" title="binder">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.VLSM.html#input_valid"><span class="id" title="definition">input_valid</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:65"><span class="id" title="variable">i</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:66"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:67"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:63"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lX</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">HlX</span> [<span class="id" title="var">Heqs</span> [<span class="id" title="var">HsX</span> [<span class="id" title="var">Hom</span> <span class="id" title="var">Hv</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">_li</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection"><span class="id" title="definition">composite_label_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">HlX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HlX</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">simpl_existT</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">li</span>, (<span class="id" title="var">sX</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_valid_state"><span class="id" title="definition">VLSM_projection_valid_state</span></a> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection.constraint"><span class="id" title="variable">constraint</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sec_induced_sub_projection"><span class="id" title="section">sec_induced_sub_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.induced_sub_projection_subsumption" class="idref" href="#sub_composition.induced_sub_projection_subsumption"><span class="id" title="section">induced_sub_projection_subsumption</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint1:68" class="idref" href="#constraint1:68"><span class="id" title="binder">constraint1</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="constraint2:69" class="idref" href="#constraint2:69"><span class="id" title="binder">constraint2</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_constraint_subsumption_incl" class="idref" href="#induced_sub_projection_constraint_subsumption_incl"><span class="id" title="lemma">induced_sub_projection_constraint_subsumption_incl</span></a><br/>
&nbsp;&nbsp;(<a id="Hsubsumption:70" class="idref" href="#Hsubsumption:70"><span class="id" title="binder">Hsubsumption</span></a> : <a class="idref" href="VLSM.Core.Composition.html#input_valid_constraint_subsumption"><span class="id" title="definition">input_valid_constraint_subsumption</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint1"><span class="id" title="variable">constraint1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint2"><span class="id" title="variable">constraint2</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint1"><span class="id" title="variable">constraint1</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption.constraint2"><span class="id" title="variable">constraint2</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#projection_induced_vlsm_incl"><span class="id" title="lemma">projection_induced_vlsm_incl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#weak_induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">weak_induced_sub_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#weak_induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">weak_induced_sub_projection_transition_consistency_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#constraint_subsumption_incl"><span class="id" title="lemma">constraint_subsumption_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.induced_sub_projection_subsumption"><span class="id" title="section">induced_sub_projection_subsumption</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="from_sub_projection" class="idref" href="#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_trace_sub_projection" class="idref" href="#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) :=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_trace_project"><span class="id" title="definition">pre_VLSM_projection_trace_project</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition.sub_projection_with_no_equivocation_constraints" class="idref" href="#sub_composition.sub_projection_with_no_equivocation_constraints"><span class="id" title="section">sub_projection_with_no_equivocation_constraints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_has_been_sent_capabilities" class="idref" href="#sub_has_been_sent_capabilities"><span class="id" title="definition">sub_has_been_sent_capabilities</span></a><br/>
&nbsp;&nbsp;(<a id="has_been_sent_capabilities:72" class="idref" href="#has_been_sent_capabilities:72"><span class="id" title="binder">has_been_sent_capabilities</span></a> : <span class="id" title="notation">forall</span> <a id="i:71" class="idref" href="#i:71"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:71"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="i:73" class="idref" href="#i:73"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:73"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="sub_i:74" class="idref" href="#sub_i:74"><span class="id" title="binder">sub_i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#has_been_sent_capabilities:72"><span class="id" title="variable">has_been_sent_capabilities</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:74"><span class="id" title="variable">sub_i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_has_been_received_capabilities" class="idref" href="#sub_has_been_received_capabilities"><span class="id" title="definition">sub_has_been_received_capabilities</span></a><br/>
&nbsp;&nbsp;(<a id="has_been_received_capabilities:76" class="idref" href="#has_been_received_capabilities:76"><span class="id" title="binder">has_been_received_capabilities</span></a> : <span class="id" title="notation">forall</span> <a id="i:75" class="idref" href="#i:75"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:75"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="i:77" class="idref" href="#i:77"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenReceivedCapability"><span class="id" title="class">HasBeenReceivedCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:77"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="sub_i:78" class="idref" href="#sub_i:78"><span class="id" title="binder">sub_i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#has_been_received_capabilities:76"><span class="id" title="variable">has_been_received_capabilities</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:78"><span class="id" title="variable">sub_i</span></a>).<br/>

<br/>
<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span>  <span class="id" title="var">IndEqDec</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:79" class="idref" href="#constraint:79"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="has_been_sent_capabilities:81" class="idref" href="#has_been_sent_capabilities:81"><span class="id" title="binder">has_been_sent_capabilities</span></a> : <span class="id" title="notation">forall</span> <a id="i:80" class="idref" href="#i:80"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:80"><span class="id" title="variable">i</span></a>)<span class="id" title="notation">)</span>)<br/>
&nbsp;&nbsp;{<a id="index_listing:82" class="idref" href="#index_listing:82"><span class="id" title="binder">index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="finite_index:83" class="idref" href="#finite_index:83"><span class="id" title="binder">finite_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index_listing:82"><span class="id" title="variable">index_listing</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:84" class="idref" href="#Free:84"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Sub_Free:85" class="idref" href="#Sub_Free:85"><span class="id" title="binder">Sub_Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="X:86" class="idref" href="#X:86"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:79"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="Pre:87" class="idref" href="#Pre:87"><span class="id" title="binder">Pre</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="select_sub_indices" class="idref" href="#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a><br/>
&nbsp;&nbsp;(<a id="l:88" class="idref" href="#l:88"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:88"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':91" class="idref" href="#t':91"><span class="id" title="binder">t'</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices:89"><span class="id" title="definition">select_sub_indices</span></a> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">h</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">h</span> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#t':91"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#t':91"><span class="id" title="variable">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_index_listing" class="idref" href="#sub_index_listing"><span class="id" title="definition">sub_index_listing</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.index_listing"><span class="id" title="variable">index_listing</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="in_select_sub_indices" class="idref" href="#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a><br/>
&nbsp;&nbsp;(<a id="a:92" class="idref" href="#a:92"><span class="id" title="binder">a</span></a>: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:93" class="idref" href="#s:93"><span class="id" title="binder">s</span></a>: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#a:92"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;(<a id="l:94" class="idref" href="#l:94"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">(</span><a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#a:92"><span class="id" title="variable">a</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:93"><span class="id" title="variable">s</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">âˆˆ</span> <span class="id" title="notation">(</span><a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:94"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#a:92"><span class="id" title="variable">a</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:94"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">a0</span>)); [|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> 2!<span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<span class="id" title="lemma">elem_of_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">H</span>]; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="select_sub_indices_nodup" class="idref" href="#select_sub_indices_nodup"><span class="id" title="lemma">select_sub_indices_nodup</span></a> <a id="l:95" class="idref" href="#l:95"><span class="id" title="binder">l</span></a> (<a id="Hl:96" class="idref" href="#Hl:96"><span class="id" title="binder">Hl</span></a> : <span class="id" title="inductive">NoDup</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:95"><span class="id" title="variable">l</span></a>) : <span class="id" title="inductive">NoDup</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:95"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">constructor</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">spec</span> <span class="id" title="var">IHl</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">a</span>)); [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="var">contradict</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_sub_index" class="idref" href="#finite_sub_index"><span class="id" title="lemma">finite_sub_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FinFun.html#Listing"><span class="id" title="definition">Listing</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_listing"><span class="id" title="definition">sub_index_listing</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_listing"><span class="id" title="definition">sub_index_listing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">finite_index</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.finite_index"><span class="id" title="variable">finite_index</span></a> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hnodup</span> <span class="id" title="var">Hfinite</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_ListNoDup</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">NoDup_ListNoDup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hnodup</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices_nodup"><span class="id" title="lemma">select_sub_indices_nodup</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">subi</span>. <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">subi</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">elem_of_list_In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinite</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="stdpp_finite_sub_index" class="idref" href="#stdpp_finite_sub_index"><span class="id" title="instance">stdpp_finite_sub_index</span></a><br/>
&nbsp;&nbsp;{<a id="Hfinite:97" class="idref" href="#Hfinite:97"><span class="id" title="binder">Hfinite</span></a> : <span class="id" title="class">finite.Finite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;: <span class="id" title="class">finite.Finite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices"><span class="id" title="definition">select_sub_indices</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.index"><span class="id" title="variable">index</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#select_sub_indices_nodup"><span class="id" title="lemma">select_sub_indices_nodup</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinite</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">sub_x</span>. <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_x</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Heqsub_x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#in_select_sub_indices"><span class="id" title="lemma">in_select_sub_indices</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hfinite</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a id="Sub_Free_HasBeenSentCapability" class="idref" href="#Sub_Free_HasBeenSentCapability"><span class="id" title="instance">Sub_Free_HasBeenSentCapability</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#free_composite_HasBeenSentCapability"><span class="id" title="instance">free_composite_HasBeenSentCapability</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_sub_index"><span class="id" title="lemma">finite_sub_index</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_has_been_sent_capabilities"><span class="id" title="definition">sub_has_been_sent_capabilities</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_trace_sub_projection_app" class="idref" href="#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a><br/>
&nbsp;&nbsp;(<a id="tr1:98" class="idref" href="#tr1:98"><span class="id" title="binder">tr1</span></a> <a id="tr2:99" class="idref" href="#tr2:99"><span class="id" title="binder">tr2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr1:98"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr2:99"><span class="id" title="variable">tr2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr1:98"><span class="id" title="variable">tr1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr2:99"><span class="id" title="variable">tr2</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_trace_project_app"><span class="id" title="definition">pre_VLSM_projection_trace_project_app</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr1:98"><span class="id" title="variable">tr1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr2:99"><span class="id" title="variable">tr2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="X_incl_Pre" class="idref" href="#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.Composition.html#constraint_free_incl"><span class="id" title="lemma">constraint_free_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_incl_pre_loaded_with_all_messages_vlsm"><span class="id" title="lemma">vlsm_incl_pre_loaded_with_all_messages_vlsm</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_trace_sub_projection_last_state" class="idref" href="#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a><br/>
&nbsp;&nbsp;(<a id="start:100" class="idref" href="#start:100"><span class="id" title="binder">start</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="transitions:101" class="idref" href="#transitions:101"><span class="id" title="binder">transitions</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Htr:102" class="idref" href="#Htr:102"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#start:100"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#transitions:101"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstx:103" class="idref" href="#lstx:103"><span class="id" title="binder">lstx</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#start:100"><span class="id" title="variable">start</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#transitions:101"><span class="id" title="variable">transitions</span></a>)<br/>
&nbsp;&nbsp;(<a id="lstj:104" class="idref" href="#lstj:104"><span class="id" title="binder">lstj</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#start:100"><span class="id" title="variable">start</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#transitions:101"><span class="id" title="variable">transitions</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lstj:104"><span class="id" title="variable">lstj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lstx:103"><span class="id" title="variable">lstx</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_trace_last"><span class="id" title="definition">VLSM_projection_finite_trace_last</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_is_projection"><span class="id" title="lemma">induced_sub_projection_is_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.constraint"><span class="id" title="variable">constraint</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="transition_sub_projection" class="idref" href="#transition_sub_projection"><span class="id" title="lemma">transition_sub_projection</span></a><br/>
&nbsp;&nbsp;<a id="l:105" class="idref" href="#l:105"><span class="id" title="binder">l</span></a> <a id="s:106" class="idref" href="#s:106"><span class="id" title="binder">s</span></a> <a id="om:107" class="idref" href="#om:107"><span class="id" title="binder">om</span></a> <a id="s':108" class="idref" href="#s':108"><span class="id" title="binder">s'</span></a> <a id="om':109" class="idref" href="#om':109"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:110" class="idref" href="#Ht:110"><span class="id" title="binder">Ht</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:106"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:107"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':108"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':109"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:111" class="idref" href="#Hsub:111"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hsub:111"><span class="id" title="variable">Hsub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:105"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:106"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:107"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':108"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':109"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">li</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">omi'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hti</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">omi'</span> <span class="id" title="var">s'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">let</span> (<span class="id" title="var">_</span>, <span class="id" title="var">_</span>) := ?<span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">t</span> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">si'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">om'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>! <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_sub_projection" class="idref" href="#valid_sub_projection"><span class="id" title="lemma">valid_sub_projection</span></a><br/>
&nbsp;&nbsp;<a id="l:112" class="idref" href="#l:112"><span class="id" title="binder">l</span></a> <a id="s:113" class="idref" href="#s:113"><span class="id" title="binder">s</span></a> <a id="om:114" class="idref" href="#om:114"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:115" class="idref" href="#Hv:115"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:112"><span class="id" title="variable">l</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:113"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:114"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsub:116" class="idref" href="#Hsub:116"><span class="id" title="binder">Hsub</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:112"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:112"><span class="id" title="variable">l</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hsub:116"><span class="id" title="variable">Hsub</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:112"><span class="id" title="variable">l</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:113"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:114"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="seed:117" class="idref" href="#seed:117"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="sub_constraint:118" class="idref" href="#sub_constraint:118"><span class="id" title="binder">sub_constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Xj:119" class="idref" href="#Xj:119"><span class="id" title="binder">Xj</span></a> := <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_has_been_sent_capabilities"><span class="id" title="definition">sub_has_been_sent_capabilities</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:117"><span class="id" title="variable">seed</span></a> )<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Xj_incl_Pre_Sub_Free" class="idref" href="#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl"><span class="id" title="abbreviation">VLSM_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">Xj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocation_vlsm_with_pre_loaded"><span class="id" title="definition">composite_no_equivocation_vlsm_with_pre_loaded</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#preloaded_constraint_subsumption_incl"><span class="id" title="lemma">preloaded_constraint_subsumption_incl</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#no_equivocations_additional_constraint_with_pre_loaded"><span class="id" title="definition">no_equivocations_additional_constraint_with_pre_loaded</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_has_been_sent_capabilities"><span class="id" title="definition">sub_has_been_sent_capabilities</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.has_been_sent_capabilities"><span class="id" title="variable">has_been_sent_capabilities</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hincl</span>; [<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> ?<span class="id" title="var">v</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <span class="id" title="var">v</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; [| <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincl</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> ?<span class="id" title="var">v</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_trans"><span class="id" title="lemma">VLSM_incl_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="VLSM.Core.VLSM.html#machine"><span class="id" title="definition">machine</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <span class="id" title="var">v</span> (<span class="id" title="keyword">fun</span> <a id="m:121" class="idref" href="#m:121"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="notation">True</span>)))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> ?<span class="id" title="var">v</span> <span class="id" title="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_loaded_vlsm_incl"><span class="id" title="lemma">pre_loaded_vlsm_incl</span></a> <span class="id" title="var">v</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a> (<span class="id" title="keyword">fun</span> <a id="m:123" class="idref" href="#m:123"><span class="id" title="binder">m</span></a> =&gt; <span class="id" title="notation">True</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span> [<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> ?<span class="id" title="var">v</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hincl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_incl_iff"><span class="id" title="lemma">VLSM_eq_incl_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hincl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Property of a composite trace requiring that every message received in an
transition involving a machine in the chosen subset must either belong to
the set specified by <span class="inlinecode"><span class="id" title="var">seed</span></span>, or it must <span class="inlinecode"><span class="id" title="var">have_been_sent</span></span> by some machine
in the chosen subset (prior to it being received).

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="trace_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="tr:124" class="idref" href="#tr:124"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="pre:125" class="idref" href="#pre:125"><span class="id" title="binder">pre</span></a> <a id="item:126" class="idref" href="#item:126"><span class="id" title="binder">item</span></a> <a id="suf:127" class="idref" href="#suf:127"><span class="id" title="binder">suf</span></a> <a id="m:128" class="idref" href="#m:128"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:124"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre:125"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#item:126"><span class="id" title="variable">item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#suf:127"><span class="id" title="variable">suf</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#item:126"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#item:126"><span class="id" title="variable">item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.seed"><span class="id" title="variable">seed</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="pre_item:129" class="idref" href="#pre_item:129"><span class="id" title="binder">pre_item</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_item:129"><span class="id" title="variable">pre_item</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre:125"><span class="id" title="variable">pre</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.VLSM.html#output"><span class="id" title="projection">output</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_item:129"><span class="id" title="variable">pre_item</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:128"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#pre_item:129"><span class="id" title="variable">pre_item</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="state_sub_item_input_is_seeded_or_sub_previously_sent" class="idref" href="#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a><br/>
&nbsp;&nbsp;(<a id="s:130" class="idref" href="#s:130"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="notation">forall</span> <a id="is:131" class="idref" href="#is:131"><span class="id" title="binder">is</span></a> <a id="tr:132" class="idref" href="#tr:132"><span class="id" title="binder">tr</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_init_to"><span class="id" title="definition">finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Pre"><span class="id" title="variable">Pre</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#is:131"><span class="id" title="variable">is</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:130"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:132"><span class="id" title="variable">tr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:132"><span class="id" title="variable">tr</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_sub_projection" class="idref" href="#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:133" class="idref" href="#s:133"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:134" class="idref" href="#tr:134"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="Hmsg:135" class="idref" href="#Hmsg:135"><span class="id" title="binder">Hmsg</span></a> :  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#trace_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">trace_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:134"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:136" class="idref" href="#Htr:136"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:133"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:134"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace"><span class="id" title="definition">finite_valid_trace</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:133"><span class="id" title="variable">s</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:134"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <span class="id" title="var">s</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">His</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hisp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">tr</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#rev_ind"><span class="id" title="lemma">rev_ind</span></a>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;; [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hx</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> <span class="id" title="var">suf</span> <span class="id" title="var">m</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Hin_m</span> <span class="id" title="var">Hitem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">pre</span> <span class="id" title="var">item</span> (<span class="id" title="var">suf</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="var">m</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Hin_m</span> <span class="id" title="var">Hitem</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | <span class="id" title="var">Hmsg</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>] ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">IHtr</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">l</span> <span class="id" title="var">_</span> =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlst</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHtr</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_singleton"><span class="id" title="definition">finite_valid_trace_singleton</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hx</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Ht</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#transition_sub_projection"><span class="id" title="lemma">transition_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Htj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#valid_sub_projection"><span class="id" title="lemma">valid_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span> <span class="id" title="var">H</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">s</span> <span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htj</span>, <span class="id" title="var">Hvj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span> | | <span class="id" title="tactic">assumption</span> | | <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_None"><span class="id" title="lemma">option_valid_message_None</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#option_valid_message_Some"><span class="id" title="lemma">option_valid_message_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <span class="id" title="var">H</span> <span class="id" title="var">IHtr</span> <span class="id" title="var">tr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">tr</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="tactic">at</span> 1, <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmsg</span>. { <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">Hout</span> <span class="id" title="var">Hsub_item</span>]]]]<br/>
    ; [<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#initial_message_is_valid"><span class="id" title="lemma">initial_message_is_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a>); <span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#valid_trace_output_is_valid"><span class="id" title="lemma">valid_trace_output_is_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">IHtr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project_is_Some"><span class="id" title="lemma">pre_VLSM_projection_transition_item_project_is_Some</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">item</span> <span class="id" title="var">Hsub_item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">itemX</span> <span class="id" title="var">HitemX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hmsg</span> <span class="id" title="var">Sub_Free</span> <span class="id" title="var">finite_index</span> <span class="id" title="var">Hlst</span> <span class="id" title="var">His</span> <span class="id" title="var">IHtr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">iom</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> {| <a class="idref" href="VLSM.Core.VLSM.html#input"><span class="id" title="projection">input</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> |} <span class="id" title="keyword">as</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#from_sub_projection"><span class="id" title="definition">from_sub_projection</span></a> <span class="id" title="tactic">at</span> 1, <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_in_projection"><span class="id" title="definition">pre_VLSM_projection_in_projection</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">tr</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqx</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hmsg</span>. { <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmsg</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hseed</span> | [<span class="id" title="var">item</span> [<span class="id" title="var">Hitem</span> [<span class="id" title="var">Hout</span> <span class="id" title="var">Hsub_item</span>]]]]<br/>
    ; [<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.Equivocation.html#proper_sent"><span class="id" title="method">proper_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a> <span class="id" title="var">lst</span> (<span class="id" title="var">HasBeenSentCapability</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Sub_Free_HasBeenSentCapability"><span class="id" title="instance">Sub_Free_HasBeenSentCapability</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlstp</span> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Sub_Free"><span class="id" title="variable">Sub_Free</span></a>) <span class="id" title="var">lst</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">revert</span> <span class="id" title="var">Hlst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_valid_state"><span class="id" title="lemma">VLSM_incl_valid_state</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproper</span> <span class="id" title="var">Hlstp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hproper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_consistency"><span class="id" title="lemma">has_been_sent_consistency</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Sub_Free_HasBeenSentCapability"><span class="id" title="instance">Sub_Free_HasBeenSentCapability</span></a>| <span class="id" title="tactic">assumption</span>| ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="var">s</span>), (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <span class="id" title="var">tr</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>;[|<span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_from_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_from_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Xj_incl_Pre_Sub_Free"><span class="id" title="lemma">Xj_incl_Pre_Sub_Free</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#trace_has_message"><span class="id" title="definition">trace_has_message</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">Exists_exists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project_is_Some"><span class="id" title="lemma">pre_VLSM_projection_transition_item_project_is_Some</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_type"><span class="id" title="definition">composite_type</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>) <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">item</span> <span class="id" title="var">Hsub_item</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">itemX</span> <span class="id" title="var">HitemX</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">itemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.ListExtras.html#elem_of_map_option"><span class="id" title="lemma">elem_of_map_option</span></a>. <span class="id" title="tactic">exists</span> <span class="id" title="var">item</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#pre_VLSM_projection_transition_item_project"><span class="id" title="definition">pre_VLSM_projection_transition_item_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">HitemX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="valid_state_sub_projection" class="idref" href="#valid_state_sub_projection"><span class="id" title="lemma">valid_state_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:137" class="idref" href="#s:137"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#state"><span class="id" title="method">state</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:138" class="idref" href="#Hs:138"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:137"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hps:139" class="idref" href="#Hps:139"><span class="id" title="binder">Hps</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:137"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:137"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hps</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Htr</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_get_last"><span class="id" title="method">valid_trace_get_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_forget_last"><span class="id" title="method">valid_trace_forget_last</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hlst'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hptr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hptr</span> <span class="id" title="var">_</span>]. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_last_pstate"><span class="id" title="lemma">finite_valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hlst'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hptr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_valid_trace_from_sub_projection" class="idref" href="#finite_valid_trace_from_sub_projection"><span class="id" title="lemma">finite_valid_trace_from_sub_projection</span></a><br/>
&nbsp;&nbsp;(<a id="s:140" class="idref" href="#s:140"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="tr:141" class="idref" href="#tr:141"><span class="id" title="binder">tr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_transition_item"><span class="id" title="definition">composite_transition_item</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>))<br/>
&nbsp;&nbsp;(<a id="lst:142" class="idref" href="#lst:142"><span class="id" title="binder">lst</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last"><span class="id" title="definition">finite_trace_last</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:140"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:141"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hmsg:143" class="idref" href="#Hmsg:143"><span class="id" title="binder">Hmsg</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#state_sub_item_input_is_seeded_or_sub_previously_sent"><span class="id" title="definition">state_sub_item_input_is_seeded_or_sub_previously_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lst:142"><span class="id" title="variable">lst</span></a>)<br/>
&nbsp;&nbsp;(<a id="Htr:144" class="idref" href="#Htr:144"><span class="id" title="binder">Htr</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:140"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:141"><span class="id" title="variable">tr</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from"><span class="id" title="inductive">finite_valid_trace_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints.Xj"><span class="id" title="variable">Xj</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:140"><span class="id" title="variable">s</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection"><span class="id" title="definition">finite_trace_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#tr:141"><span class="id" title="variable">tr</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_complete_left"><span class="id" title="lemma">finite_valid_trace_from_complete_left</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">pre</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">Hs</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpre</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Htr</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_last_state"><span class="id" title="lemma">finite_trace_sub_projection_last_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hpre</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hpre_lst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_valid_trace_sub_projection"><span class="id" title="lemma">finite_valid_trace_sub_projection</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Htr</span> <span class="id" title="var">His</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#finite_trace_sub_projection_app"><span class="id" title="definition">finite_trace_sub_projection_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_valid_trace_from_app_iff"><span class="id" title="lemma">finite_valid_trace_from_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Htr</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">s</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hpre_lst</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hmsg</span> <span class="id" title="keyword">is</span> (<span class="id" title="var">pre</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">tr</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hmsg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_incl_finite_valid_trace_init_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#X_incl_Pre"><span class="id" title="lemma">X_incl_Pre</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_add_last"><span class="id" title="method">valid_trace_add_last</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.VLSM.html#finite_trace_last_app"><span class="id" title="lemma">finite_trace_last_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">lst</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.sub_projection_with_no_equivocation_constraints"><span class="id" title="section">sub_projection_with_no_equivocation_constraints</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_initial" class="idref" href="#lift_sub_state_initial"><span class="id" title="lemma">lift_sub_state_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s:145" class="idref" href="#s:145"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:146" class="idref" href="#Hs:146"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:145"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:145"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_state_to_initial" class="idref" href="#lift_sub_state_to_initial"><span class="id" title="lemma">lift_sub_state_to_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s0:147" class="idref" href="#s0:147"><span class="id" title="binder">s0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs0:148" class="idref" href="#Hs0:148"><span class="id" title="binder">Hs0</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:147"><span class="id" title="variable">s0</span></a>)<br/>
&nbsp;&nbsp;(<a id="s:149" class="idref" href="#s:149"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:150" class="idref" href="#Hs:150"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:149"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s0:147"><span class="id" title="variable">s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:149"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hs0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_message_initial" class="idref" href="#lift_sub_message_initial"><span class="id" title="lemma">lift_sub_message_initial</span></a><br/>
&nbsp;&nbsp;(<a id="m:151" class="idref" href="#m:151"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm:152" class="idref" href="#Hm:152"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:151"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:151"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_valid" class="idref" href="#lift_sub_valid"><span class="id" title="lemma">lift_sub_valid</span></a> <a id="l:153" class="idref" href="#l:153"><span class="id" title="binder">l</span></a> <a id="s:154" class="idref" href="#s:154"><span class="id" title="binder">s</span></a> <a id="om:155" class="idref" href="#om:155"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:156" class="idref" href="#Hv:156"><span class="id" title="binder">Hv</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:153"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:154"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:155"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:153"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:154"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:155"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> ?<span class="id" title="var">i1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> ?<span class="id" title="var">i2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> <span class="id" title="var">i1</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; [<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_transition" class="idref" href="#lift_sub_transition"><span class="id" title="lemma">lift_sub_transition</span></a> <a id="l:157" class="idref" href="#l:157"><span class="id" title="binder">l</span></a> <a id="s:158" class="idref" href="#s:158"><span class="id" title="binder">s</span></a> <a id="om:159" class="idref" href="#om:159"><span class="id" title="binder">om</span></a> <a id="s':160" class="idref" href="#s':160"><span class="id" title="binder">s'</span></a> <a id="om':161" class="idref" href="#om':161"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:162" class="idref" href="#Ht:162"><span class="id" title="binder">Ht</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:157"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:158"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:159"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':160"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':161"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:157"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:158"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:159"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':160"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':161"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <span class="id" title="var">i</span> <span class="id" title="var">H</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition"><span class="id" title="section">sub_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab83"></a><h2 class="section">Lifting a trace from a sub-composition to the full composition</h2>


<div class="paragraph"> </div>

In this section we first show that given a valid state for a composition of
all nodes we can reset some of its state-components to initial states for those
components without losing the valid state property.

<div class="paragraph"> </div>

The set of nodes for which the reset operation will happen is <code>equivocators</code>.

<div class="paragraph"> </div>

We then show that a similar result holds for replacing the equivocator
components with the components corresponding to any valid state of the
composition of just the equivocators.

<div class="paragraph"> </div>

We proving those results for compositions pre-loaded with all messages
(Lemmas <span class="inlinecode"><span class="id" title="var">reset_equivocating_transitions_preloaded_projection</span></span> and
<span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreSubFree_PreFree_weak_full_projection"><span class="id" title="lemma">PreSubFree_PreFree_weak_full_projection</span></a></span>).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="lift_sub_state_to_preloaded" class="idref" href="#lift_sub_state_to_preloaded"><span class="id" title="section">lift_sub_state_to_preloaded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:163" class="idref" href="#message:163"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:164" class="idref" href="#index:164"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:165" class="idref" href="#IndEqDec:165"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:164"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:166" class="idref" href="#IM:166"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:164"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:163"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocators:167" class="idref" href="#equivocators:167"><span class="id" title="binder">equivocators</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:164"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Free:168" class="idref" href="#Free:168"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:166"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreFree:169" class="idref" href="#PreFree:169"><span class="id" title="binder">PreFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Free:168"><span class="id" title="variable">Free</span></a>)<br/>
&nbsp;&nbsp;(<a id="equivocating_IM:170" class="idref" href="#equivocating_IM:170"><span class="id" title="binder">equivocating_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:166"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#equivocators:167"><span class="id" title="variable">equivocators</span></a> )<br/>
&nbsp;&nbsp;(<a id="SubFree:171" class="idref" href="#SubFree:171"><span class="id" title="binder">SubFree</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:163"><span class="id" title="variable">message</span></a> :=  <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#equivocating_IM:170"><span class="id" title="variable">equivocating_IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreSubFree:172" class="idref" href="#PreSubFree:172"><span class="id" title="binder">PreSubFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#SubFree:171"><span class="id" title="variable">SubFree</span></a>)<br/>
&nbsp;&nbsp;(<a id="base_s:173" class="idref" href="#base_s:173"><span class="id" title="binder">base_s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:166"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hbase_s:174" class="idref" href="#Hbase_s:174"><span class="id" title="binder">Hbase_s</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreFree:169"><span class="id" title="variable">PreFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#base_s:173"><span class="id" title="variable">base_s</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
A partial label projection function which only keeps non-equivocating transitions.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="remove_equivocating_label_project" class="idref" href="#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a id="l:175" class="idref" href="#l:175"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">if</span> <span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:175"><span class="id" title="variable">l</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:175"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
Replaces the state components of the given state with those of <code>eqv_is</code>.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="remove_equivocating_state_project" class="idref" href="#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a id="eqv_is:176" class="idref" href="#eqv_is:176"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="s:177" class="idref" href="#s:177"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:177"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:176"><span class="id" title="variable">eqv_is</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_projection_valid_preservation" class="idref" href="#remove_equivocating_strong_projection_valid_preservation"><span class="id" title="lemma">remove_equivocating_strong_projection_valid_preservation</span></a> <a id="eqv_is:178" class="idref" href="#eqv_is:178"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#strong_projection_valid_preservation"><span class="id" title="definition">strong_projection_valid_preservation</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:178"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">lY</span> <span class="id" title="var">Hl</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">liX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lY</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_projection_transition_preservation_Some" class="idref" href="#remove_equivocating_strong_projection_transition_preservation_Some"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_preservation_Some</span></a> <a id="eqv_is:179" class="idref" href="#eqv_is:179"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#strong_projection_transition_preservation_Some"><span class="id" title="definition">strong_projection_transition_preservation_Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:179"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">lY</span> <span class="id" title="var">Hl</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">liX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hl</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">lY</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_projection_transition_consistency_None" class="idref" href="#remove_equivocating_strong_projection_transition_consistency_None"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_consistency_None</span></a> <a id="eqv_is:180" class="idref" href="#eqv_is:180"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;: @<a class="idref" href="VLSM.Core.VLSMProjections.html#strong_projection_transition_consistency_None"><span class="id" title="definition">strong_projection_transition_consistency_None</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:180"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">lX</span> <span class="id" title="var">Hl</span> <span class="id" title="var">s</span> <span class="id" title="var">om</span> <span class="id" title="var">s'</span> <span class="id" title="var">om'</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">liX</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_strong_full_projection_initial_state_preservation" class="idref" href="#remove_equivocating_strong_full_projection_initial_state_preservation"><span class="id" title="lemma">remove_equivocating_strong_full_projection_initial_state_preservation</span></a> <a id="eqv_is:181" class="idref" href="#eqv_is:181"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;(<a id="Heqv_is:182" class="idref" href="#Heqv_is:182"><span class="id" title="binder">Heqv_is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:181"><span class="id" title="variable">eqv_is</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#strong_full_projection_initial_state_preservation"><span class="id" title="definition">strong_full_projection_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.Free"><span class="id" title="variable">Free</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:181"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">Hs</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Heqv_is</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">s0</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">exact</span> (<span class="id" title="var">Hs</span> <span class="id" title="var">i</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Given any valid trace for the composition of all nodes and an initial state
for the composition of just the equivocators, the trace obtained by resetting
the components corresponding to the equivocators to those of the given initial
state and removing the transitions corresponding to the equivocators is
still a valid trace.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="remove_equivocating_transitions_preloaded_projection" class="idref" href="#remove_equivocating_transitions_preloaded_projection"><span class="id" title="lemma">remove_equivocating_transitions_preloaded_projection</span></a> <a id="eqv_is:183" class="idref" href="#eqv_is:183"><span class="id" title="binder">eqv_is</span></a><br/>
&nbsp;&nbsp;(<a id="Heqv_is:184" class="idref" href="#Heqv_is:184"><span class="id" title="binder">Heqv_is</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:183"><span class="id" title="variable">eqv_is</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection"><span class="id" title="record">VLSM_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_label_project"><span class="id" title="definition">remove_equivocating_label_project</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_state_project"><span class="id" title="definition">remove_equivocating_state_project</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#eqv_is:183"><span class="id" title="variable">eqv_is</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_projection_preloaded"><span class="id" title="lemma">basic_VLSM_projection_preloaded</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_projection_valid_preservation"><span class="id" title="lemma">remove_equivocating_strong_projection_valid_preservation</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_projection_transition_preservation_Some"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_preservation_Some</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_projection_transition_consistency_None"><span class="id" title="lemma">remove_equivocating_strong_projection_transition_consistency_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_strong_full_projection_initial_state_preservation"><span class="id" title="lemma">remove_equivocating_strong_full_projection_initial_state_preservation</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_lift_sub_state_to_initial_state" class="idref" href="#preloaded_lift_sub_state_to_initial_state"><span class="id" title="lemma">preloaded_lift_sub_state_to_initial_state</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#weak_full_projection_initial_state_preservation"><span class="id" title="definition">weak_full_projection_initial_state_preservation</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hbase_s</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">eqv_is</span> <span class="id" title="var">Heqv_is</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_finite_valid_trace_init_to"><span class="id" title="lemma">VLSM_projection_finite_valid_trace_init_to</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#remove_equivocating_transitions_preloaded_projection"><span class="id" title="lemma">remove_equivocating_transitions_preloaded_projection</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Heqv_is</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_trace_last_pstate"><span class="id" title="method">valid_trace_last_pstate</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htr</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_to_valid" class="idref" href="#lift_sub_to_valid"><span class="id" title="lemma">lift_sub_to_valid</span></a> <a id="l:185" class="idref" href="#l:185"><span class="id" title="binder">l</span></a> <a id="s:186" class="idref" href="#s:186"><span class="id" title="binder">s</span></a> <a id="om:187" class="idref" href="#om:187"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:188" class="idref" href="#Hv:188"><span class="id" title="binder">Hv</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:185"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:186"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:187"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:185"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:186"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:187"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">equivocating_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>). <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_to_transition" class="idref" href="#lift_sub_to_transition"><span class="id" title="lemma">lift_sub_to_transition</span></a> <a id="l:189" class="idref" href="#l:189"><span class="id" title="binder">l</span></a> <a id="s:190" class="idref" href="#s:190"><span class="id" title="binder">s</span></a> <a id="om:191" class="idref" href="#om:191"><span class="id" title="binder">om</span></a> <a id="s':192" class="idref" href="#s':192"><span class="id" title="binder">s'</span></a> <a id="om':193" class="idref" href="#om':193"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:194" class="idref" href="#Ht:194"><span class="id" title="binder">Ht</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:189"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:190"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:191"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':192"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':193"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:189"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:190"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:191"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':192"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':193"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>! <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_neq"><span class="id" title="lemma">lift_sub_state_to_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Given any valid state for the composition of all nodes and a valid trace
for the composition of just the equivocators, the trace obtained by completing
the state-components from the trace with the components from the given
valid state is a valid trace for the composition of all nodes.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="PreSubFree_PreFree_weak_full_projection" class="idref" href="#PreSubFree_PreFree_weak_full_projection"><span class="id" title="lemma">PreSubFree_PreFree_weak_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_weak_full_projection"><span class="id" title="record">VLSM_weak_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.PreFree"><span class="id" title="variable">PreFree</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.base_s"><span class="id" title="variable">base_s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_weak_full_projection"><span class="id" title="lemma">basic_VLSM_weak_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_to_valid"><span class="id" title="lemma">lift_sub_to_valid</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_to_transition"><span class="id" title="lemma">lift_sub_to_transition</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#preloaded_lift_sub_state_to_initial_state"><span class="id" title="lemma">preloaded_lift_sub_state_to_initial_state</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#any_message_is_valid_in_preloaded"><span class="id" title="lemma">any_message_is_valid_in_preloaded</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If the composition constraint only depends on the projection sub-state,
then valid traces of the <span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a></span> can be lifted to valid traces
of the constrained composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_lift" class="idref" href="#induced_sub_projection_lift"><span class="id" title="lemma">induced_sub_projection_lift</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:195" class="idref" href="#constraint:195"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hconstraint_consistency:200" class="idref" href="#Hconstraint_consistency:200"><span class="id" title="binder">Hconstraint_consistency</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="s1:196" class="idref" href="#s1:196"><span class="id" title="binder">s1</span></a> <a id="s2:197" class="idref" href="#s2:197"><span class="id" title="binder">s2</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s1:196"><span class="id" title="variable">s1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s2:197"><span class="id" title="variable">s2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">forall</span> <a id="l:198" class="idref" href="#l:198"><span class="id" title="binder">l</span></a> <a id="om:199" class="idref" href="#om:199"><span class="id" title="binder">om</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:195"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:198"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s1:196"><span class="id" title="variable">s1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:199"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:195"><span class="id" title="variable">constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:198"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s2:197"><span class="id" title="variable">s2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:199"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:195"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:195"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_full_projection"><span class="id" title="lemma">basic_VLSM_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> [<span class="id" title="var">_</span> [[<span class="id" title="var">i</span> <span class="id" title="var">li</span>] [<span class="id" title="var">sX</span> [<span class="id" title="var">Heql</span> [<span class="id" title="var">Heqs</span> [<span class="id" title="var">HsX</span> [<span class="id" title="var">Hom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>, <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heql</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Composition.html#constrained_composite_valid"><span class="id" title="definition">constrained_composite_valid</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstraint_consistency</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift_to"><span class="id" title="lemma">composite_state_sub_projection_lift_to</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">extensionality</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_j</span>, <span class="id" title="var">lj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub_j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">Hj</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi</span> := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [<span class="id" title="var">contradiction</span>|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_initial"><span class="id" title="lemma">lift_sub_state_initial</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">sX</span> [&lt;- <span class="id" title="var">HsX</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">HsX</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
A specialization of <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSMProjections.html#basic_projection_induces_friendliness"><span class="id" title="lemma">basic_projection_induces_friendliness</span></a></span> for
<span class="inlinecode"><a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a></span>s.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_friendliness" class="idref" href="#induced_sub_projection_friendliness"><span class="id" title="lemma">induced_sub_projection_friendliness</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:201" class="idref" href="#constraint:201"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hlift_proj:202" class="idref" href="#Hlift_proj:202"><span class="id" title="binder">Hlift_proj</span></a> : <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:201"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:201"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#projection_friendly_prop"><span class="id" title="definition">projection_friendly_prop</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_is_projection"><span class="id" title="lemma">induced_sub_projection_is_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.equivocators"><span class="id" title="variable">equivocators</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:201"><span class="id" title="variable">constraint</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#basic_projection_induces_friendliness"><span class="id" title="lemma">basic_projection_induces_friendliness</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">constraint</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_None"><span class="id" title="lemma">induced_sub_projection_transition_consistency_None</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option_lift"><span class="id" title="lemma">composite_label_sub_projection_option_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection_lift"><span class="id" title="lemma">composite_state_sub_projection_lift</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection_transition_consistency_Some"><span class="id" title="lemma">induced_sub_projection_transition_consistency_Some</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_preloaded"><span class="id" title="section">lift_sub_state_to_preloaded</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_incl" class="idref" href="#sub_composition_incl"><span class="id" title="section">sub_composition_incl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:203" class="idref" href="#message:203"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:204" class="idref" href="#index:204"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:205" class="idref" href="#IndEqDec:205"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:204"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:206" class="idref" href="#IM:206"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:204"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:203"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="indices1:207" class="idref" href="#indices1:207"><span class="id" title="binder">indices1</span></a> <a id="indices2:208" class="idref" href="#indices2:208"><span class="id" title="binder">indices2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:204"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hincl:209" class="idref" href="#Hincl:209"><span class="id" title="binder">Hincl</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:207"><span class="id" title="variable">indices1</span></a> <span class="id" title="notation">âŠ†</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:208"><span class="id" title="variable">indices2</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_IM1:210" class="idref" href="#sub_IM1:210"><span class="id" title="binder">sub_IM1</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:206"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:207"><span class="id" title="variable">indices1</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_IM2:211" class="idref" href="#sub_IM2:211"><span class="id" title="binder">sub_IM2</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:206"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:208"><span class="id" title="variable">indices2</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index1_prop_dec:214" class="idref" href="#sub_index1_prop_dec:214"><span class="id" title="binder">sub_index1_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:213" class="idref" href="#i:213"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:207"><span class="id" title="variable">indices1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:213"><span class="id" title="variable">i</span></a>) := <span class="id" title="keyword">fun</span> <a id="i:212" class="idref" href="#i:212"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices1:207"><span class="id" title="variable">indices1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:212"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index2_prop_dec:217" class="idref" href="#sub_index2_prop_dec:217"><span class="id" title="binder">sub_index2_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:216" class="idref" href="#i:216"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:208"><span class="id" title="variable">indices2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:216"><span class="id" title="variable">i</span></a>) := <span class="id" title="keyword">fun</span> <a id="i:215" class="idref" href="#i:215"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices2:208"><span class="id" title="variable">indices2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:215"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_incl_state" class="idref" href="#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a><br/>
&nbsp;&nbsp;(<a id="s:218" class="idref" href="#s:218"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="sub_i2:219" class="idref" href="#sub_i2:219"><span class="id" title="binder">sub_i2</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:220" class="idref" href="#i:220"><span class="id" title="binder">i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i2:219"><span class="id" title="variable">sub_i2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> @<span class="id" title="definition">decide</span>  (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:220"><span class="id" title="variable">i</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_index1_prop_dec"><span class="id" title="variable">sub_index1_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:220"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">e</span> =&gt;  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:218"><span class="id" title="variable">s</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:220"><span class="id" title="variable">i</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:220"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_state_initial" class="idref" href="#lift_sub_incl_state_initial"><span class="id" title="lemma">lift_sub_incl_state_initial</span></a><br/>
&nbsp;&nbsp;(<a id="s:221" class="idref" href="#s:221"><span class="id" title="binder">s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hs:222" class="idref" href="#Hs:222"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:221"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_state_prop"><span class="id" title="definition">composite_initial_state_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:221"><span class="id" title="variable">s</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hs</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vs0"><span class="id" title="definition">vs0</span></a> <span class="id" title="var">_</span>). <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_message_initial" class="idref" href="#lift_sub_incl_message_initial"><span class="id" title="lemma">lift_sub_incl_message_initial</span></a><br/>
&nbsp;&nbsp;(<a id="m:223" class="idref" href="#m:223"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hm:224" class="idref" href="#Hm:224"><span class="id" title="binder">Hm</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:223"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_initial_message_prop"><span class="id" title="definition">composite_initial_message_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:223"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] <span class="id" title="var">Hm</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM1</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">bool_decide_spec</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.Hincl"><span class="id" title="variable">Hincl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="lift_sub_incl_label" class="idref" href="#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a><br/>
&nbsp;&nbsp;(<a id="l:225" class="idref" href="#l:225"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a><br/>
&nbsp;&nbsp;:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sub1_i:226" class="idref" href="#sub1_i:226"><span class="id" title="binder">sub1_i</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT1"><span class="id" title="definition">projT1</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:225"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="i:227" class="idref" href="#i:227"><span class="id" title="binder">i</span></a> := <a class="idref" href="VLSM.Lib.Preamble.html#dec_proj1_sig"><span class="id" title="definition">dec_proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub1_i:226"><span class="id" title="variable">sub1_i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="H1i:228" class="idref" href="#H1i:228"><span class="id" title="binder">H1i</span></a> := <a class="idref" href="VLSM.Lib.Preamble.html#dec_proj2_sig"><span class="id" title="definition">dec_proj2_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub1_i:226"><span class="id" title="variable">sub1_i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="H2i:229" class="idref" href="#H2i:229"><span class="id" title="binder">H2i</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.Hincl"><span class="id" title="variable">Hincl</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#H1i:228"><span class="id" title="variable">H1i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span>  <a id="sub2_i:230" class="idref" href="#sub2_i:230"><span class="id" title="binder">sub2_i</span></a> := @<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_index2_prop_dec"><span class="id" title="variable">sub_index2_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:227"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#H2i:229"><span class="id" title="variable">H2i</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub2_i:230"><span class="id" title="variable">sub2_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#projT2"><span class="id" title="definition">projT2</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:225"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_valid" class="idref" href="#lift_sub_incl_valid"><span class="id" title="lemma">lift_sub_incl_valid</span></a> <a id="l:231" class="idref" href="#l:231"><span class="id" title="binder">l</span></a> <a id="s:232" class="idref" href="#s:232"><span class="id" title="binder">s</span></a> <a id="om:233" class="idref" href="#om:233"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:234" class="idref" href="#Hv:234"><span class="id" title="binder">Hv</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:231"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:232"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:233"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices2"><span class="id" title="variable">indices2</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:231"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:232"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:233"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub1_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub1_i</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span> <span class="id" title="var">Heqsub1_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;|- <a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> ?<span class="id" title="var">i1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#valid"><span class="id" title="method">valid</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span> ?<span class="id" title="var">i2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> <span class="id" title="var">i1</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; [<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>|].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_transition" class="idref" href="#lift_sub_incl_transition"><span class="id" title="lemma">lift_sub_incl_transition</span></a> <a id="l:235" class="idref" href="#l:235"><span class="id" title="binder">l</span></a> <a id="s:236" class="idref" href="#s:236"><span class="id" title="binder">s</span></a> <a id="om:237" class="idref" href="#om:237"><span class="id" title="binder">om</span></a> <a id="s':238" class="idref" href="#s':238"><span class="id" title="binder">s'</span></a> <a id="om':239" class="idref" href="#om':239"><span class="id" title="binder">om'</span></a><br/>
&nbsp;&nbsp;(<a id="Ht:240" class="idref" href="#Ht:240"><span class="id" title="binder">Ht</span></a>: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:235"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:236"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:237"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':238"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':239"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices2"><span class="id" title="variable">indices2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:235"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:236"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:237"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':238"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':239"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub1_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub1_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub1_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a> <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices1"><span class="id" title="variable">indices1</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">s0</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">s0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#transition"><span class="id" title="method">transition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep_good"><span class="id" title="definition">functional_extensionality_dep_good</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub2_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub2_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub2_j</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.indices2"><span class="id" title="variable">indices2</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a> <span class="id" title="var">s</span>) <span class="id" title="var">si'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.Hincl"><span class="id" title="variable">Hincl</span></a> <span class="id" title="var">j</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_proj2_sig"><span class="id" title="definition">dec_proj2_sig</span></a> (@<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_index1_prop_dec"><span class="id" title="variable">sub_index1_prop_dec</span></a> <span class="id" title="var">j</span> <span class="id" title="var">Hi</span>))) <span class="id" title="var">Hj</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hrew</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- ?<span class="id" title="var">s1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">replace</span> <span class="id" title="var">s1</span> <span class="id" title="keyword">with</span> <span class="id" title="var">si'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [| <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> <span class="id" title="var">_</span>); [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_full_projection" class="idref" href="#lift_sub_incl_full_projection"><span class="id" title="lemma">lift_sub_incl_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>) (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_valid"><span class="id" title="lemma">lift_sub_incl_valid</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_transition"><span class="id" title="lemma">lift_sub_incl_transition</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state_initial"><span class="id" title="lemma">lift_sub_incl_state_initial</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_message_initial"><span class="id" title="lemma">lift_sub_incl_message_initial</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_incl_preloaded_full_projection" class="idref" href="#lift_sub_incl_preloaded_full_projection"><span class="id" title="lemma">lift_sub_incl_preloaded_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="P:241" class="idref" href="#P:241"><span class="id" title="binder">P</span></a> <a id="Q:242" class="idref" href="#Q:242"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="Hpq:244" class="idref" href="#Hpq:244"><span class="id" title="binder">Hpq</span></a> : <span class="id" title="notation">forall</span> <a id="m:243" class="idref" href="#m:243"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:241"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:243"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:242"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:243"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM1"><span class="id" title="variable">sub_IM1</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:241"><span class="id" title="variable">P</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl.sub_IM2"><span class="id" title="variable">sub_IM2</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:242"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_label"><span class="id" title="definition">lift_sub_incl_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state"><span class="id" title="definition">lift_sub_incl_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_full_projection_preloaded_with"><span class="id" title="lemma">basic_VLSM_full_projection_preloaded_with</span></a>; [<span class="id" title="tactic">assumption</span>|..]; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_valid"><span class="id" title="lemma">lift_sub_incl_valid</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_transition"><span class="id" title="lemma">lift_sub_incl_transition</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_state_initial"><span class="id" title="lemma">lift_sub_incl_state_initial</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_incl_message_initial"><span class="id" title="lemma">lift_sub_incl_message_initial</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_incl"><span class="id" title="section">sub_composition_incl</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_sender" class="idref" href="#sub_composition_sender"><span class="id" title="section">sub_composition_sender</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:245" class="idref" href="#message:245"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:246" class="idref" href="#index:246"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:247" class="idref" href="#IndEqDec:247"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:246"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:248" class="idref" href="#IM:248"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:246"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:245"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;<a id="indices:249" class="idref" href="#indices:249"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;(<a id="sub_IM:250" class="idref" href="#sub_IM:250"><span class="id" title="binder">sub_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:248"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:249"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index_prop_dec:252" class="idref" href="#sub_index_prop_dec:252"><span class="id" title="binder">sub_index_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:251" class="idref" href="#i:251"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:249"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:251"><span class="id" title="variable">i</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:249"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;{<a id="validator:253" class="idref" href="#validator:253"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="A:254" class="idref" href="#A:254"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:253"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:246"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:255" class="idref" href="#sender:255"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:245"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:253"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender_safety:256" class="idref" href="#Hsender_safety:256"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:248"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#A:254"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sender:255"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
If a sub-composition <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a></span> a message then its sender must be one of
the components of the sub-composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="sub_can_emit_sender" class="idref" href="#sub_can_emit_sender"><span class="id" title="lemma">sub_can_emit_sender</span></a> (<a id="P:257" class="idref" href="#P:257"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:258" class="idref" href="#m:258"><span class="id" title="binder">m</span></a> <a id="v:259" class="idref" href="#v:259"><span class="id" title="binder">v</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:258"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:259"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:257"><span class="id" title="variable">P</span></a>)  <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:258"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:259"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> <span class="id" title="var">m</span> <span class="id" title="var">v</span> <span class="id" title="var">Hsender</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hemit</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">s</span>, <span class="id" title="var">om</span>) [(<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>) [<span class="id" title="var">s'</span> <span class="id" title="var">Ht</span>]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">li</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#PreSubFree_PreFree_weak_full_projection"><span class="id" title="lemma">PreSubFree_PreFree_weak_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#initial_state_is_valid"><span class="id" title="lemma">initial_state_is_valid</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.Composition.html#composite_s0"><span class="id" title="definition">composite_s0</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_input_valid_transition"><span class="id" title="lemma">VLSM_incl_input_valid_transition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_loaded_vlsm_incl_pre_loaded_with_all_messages"><span class="id" title="lemma">pre_loaded_vlsm_incl_pre_loaded_with_all_messages</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <span class="id" title="var">P</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_weak_full_projection_input_valid_transition"><span class="id" title="lemma">VLSM_weak_full_projection_input_valid_transition</span></a> <span class="id" title="var">Hproj</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Ht</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_component_projection"><span class="id" title="lemma">ProjectionTraces.preloaded_component_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to"><span class="id" title="definition">lift_sub_state_to</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">s'</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">sX'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">lX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_projection_input_valid_transition"><span class="id" title="definition">VLSM_projection_input_valid_transition</span></a> <span class="id" title="var">Hproj</span> <span class="id" title="var">lX</span> <span class="id" title="var">li</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">lX</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hproj_t</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.ProjectionTraces.html#composite_project_label"><span class="id" title="definition">ProjectionTraces.composite_project_label</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.index"><span class="id" title="variable">index</span></a>) (<span class="id" title="var">x</span> := <span class="id" title="var">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.Eqdep_dec.html#UIP_dec"><span class="id" title="lemma">Eqdep_dec.UIP_dec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hproj_t</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Ht</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsender_safety</span>. { <span class="id" title="tactic">eexists</span> <span class="id" title="var">_</span>, <span class="id" title="var">_</span>, <span class="id" title="var">_</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">Hproj_t</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab84"></a><h3 class="section">Sender and sender-safety specialized for the subcomposition</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM_sender" class="idref" href="#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a> (<a id="m:260" class="idref" href="#m:260"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<span class="id" title="definition">dsig</span> (<span class="id" title="keyword">fun</span> <a id="v:261" class="idref" href="#v:261"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:261"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:260"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">Av_in</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> (<span class="id" title="keyword">fun</span> <a id="v:262" class="idref" href="#v:262"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:262"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">v</span> <span class="id" title="var">Av_in</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="sub_IM_A" class="idref" href="#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a><br/>
&nbsp;&nbsp;(<a id="v:264" class="idref" href="#v:264"><span class="id" title="binder">v</span></a> : <span class="id" title="definition">dsig</span> (<span class="id" title="keyword">fun</span> <a id="v:263" class="idref" href="#v:263"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:263"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>))<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#proj1_sig"><span class="id" title="definition">proj1_sig</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:264"><span class="id" title="variable">v</span></a>)) (<span class="id" title="definition">proj2_dsig</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:264"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_preserves_channel_authentication" class="idref" href="#sub_IM_preserves_channel_authentication"><span class="id" title="lemma">sub_IM_preserves_channel_authentication</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsigned</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">m</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hsigned</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|]; [|<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>; <span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="instance">Some_inj</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemit</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.Preamble.html#dec_sig_eq_iff"><span class="id" title="definition">dec_sig_eq_iff</span></a>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_preserves_no_initial_messages" class="idref" href="#sub_IM_preserves_no_initial_messages"><span class="id" title="lemma">sub_IM_preserves_no_initial_messages</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hno_init</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hno_init</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_sender_safety" class="idref" href="#sub_IM_sender_safety"><span class="id" title="lemma">sub_IM_sender_safety</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">sub_v</span> <span class="id" title="var">Hsender</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_v</span> <span class="id" title="var">v</span> <span class="id" title="var">HAv</span> <span class="id" title="var">Heqsub_v</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> <span class="id" title="var">m</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">_v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsender_v</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hsender</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">clear</span> -<span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="sub_IM_Hbs:266" class="idref" href="#sub_IM_Hbs:266"><span class="id" title="binder">sub_IM_Hbs</span></a> : <span class="id" title="notation">forall</span> <a id="sub_i:265" class="idref" href="#sub_i:265"><span class="id" title="binder">sub_i</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:265"><span class="id" title="variable">sub_i</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_has_been_sent_iff_by_sender" class="idref" href="#sub_IM_has_been_sent_iff_by_sender"><span class="id" title="lemma">sub_IM_has_been_sent_iff_by_sender</span></a> <a id="s:267" class="idref" href="#s:267"><span class="id" title="binder">s</span></a><br/>
&nbsp;&nbsp;(<a id="Hs:268" class="idref" href="#Hs:268"><span class="id" title="binder">Hs</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#valid_state_prop"><span class="id" title="definition">valid_state_prop</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:267"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;<a id="m:269" class="idref" href="#m:269"><span class="id" title="binder">m</span></a> <a id="v:270" class="idref" href="#v:270"><span class="id" title="binder">v</span></a><br/>
&nbsp;&nbsp;(<a id="Hsender:271" class="idref" href="#Hsender:271"><span class="id" title="binder">Hsender</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:269"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:270"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hv:272" class="idref" href="#Hv:272"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:270"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.html#composite_has_been_sent"><span class="id" title="definition">composite_has_been_sent</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM_Hbs"><span class="id" title="variable">sub_IM_Hbs</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:267"><span class="id" title="variable">s</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:269"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM_Hbs"><span class="id" title="variable">sub_IM_Hbs</span></a> (<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:270"><span class="id" title="variable">v</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hv:272"><span class="id" title="variable">Hv</span></a>)) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:267"><span class="id" title="variable">s</span></a> (<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:270"><span class="id" title="variable">v</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Hv:272"><span class="id" title="variable">Hv</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:269"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSM.html#valid_state_has_trace"><span class="id" title="lemma">valid_state_has_trace</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Htr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htr</span> <span class="id" title="keyword">as</span> [<span class="id" title="keyword">is</span> [<span class="id" title="var">tr</span> <span class="id" title="var">Htr</span>]].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_iff_by_sender"><span class="id" title="lemma">has_been_sent_iff_by_sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM_Hbs"><span class="id" title="variable">sub_IM_Hbs</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender_safety"><span class="id" title="lemma">sub_IM_sender_safety</span></a> <span class="id" title="var">Htr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hsent_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hsent_m</span> <span class="id" title="var">m</span> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> (<span class="id" title="keyword">fun</span> <a id="v:274" class="idref" href="#v:274"><span class="id" title="binder">v</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#v:273"><span class="id" title="variable">v</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">Hv</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hsent_m</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_sender"><span class="id" title="definition">sub_IM_sender</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="var">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsent_m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> -<span class="id" title="var">Hsender</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_A"><span class="id" title="definition">sub_IM_A</span></a>, <span class="id" title="var">sub_IM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">s</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">sAv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">sAv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> (<span class="id" title="definition">dexist</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">Hv</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent_irrelevance"><span class="id" title="lemma">has_been_sent_irrelevance</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.ProjectionTraces.html#preloaded_valid_state_projection"><span class="id" title="lemma">preloaded_valid_state_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">Hv</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab85"></a><h2 class="section">No-equivocation results for sub-composition</h2>

<div class="paragraph"> </div>

 Constraining (only) a subset of the nodes of a composition to not message-
equivocate.

</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="sub_IM_not_equivocating_constraint" class="idref" href="#sub_IM_not_equivocating_constraint"><span class="id" title="definition">sub_IM_not_equivocating_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="l:275" class="idref" href="#l:275"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="som:276" class="idref" href="#som:276"><span class="id" title="binder">som</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="s:277" class="idref" href="#s:277"><span class="id" title="binder">s</span></a>, <a id="om:278" class="idref" href="#om:278"><span class="id" title="binder">om</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#som:276"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:278"><span class="id" title="variable">om</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">i</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">non_byzantine_i</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sub_i:280" class="idref" href="#sub_i:280"><span class="id" title="binder">sub_i</span></a> := <a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">non_byzantine_i</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="VLSM.Core.Equivocation.html#has_been_sent"><span class="id" title="method">has_been_sent</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM_Hbs"><span class="id" title="variable">sub_IM_Hbs</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:280"><span class="id" title="variable">sub_i</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:277"><span class="id" title="variable">s</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <span class="id" title="notation">True</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="non_sub_index_authenticated_message" class="idref" href="#non_sub_index_authenticated_message"><span class="id" title="definition">non_sub_index_authenticated_message</span></a> (<a id="m:281" class="idref" href="#m:281"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.message"><span class="id" title="variable">message</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="i:282" class="idref" href="#i:282"><span class="id" title="binder">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:282"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆ‰</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:282"><span class="id" title="variable">i</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:281"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="no_initial_messages_in_IM:283" class="idref" href="#no_initial_messages_in_IM:283"><span class="id" title="binder">no_initial_messages_in_IM</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#no_initial_messages_in_IM_prop"><span class="id" title="definition">no_initial_messages_in_IM_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="can_emit_signed:284" class="idref" href="#can_emit_signed:284"><span class="id" title="binder">can_emit_signed</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#channel_authentication_prop"><span class="id" title="definition">channel_authentication_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_valid_preservation" class="idref" href="#induced_sub_projection_valid_preservation"><span class="id" title="lemma">induced_sub_projection_valid_preservation</span></a> <a id="constraint:285" class="idref" href="#constraint:285"><span class="id" title="binder">constraint</span></a> <a id="l:286" class="idref" href="#l:286"><span class="id" title="binder">l</span></a> <a id="s:287" class="idref" href="#s:287"><span class="id" title="binder">s</span></a> <a id="om:288" class="idref" href="#om:288"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:289" class="idref" href="#Hv:289"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:285"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:286"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:287"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:288"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_valid"><span class="id" title="definition">composite_valid</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:286"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:287"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:288"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lX</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">Heql</span> [<span class="id" title="var">Heqs</span> [<span class="id" title="var">HsX</span> [<span class="id" title="var">Hom</span> [<span class="id" title="var">Hv</span> <span class="id" title="var">Hc</span>]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lX</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">lXi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_label_sub_projection_option"><span class="id" title="definition">composite_label_sub_projection_option</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heql</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="induced_sub_projection_transition_preservation" class="idref" href="#induced_sub_projection_transition_preservation"><span class="id" title="lemma">induced_sub_projection_transition_preservation</span></a> [<a id="constraint:290" class="idref" href="#constraint:290"><span class="id" title="binder">constraint</span></a>]<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="l:291" class="idref" href="#l:291"><span class="id" title="binder">l</span></a> <a id="s:292" class="idref" href="#s:292"><span class="id" title="binder">s</span></a> <a id="om:293" class="idref" href="#om:293"><span class="id" title="binder">om</span></a> <a id="s':294" class="idref" href="#s':294"><span class="id" title="binder">s'</span></a> <a id="om':295" class="idref" href="#om':295"><span class="id" title="binder">om'</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:290"><span class="id" title="variable">constraint</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:291"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:292"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:293"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':294"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':295"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Composition.html#composite_transition"><span class="id" title="definition">composite_transition</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:291"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:292"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:293"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s':294"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om':295"><span class="id" title="variable">om'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span> <span class="id" title="tactic">at</span> 6. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi0</span> := <span class="id" title="var">Hi</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">extensionality</span> <span class="id" title="var">sub_j</span><br/>
&nbsp;&nbsp;; <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqsub_j</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span><br/>
&nbsp;&nbsp;; (<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>; <span class="id" title="tactic">reflexivity</span>|])<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> (<a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">dsig_eq</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">congruence</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a><br/>
&nbsp;&nbsp;; <span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_to_eq"><span class="id" title="lemma">lift_sub_state_to_eq</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">Hi0</span> := <span class="id" title="var">Hj</span>)<br/>
&nbsp;&nbsp;; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_IM_no_equivocation_preservation" class="idref" href="#sub_IM_no_equivocation_preservation"><span class="id" title="lemma">sub_IM_no_equivocation_preservation</span></a><br/>
&nbsp;&nbsp;<a id="l:296" class="idref" href="#l:296"><span class="id" title="binder">l</span></a> <a id="s:297" class="idref" href="#s:297"><span class="id" title="binder">s</span></a> <a id="om:298" class="idref" href="#om:298"><span class="id" title="binder">om</span></a><br/>
&nbsp;&nbsp;(<a id="Hv:299" class="idref" href="#Hv:299"><span class="id" title="binder">Hv</span></a> : <a class="idref" href="VLSM.Core.VLSM.html#vvalid"><span class="id" title="definition">vvalid</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#induced_sub_projection"><span class="id" title="definition">induced_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.indices"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_not_equivocating_constraint"><span class="id" title="definition">sub_IM_not_equivocating_constraint</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:296"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:297"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:298"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Equivocation.NoEquivocation.html#composite_no_equivocations_except_from"><span class="id" title="definition">composite_no_equivocations_except_from</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sub_IM_Hbs"><span class="id" title="variable">sub_IM_Hbs</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#non_sub_index_authenticated_message"><span class="id" title="definition">non_sub_index_authenticated_message</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:296"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:297"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:298"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">om</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">m</span>|]; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lX</span> [<span class="id" title="var">sX</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Heqs</span> [<span class="id" title="var">_</span> [<span class="id" title="var">Hm</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hc</span>]]]]]]].<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span> |- *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Equivocation.html#composite_no_initial_valid_messages_have_sender"><span class="id" title="lemma">composite_no_initial_valid_messages_have_sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.can_emit_signed"><span class="id" title="variable">can_emit_signed</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.no_initial_messages_in_IM"><span class="id" title="variable">no_initial_messages_in_IM</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hm</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hhas_sender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">v</span>|] <span class="id" title="var">eqn</span>:<span class="id" title="var">Hsender</span>; [|<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Hhas_sender</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSM.html#emitted_messages_are_valid_iff"><span class="id" title="lemma">emitted_messages_are_valid_iff</span></a> (<a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_not_equivocating_constraint"><span class="id" title="definition">sub_IM_not_equivocating_constraint</span></a>) <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> [[<span class="id" title="var">im</span> <span class="id" title="var">Him</span>] <span class="id" title="var">Heqm</span>]] | <span class="id" title="var">Hemitted</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">clear</span> -<span class="id" title="var">no_initial_messages_in_IM</span> <span class="id" title="var">Him</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.no_initial_messages_in_IM"><span class="id" title="variable">no_initial_messages_in_IM</span></a> <span class="id" title="var">i</span> <span class="id" title="var">im</span>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_incl_can_emit"><span class="id" title="lemma">VLSM_incl_can_emit</span></a> (<a class="idref" href="VLSM.Core.Composition.html#constraint_preloaded_free_incl"><span class="id" title="lemma">constraint_preloaded_free_incl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">Hemitted</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.EquivocationProjections.html#can_emit_projection"><span class="id" title="lemma">can_emit_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.sender"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.Hsender_safety"><span class="id" title="variable">Hsender_safety</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">m</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">spec</span> <span class="id" title="var">Hemit</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>; <span class="id" title="tactic">intuition</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hemit</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hemitted</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_decide</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender.A"><span class="id" title="variable">A</span></a> <span class="id" title="var">v</span>). <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.Equivocation.html#channel_authenticated_message"><span class="id" title="definition">channel_authenticated_message</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsender</span>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_sender"><span class="id" title="section">sub_composition_sender</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_all" class="idref" href="#sub_composition_all"><span class="id" title="section">sub_composition_all</span></a>.<br/>
</div>

<div class="doc">
<a id="lab86"></a><h2 class="section">A subcomposition with all the components</h2>


<div class="paragraph"> </div>

If taking the subset of indices used for the sub-composition to be the entire
set of indices, the obtained sub-composition is trace-equivalent with the
original composition.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:300" class="idref" href="#message:300"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:301" class="idref" href="#index:301"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:302" class="idref" href="#IndEqDec:302"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:301"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:303" class="idref" href="#IM:303"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:301"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:300"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;{<a id="finite_index:304" class="idref" href="#finite_index:304"><span class="id" title="binder">finite_index</span></a> : <span class="id" title="class">finite.Finite</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:301"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="sub_IM:305" class="idref" href="#sub_IM:305"><span class="id" title="binder">sub_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a id="free_sub_free_index" class="idref" href="#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> (<a id="i:306" class="idref" href="#i:306"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:306"><span class="id" title="variable">i</span></a> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="method">elem_of_enum</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_free_label" class="idref" href="#free_sub_free_label"><span class="id" title="definition">free_sub_free_label</span></a> (<a id="l:307" class="idref" href="#l:307"><span class="id" title="binder">l</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a>) : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="i:308" class="idref" href="#i:308"><span class="id" title="binder">i</span></a>, <a id="li:309" class="idref" href="#li:309"><span class="id" title="binder">li</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:307"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:308"><span class="id" title="variable">i</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#li:309"><span class="id" title="variable">li</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_free_state" class="idref" href="#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> (<a id="sub_s:310" class="idref" href="#sub_s:310"><span class="id" title="binder">sub_s</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a>) : <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="i:311" class="idref" href="#i:311"><span class="id" title="binder">i</span></a> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_s:310"><span class="id" title="variable">sub_s</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:311"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="free_sub_free_constraint" class="idref" href="#free_sub_free_constraint"><span class="id" title="definition">free_sub_free_constraint</span></a><br/>
&nbsp;&nbsp;(<a id="constraint:312" class="idref" href="#constraint:312"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="l:313" class="idref" href="#l:313"><span class="id" title="binder">l</span></a> <a id="som:314" class="idref" href="#som:314"><span class="id" title="binder">som</span></a> =&gt; <span class="id" title="keyword">let</span> (<a id="s:315" class="idref" href="#s:315"><span class="id" title="binder">s</span></a>, <a id="om:316" class="idref" href="#om:316"><span class="id" title="binder">om</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#som:314"><span class="id" title="variable">som</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:312"><span class="id" title="variable">constraint</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#l:313"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#s:315"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#om:316"><span class="id" title="variable">om</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="constraint:317" class="idref" href="#constraint:317"><span class="id" title="binder">constraint</span></a> : <a class="idref" href="VLSM.Core.Composition.html#composite_label"><span class="id" title="definition">composite_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.Composition.html#composite_state"><span class="id" title="definition">composite_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="X:318" class="idref" href="#X:318"><span class="id" title="binder">X</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:317"><span class="id" title="variable">constraint</span></a>)<br/>
&nbsp;&nbsp;(<a id="SubX:319" class="idref" href="#SubX:319"><span class="id" title="binder">SubX</span></a> := <a class="idref" href="VLSM.Core.Composition.html#composite_vlsm"><span class="id" title="definition">composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.sub_IM"><span class="id" title="variable">sub_IM</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_constraint"><span class="id" title="definition">free_sub_free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#constraint:317"><span class="id" title="variable">constraint</span></a>))<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="preloaded_sub_composition_all_full_projection" class="idref" href="#preloaded_sub_composition_all_full_projection"><span class="id" title="lemma">preloaded_sub_composition_all_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="seed:320" class="idref" href="#seed:320"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:320"><span class="id" title="variable">seed</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.SubX"><span class="id" title="variable">SubX</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:320"><span class="id" title="variable">seed</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_label"><span class="id" title="definition">free_sub_free_label</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] | <span class="id" title="var">Hseed</span>]; [<span class="id" title="tactic">left</span>|<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_composition_all_full_projection" class="idref" href="#sub_composition_all_full_projection"><span class="id" title="lemma">sub_composition_all_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.X"><span class="id" title="variable">X</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.SubX"><span class="id" title="variable">SubX</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_label"><span class="id" title="definition">free_sub_free_label</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>). <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i</span>, <span class="id" title="var">li</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_j</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span> <span class="id" title="var">Heqj</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_state_sub_projection"><span class="id" title="definition">composite_state_sub_projection</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>|<span class="id" title="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#composite_initial_state_sub_projection"><span class="id" title="lemma">composite_initial_state_sub_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sub_composition_all_full_projection_rev" class="idref" href="#sub_composition_all_full_projection_rev"><span class="id" title="lemma">sub_composition_all_full_projection_rev</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.SubX"><span class="id" title="variable">SubX</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.X"><span class="id" title="variable">X</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.IM"><span class="id" title="variable">IM</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_strong_full_projection"><span class="id" title="lemma">basic_VLSM_strong_full_projection</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>). <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqi</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> (@<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;; [<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub_i</span>, <span class="id" title="var">li</span>). <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqi</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span> <span class="id" title="tactic">at</span> 2, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">SubProjectionTraces.sub_IM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">s</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>)) <span class="id" title="keyword">with</span> (<span class="id" title="var">s</span> (@<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all.index"><span class="id" title="variable">index</span></a>)) <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_pi"><span class="id" title="lemma">sub_IM_state_pi</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="VLSM.Core.VLSM.html#vtransition"><span class="id" title="definition">vtransition</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">si'</span>, <span class="id" title="var">_om'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality_dep"><span class="id" title="axiom">functional_extensionality_dep</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_state"><span class="id" title="definition">free_sub_free_state</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">sub_IM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="VLSM.Core.Composition.html#state_update_eq"><span class="id" title="lemma">state_update_eq</span></a>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM_state_update_eq"><span class="id" title="lemma">sub_IM_state_update_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> !<a class="idref" href="VLSM.Core.Composition.html#state_update_neq"><span class="id" title="lemma">state_update_neq</span></a>; [<span class="id" title="tactic">reflexivity</span>| |<span class="id" title="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">dsig_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcontra</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#free_sub_free_index"><span class="id" title="definition">free_sub_free_index</span></a> <span class="id" title="var">i</span>)). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">i</span> <span class="id" title="var">Hi</span>] <span class="id" title="var">Him</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_all"><span class="id" title="section">sub_composition_all</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="sub_composition_preloaded_lift" class="idref" href="#sub_composition_preloaded_lift"><span class="id" title="section">sub_composition_preloaded_lift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:321" class="idref" href="#message:321"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:322" class="idref" href="#index:322"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:323" class="idref" href="#IndEqDec:323"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:322"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:324" class="idref" href="#IM:324"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:322"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:321"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;<a id="indices:325" class="idref" href="#indices:325"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;(<a id="Free:326" class="idref" href="#Free:326"><span class="id" title="binder">Free</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:324"><span class="id" title="variable">IM</span></a>)<br/>
&nbsp;&nbsp;(<a id="PreFree:327" class="idref" href="#PreFree:327"><span class="id" title="binder">PreFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Free:326"><span class="id" title="variable">Free</span></a>)<br/>
&nbsp;&nbsp;(<a id="SubFree:328" class="idref" href="#SubFree:328"><span class="id" title="binder">SubFree</span></a> := <a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:324"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:325"><span class="id" title="variable">indices</span></a>))<br/>
&nbsp;&nbsp;(<a id="PreSubFree:329" class="idref" href="#PreSubFree:329"><span class="id" title="binder">PreSubFree</span></a> := <a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#SubFree:328"><span class="id" title="variable">SubFree</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_free_preloaded_with_full_projection" class="idref" href="#lift_sub_free_preloaded_with_full_projection"><span class="id" title="lemma">lift_sub_free_preloaded_with_full_projection</span></a><br/>
&nbsp;&nbsp;(<a id="seed:330" class="idref" href="#seed:330"><span class="id" title="binder">seed</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:330"><span class="id" title="variable">seed</span></a>) (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#seed:330"><span class="id" title="variable">seed</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#basic_VLSM_full_projection_preloaded_with"><span class="id" title="lemma">basic_VLSM_full_projection_preloaded_with</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a> <span class="id" title="var">seed</span> <span class="id" title="var">seed</span>); <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#I"><span class="id" title="constructor">I</span></a>]. <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_valid"><span class="id" title="lemma">lift_sub_valid</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_transition"><span class="id" title="lemma">lift_sub_transition</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state_initial"><span class="id" title="lemma">lift_sub_state_initial</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a>); <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_message_initial"><span class="id" title="lemma">lift_sub_message_initial</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>); <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_free_full_projection" class="idref" href="#lift_sub_free_full_projection"><span class="id" title="lemma">lift_sub_free_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_is_pre_loaded_with_False"><span class="id" title="lemma">vlsm_is_pre_loaded_with_False</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_finite_valid_trace"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_free_preloaded_with_full_projection"><span class="id" title="lemma">lift_sub_free_preloaded_with_full_projection</span></a> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.html#vlsm_is_pre_loaded_with_False"><span class="id" title="lemma">vlsm_is_pre_loaded_with_False</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lift_sub_preloaded_free_full_projection" class="idref" href="#lift_sub_preloaded_free_full_projection"><span class="id" title="lemma">lift_sub_preloaded_free_full_projection</span></a><br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection"><span class="id" title="record">VLSM_full_projection</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.PreFree"><span class="id" title="variable">PreFree</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_label"><span class="id" title="definition">lift_sub_label</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_state"><span class="id" title="definition">lift_sub_state</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sX</span> <span class="id" title="var">trX</span> <span class="id" title="var">HtrX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.Free"><span class="id" title="variable">Free</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_finite_valid_trace"><span class="id" title="definition">VLSM_full_projection_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_free_preloaded_with_full_projection"><span class="id" title="lemma">lift_sub_free_preloaded_with_full_projection</span></a> <span class="id" title="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_eq_finite_valid_trace"><span class="id" title="lemma">VLSM_eq_finite_valid_trace</span></a> (<a class="idref" href="VLSM.Core.VLSMProjections.html#pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True"><span class="id" title="lemma">pre_loaded_with_all_messages_vlsm_is_pre_loaded_with_True</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="can_emit_sub_projection" class="idref" href="#can_emit_sub_projection"><span class="id" title="lemma">can_emit_sub_projection</span></a><br/>
&nbsp;&nbsp;{<a id="validator:331" class="idref" href="#validator:331"><span class="id" title="binder">validator</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;(<a id="A:332" class="idref" href="#A:332"><span class="id" title="binder">A</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:331"><span class="id" title="variable">validator</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="sender:333" class="idref" href="#sender:333"><span class="id" title="binder">sender</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#validator:331"><span class="id" title="variable">validator</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hsender_safety:334" class="idref" href="#Hsender_safety:334"><span class="id" title="binder">Hsender_safety</span></a> : <a class="idref" href="VLSM.Core.Equivocation.html#sender_safety_alt_prop"><span class="id" title="definition">sender_safety_alt_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#A:332"><span class="id" title="variable">A</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sender:333"><span class="id" title="variable">sender</span></a>)<br/>
&nbsp;&nbsp;(<a id="j:335" class="idref" href="#j:335"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:336" class="idref" href="#m:336"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hj:337" class="idref" href="#Hj:337"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option_map"><span class="id" title="definition">option_map</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#A:332"><span class="id" title="variable">A</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sender:333"><span class="id" title="variable">sender</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:336"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:335"><span class="id" title="variable">j</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.PreSubFree"><span class="id" title="variable">PreSubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:336"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_with_all_messages_vlsm"><span class="id" title="definition">pre_loaded_with_all_messages_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:335"><span class="id" title="variable">j</span></a>)) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:336"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Core.EquivocationProjections.html#can_emit_projection"><span class="id" title="lemma">can_emit_projection</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">validator</span> <span class="id" title="var">A</span> <span class="id" title="var">sender</span>; [<span class="id" title="tactic">assumption</span>|<span class="id" title="tactic">assumption</span>|].<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_can_emit"><span class="id" title="definition">VLSM_full_projection_can_emit</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#lift_sub_preloaded_free_full_projection"><span class="id" title="lemma">lift_sub_preloaded_free_full_projection</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
If a node can emit a message, it can also emit it in a subcomposition with
other nodes, and starting with more pre-loaded messages.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="can_emit_with_more" class="idref" href="#can_emit_with_more"><span class="id" title="lemma">can_emit_with_more</span></a><br/>
&nbsp;&nbsp;(<a id="j:338" class="idref" href="#j:338"><span class="id" title="binder">j</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;(<a id="m:339" class="idref" href="#m:339"><span class="id" title="binder">m</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hj:340" class="idref" href="#Hj:340"><span class="id" title="binder">Hj</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:338"><span class="id" title="variable">j</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="P:341" class="idref" href="#P:341"><span class="id" title="binder">P</span></a> <a id="Q:342" class="idref" href="#Q:342"><span class="id" title="binder">Q</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;(<a id="PimpliesQ:344" class="idref" href="#PimpliesQ:344"><span class="id" title="binder">PimpliesQ</span></a> : <span class="id" title="notation">forall</span> <a id="m:343" class="idref" href="#m:343"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:343"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:342"><span class="id" title="variable">Q</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:343"><span class="id" title="variable">m</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#j:338"><span class="id" title="variable">j</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:341"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:339"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.SubFree"><span class="id" title="variable">SubFree</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#Q:342"><span class="id" title="variable">Q</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:339"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hemit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#lift_to_composite_generalized_preloaded_vlsm_full_projection"><span class="id" title="lemma">lift_to_composite_generalized_preloaded_vlsm_full_projection</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift.indices"><span class="id" title="variable">indices</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">PimpliesQ</span> (<span class="id" title="definition">dexist</span> <span class="id" title="var">j</span> <span class="id" title="var">Hj</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> <span class="id" title="var">Hproj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="VLSM.Core.VLSMProjections.html#VLSM_full_projection_can_emit"><span class="id" title="definition">VLSM_full_projection_can_emit</span></a> <span class="id" title="var">Hproj</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_composition_preloaded_lift"><span class="id" title="section">sub_composition_preloaded_lift</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="empty_sub_composition" class="idref" href="#empty_sub_composition"><span class="id" title="section">empty_sub_composition</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab87"></a><h2 class="section">A subcomposition with no components</h2>


<div class="paragraph"> </div>

If taking the subset of indices used for the sub-composition to be the empty
set of indices, the obtained sub-composition is an empty composition.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:345" class="idref" href="#message:345"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="index:346" class="idref" href="#index:346"><span class="id" title="binder">index</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;{<a id="IndEqDec:347" class="idref" href="#IndEqDec:347"><span class="id" title="binder">IndEqDec</span></a> : <span class="id" title="abbreviation">EqDecision</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:346"><span class="id" title="variable">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:348" class="idref" href="#IM:348"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:346"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:345"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;<a id="indices:349" class="idref" href="#indices:349"><span class="id" title="binder">indices</span></a><br/>
&nbsp;&nbsp;(<a id="sub_IM:350" class="idref" href="#sub_IM:350"><span class="id" title="binder">sub_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#IM:348"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:349"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="sub_index_prop_dec:352" class="idref" href="#sub_index_prop_dec:352"><span class="id" title="binder">sub_index_prop_dec</span></a> : <span class="id" title="notation">forall</span> <a id="i:351" class="idref" href="#i:351"><span class="id" title="binder">i</span></a><span class="id" title="notation">,</span> <span class="id" title="class">Decision</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:349"><span class="id" title="variable">indices</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:351"><span class="id" title="variable">i</span></a>) := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop_dec"><span class="id" title="instance">sub_index_prop_dec</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:349"><span class="id" title="variable">indices</span></a>)<br/>
&nbsp;&nbsp;(<a id="Hno_indices:353" class="idref" href="#Hno_indices:353"><span class="id" title="binder">Hno_indices</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#indices:349"><span class="id" title="variable">indices</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
</div>

<div class="doc">
If a sub-composition <span class="inlinecode"><a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a></span> a message then its sender must be one of
the components of the sub-composition.

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="sub_no_indices_no_can_emit" class="idref" href="#sub_no_indices_no_can_emit"><span class="id" title="lemma">sub_no_indices_no_can_emit</span></a> (<a id="P:354" class="idref" href="#P:354"><span class="id" title="binder">P</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition.message"><span class="id" title="variable">message</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="m:355" class="idref" href="#m:355"><span class="id" title="binder">m</span></a><span class="id" title="notation">,</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="VLSM.Core.VLSM.html#can_emit"><span class="id" title="definition">can_emit</span></a> (<a class="idref" href="VLSM.Core.VLSM.html#pre_loaded_vlsm"><span class="id" title="definition">pre_loaded_vlsm</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_composite_vlsm"><span class="id" title="definition">free_composite_vlsm</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#P:354"><span class="id" title="variable">P</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#m:355"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="VLSM.Core.Composition.html#pre_loaded_empty_composition_no_emit"><span class="id" title="lemma">pre_loaded_empty_composition_no_emit</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition.sub_IM"><span class="id" title="variable">sub_IM</span></a> (<a class="idref" href="VLSM.Core.Composition.html#free_constraint"><span class="id" title="definition">free_constraint</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition.sub_IM"><span class="id" title="variable">sub_IM</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">sub_i</span>. <span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">indices</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#empty_sub_composition"><span class="id" title="section">empty_sub_composition</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="update_IM" class="idref" href="#update_IM"><span class="id" title="section">update_IM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;{<a id="message:356" class="idref" href="#message:356"><span class="id" title="binder">message</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;`{<a id="EqDecision0:358" class="idref" href="#EqDecision0:358"><span class="id" title="binder">EqDecision</span></a> <a id="EqDecision0:358" class="idref" href="#EqDecision0:358"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="IM:359" class="idref" href="#IM:359"><span class="id" title="binder">IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:357"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#message:356"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="selection:360" class="idref" href="#selection:360"><span class="id" title="binder">selection</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#index:357"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="update_IM" class="idref" href="#update_IM"><span class="id" title="definition">update_IM</span></a><br/>
&nbsp;&nbsp;(<a id="replacement_IM:361" class="idref" href="#replacement_IM:361"><span class="id" title="binder">replacement_IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="i:362" class="idref" href="#i:362"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.message"><span class="id" title="variable">message</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">decide</span> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:362"><span class="id" title="variable">i</span></a> <span class="id" title="notation">âˆˆ</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Specif.html#left"><span class="id" title="constructor">left</span></a> <span class="id" title="var">i_in</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#replacement_IM:361"><span class="id" title="variable">replacement_IM</span></a> (<a class="idref" href="VLSM.Lib.Preamble.html#dec_exist"><span class="id" title="definition">dec_exist</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index_prop"><span class="id" title="definition">sub_index_prop</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:362"><span class="id" title="variable">i</span></a> <span class="id" title="var">i_in</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:362"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="comment">(*&nbsp;TODO(bmmoore):&nbsp;use&nbsp;the&nbsp;definition&nbsp;above&nbsp;to&nbsp;provide&nbsp;an&nbsp;alternate&nbsp;definition<br/>
for&nbsp;fixed-set&nbsp;equivocation&nbsp;model,&nbsp;similar&nbsp;to&nbsp;the&nbsp;one&nbsp;for&nbsp;byzantine&nbsp;traces.<br/>
*)</span><br/>

<br/>
<span class="id" title="keyword">Context</span><br/>
&nbsp;&nbsp;(<a id="replacement_IM:363" class="idref" href="#replacement_IM:363"><span class="id" title="binder">replacement_IM</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="VLSM.Core.VLSM.html#VLSM"><span class="id" title="definition">VLSM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.message"><span class="id" title="variable">message</span></a>)<br/>
&nbsp;&nbsp;(<a id="updated_IM:364" class="idref" href="#updated_IM:364"><span class="id" title="binder">updated_IM</span></a> := <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM"><span class="id" title="definition">update_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#replacement_IM:363"><span class="id" title="variable">replacement_IM</span></a>)<br/>
&nbsp;&nbsp;`{<a id="H:366" class="idref" href="#H:366"><span class="id" title="binder">finite.Finite</span></a> <a id="H:366" class="idref" href="#H:366"><span class="id" title="binder">index</span></a>}<br/>
&nbsp;&nbsp;(<a id="selection_complement:367" class="idref" href="#selection_complement:367"><span class="id" title="binder">selection_complement</span></a> : <a class="idref" href="VLSM.Lib.StdppListSet.html#set"><span class="id" title="definition">set</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a> := <a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff"><span class="id" title="definition">set_diff</span></a> (<span class="id" title="method">enum</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a>) <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection"><span class="id" title="variable">selection</span></a>)<br/>
&nbsp;&nbsp;.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_IM_complement_Hbs" class="idref" href="#update_IM_complement_Hbs"><span class="id" title="lemma">update_IM_complement_Hbs</span></a><br/>
&nbsp;&nbsp;(<a id="Hbs:369" class="idref" href="#Hbs:369"><span class="id" title="binder">Hbs</span></a> : <span class="id" title="notation">forall</span> <a id="i:368" class="idref" href="#i:368"><span class="id" title="binder">i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.index"><span class="id" title="variable">index</span></a><span class="id" title="notation">,</span> <a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.IM"><span class="id" title="variable">IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#i:368"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;: <span class="id" title="notation">forall</span> <a id="sub_i:370" class="idref" href="#sub_i:370"><span class="id" title="binder">sub_i</span></a> : <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_index"><span class="id" title="definition">sub_index</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection_complement"><span class="id" title="variable">selection_complement</span></a><span class="id" title="notation">,</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="VLSM.Core.Equivocation.html#HasBeenSentCapability"><span class="id" title="class">HasBeenSentCapability</span></a> (<a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.updated_IM"><span class="id" title="variable">updated_IM</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM.selection_complement"><span class="id" title="variable">selection_complement</span></a> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_i:370"><span class="id" title="variable">sub_i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#sub_IM"><span class="id" title="definition">sub_IM</span></a>, <span class="id" title="var">updated_IM</span>, <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM"><span class="id" title="definition">update_IM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">case_decide</span>; [|<span class="id" title="tactic">apply</span> <span class="id" title="var">Hbs</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_dec_sig</span> <span class="id" title="var">sub_i</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span> <span class="id" title="var">Heqsub_i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="VLSM.Lib.StdppListSet.html#set_diff_elim2"><span class="id" title="lemma">set_diff_elim2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="VLSM.Core.SubProjectionTraces.html#update_IM"><span class="id" title="section">update_IM</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
