<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>MessageDependencies.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+â†‘</kbd> <kbd>Ctrl+â†“</kbd> to navigate, <kbd>Ctrl+ğŸ–±ï¸</kbd> to focus. On Mac, use <kbd>âŒ˜</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FinFun Relations.Relation_Operators Program.Equality.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras FinFunExtras StdppListSet Measurable.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM VLSMProjections Composition ProjectionTraces SubProjectionTraces Equivocation EquivocationProjections.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">VLSM Message Dependencies</h1>
<div class="paragraph"> </div>

An abstract framework for the full-node condition.
Assumes that each message has an associated set of <span class="inlinecode"><span class="id" title="var">message_dependencies</span></span>.

<div class="paragraph"> </div>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  (<span class="nv">X</span> : VLSM message)
  `{HasBeenSentCapability message X}
  `{HasBeenReceivedCapability message X}
  .</span></span></pre><div class="doc">
The (local) full node condition for a given <code>message_dependencies</code> function
requires that a state (receiving the message) has previously
observed all of <code>m</code>'s dependencies.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">message_dependencies_full_node_condition</span>
  (<span class="nv">s</span> : vstate X)
  (<span class="nv">m</span> : message)
  : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ message_dependencies m -&gt; has_been_observed X s dm.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> characterize a <code>message_dependencies</code> function
through two properties:

<div class="paragraph"> </div>
<ul class="doclist">
<li> Necessity: All dependent messeges for a message <code>m</code>m are required to be

</li>
</ul>
observed by any state emitting the message <code>m</code>.

<div class="paragraph"> </div>
<ul class="doclist">
<li> Sufficiency: A message can be produced by the machine pre-loaded with its

</li>
</ul>
dependencies.

<div class="paragraph"> </div>

Together with <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition_prop</span></span>, it
constitutes the <i>full node assumption</i>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">MessageDependencies</span>
  :=
  { message_dependencies_are_necessary (m : message)
      `(can_produce (pre_loaded_with_all_messages_vlsm X) s m)
      : message_dependencies_full_node_condition s m
  ; message_dependencies_are_sufficient (m : message)
      `(can_emit (pre_loaded_with_all_messages_vlsm X) m)
      : can_emit (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">msg</span> =&gt; msg âˆˆ message_dependencies m)) m
  }.</span></span></pre><div class="doc">
A VLSM has the <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition_prop</span></span>
if the validity of receiving a message in a state implies the
<span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition</span></span> for that state and message

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">message_dependencies_full_node_condition_prop</span> : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">m</span>,
  vvalid X l (s, Some m) -&gt; message_dependencies_full_node_condition s m.</span></span></pre><div class="doc">
Membership to the message_dependencies of a message induces a dependency
relation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_rel</span> : relation message :=
  <span class="kr">fun</span> <span class="nv">m1</span> <span class="nv">m2</span> =&gt; m1 âˆˆ message_dependencies m2.</span></span></pre><div class="doc">
The transitive closure (<span class="inlinecode"><span class="id" title="var">clos_trans_1n</span></span>) of the <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span>ation is a
happens-before relation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">msg_dep_happens_before</span> : relation message := flip (clos_trans_1n _ (flip msg_dep_rel)).</span></span></pre><div class="doc">
Unrolling one the <span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> relation one step. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk0"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_iff_one</span> <span class="nv">x</span> <span class="nv">z</span>
  : msg_dep_happens_before x z &lt;-&gt;
    msg_dep_rel x z \/ <span class="kr">exists</span> <span class="nv">y</span>, msg_dep_happens_before x y /\ msg_dep_rel y z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before x z
â†” msg_dep_rel x z
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
       msg_dep_happens_before x y âˆ§ msg_dep_rel y z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before x z
â†” msg_dep_rel x z
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
       msg_dep_happens_before x y âˆ§ msg_dep_rel y z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before x z
â†’ msg_dep_rel x z
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
       msg_dep_happens_before x y âˆ§ msg_dep_rel y z)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk3"><hr></label><div class="goal-conclusion">msg_dep_rel x z
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
     msg_dep_happens_before x y âˆ§ msg_dep_rel y z)
â†’ msg_dep_happens_before x z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before x z
â†’ msg_dep_rel x z
  âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
       msg_dep_happens_before x y âˆ§ msg_dep_rel y z)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">subst</span>; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_rel x z
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">y</span> : message,
     msg_dep_happens_before x y âˆ§ msg_dep_rel y z)
â†’ msg_dep_happens_before x z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> [Hxz | [y [Hxy Hyz]]]; <span class="nb">econstructor</span>; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6"><span class="kn">Global Instance</span> <span class="nf">msg_dep_happens_before_transitive</span> : Transitive msg_dep_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive msg_dep_happens_before</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive msg_dep_happens_before</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8"><span class="nb">apply</span> flip_Transitive.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive (clos_trans_1n message (flip msg_dep_rel))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9"><span class="nb">intros</span> m1 m2 m3 .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>m1, m2, m3</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_trans_1n message (flip msg_dep_rel) m1 m2
â†’ clos_trans_1n message (flip msg_dep_rel) m2 m3
  â†’ clos_trans_1n message (flip msg_dep_rel) m1 m3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka"><span class="nb">rewrite</span> &lt;- !Relations.Operators_Properties.clos_trans_t1n_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>m1, m2, m3</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">clos_trans message (flip msg_dep_rel) m1 m2
â†’ clos_trans message (flip msg_dep_rel) m2 m3
  â†’ clos_trans message (flip msg_dep_rel) m1 m3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> t_trans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If the <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span>ation reflects a predicate <code>P</code> and the induced
<span class="inlinecode"><span class="id" title="var">msg_dep_happens_before</span></span> is <span class="inlinecode"><span class="id" title="var">well_founded</span></span>, then if <code>P</code> holds for a message,
it will hold for all its dependencies. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_reflect</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hreflects</span> : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel dm m -&gt; P m -&gt; P dm)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_happens_before dm m -&gt; P m -&gt; P dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before dm m â†’ P m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before dm m â†’ P m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkd"><span class="nb">intros</span> dm m Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chke"><span class="nb">clear</span> -Hdm Hreflects.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">induction</span> Hdm; <span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
In the absence of initial messages, and if <span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span> reflects the
pre-loaded message property, then it also reflects the <span class="inlinecode"><span class="id" title="var">valid_message_prop</span></span>erty.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkf"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_validity</span>
  `{MessageDependencies}
  (no_initial_messages_in_X : <span class="kr">forall</span> <span class="nv">m</span>, ~ vinitial_message_prop X m)
  (P : message -&gt; <span class="kt">Prop</span>)
  (Hreflects : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel dm m -&gt; P m -&gt; P dm)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel dm m -&gt;
    valid_message_prop (pre_loaded_vlsm X P) m -&gt;
    valid_message_prop (pre_loaded_vlsm X P) dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m
  â†’ valid_message_prop (pre_loaded_vlsm X P) m
    â†’ valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk10"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m
  â†’ valid_message_prop (pre_loaded_vlsm X P) m
    â†’ valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk11"><span class="nb">intros</span> dm m Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (pre_loaded_vlsm X P) m
â†’ valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk12"><span class="nb">rewrite</span> emitted_messages_are_valid_iff, can_emit_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m
âˆ¨ (<span class="kr">âˆƒ</span> <span class="nv">s</span> : state, can_produce (pre_loaded_vlsm X P) s m)
â†’ valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk13"><span class="nb">intros</span> [Hinit | [s Hproduce]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk14"><hr></label><div class="goal-conclusion">valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk15">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk16"><span class="nb">rewrite</span> emitted_messages_are_valid_iff; <span class="nb">left</span>; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk17"><span class="nb">apply</span> Hreflects <span class="kr">with</span> m; [<span class="bp">assumption</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk18"><span class="nb">destruct</span> Hinit <span class="kr">as</span> [Hinit | Hp]; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradict</span> Hinit; <span class="nb">apply</span> no_initial_messages_in_X.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk19">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1a"><span class="nb">apply</span> (observed_valid (pre_loaded_vlsm X P)) <span class="kr">with</span> (s0 := s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm X P) s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk1b"><hr></label><div class="goal-conclusion">has_been_observed (pre_loaded_vlsm X P) s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (pre_loaded_vlsm X P) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1d"><span class="kr">exists</span> (<span class="nv">Some</span> <span class="nv">m</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop (pre_loaded_vlsm X P) s
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> can_produce_valid; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (pre_loaded_vlsm X P) s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk1f"><span class="nb">cut</span> (has_been_observed X s dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm
â†’ has_been_observed (pre_loaded_vlsm X P) s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk20"><hr></label><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk21">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm
â†’ has_been_observed (pre_loaded_vlsm X P) s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> [Hsent | Hreceived]; [<span class="nb">left</span> | <span class="nb">right</span>]; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk22">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk23"><span class="nb">apply</span> message_dependencies_are_necessary <span class="kr">with</span> m; [| <span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>no_initial_messages_in_X</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  Â¬ vinitial_message_prop X
      m</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m â†’ P m â†’ P dm</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hproduce</var><span class="hyp-type"><b>: </b><span>can_produce (pre_loaded_vlsm X P) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_produce (pre_loaded_with_all_messages_vlsm X) s m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">revert</span> Hproduce
      ; <span class="nb">apply</span> VLSM_incl_can_produce, pre_loaded_vlsm_incl_pre_loaded_with_all_messages.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Under <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> assumptions, if a message <span class="inlinecode"><span class="id" title="var">has_been_sent</span></span>
in a state <code>s</code>, then any of its direct dependencies <span class="inlinecode"><span class="id" title="var">has_been_observed</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk24"><span class="kn">Lemma</span> <span class="nf">msg_dep_has_been_sent</span>
  `{MessageDependencies}
  s
  (Hs : valid_state_prop (pre_loaded_with_all_messages_vlsm X) s)
  m
  (Hsent : has_been_sent X s m)
  : <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel dm m -&gt; has_been_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk25"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk26"><span class="nb">apply</span> proper_sent <span class="kr">in</span> Hsent; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  X (field_selector output) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk27"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> (<span class="kr">is</span> &amp; tr &amp; Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  X (field_selector output) s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk28"><span class="nb">specialize</span> (Hsent _ _ Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>trace_has_message (field_selector output) m tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk29"><span class="nb">apply</span> Exists_exists <span class="kr">in</span> Hsent <span class="kr">as</span> (item &amp; Hitem &amp; Houtput).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2a"><span class="nb">intros</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2b"><span class="nb">eapply</span> in_futures_preserving_oracle_from_stepwise; <span class="nb">cycle</span> <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X <span class="nl">?s1</span> dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk2c"><hr></label><div class="goal-conclusion">oracle_stepwise_props <span class="nl">?selector</span> (has_been_observed X)</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk2d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk2d"><hr></label><div class="goal-conclusion">in_futures (pre_loaded_with_all_messages_vlsm X) <span class="nl">?s1</span> s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X <span class="nl">?s1</span> dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk2f"><span class="nb">eapply</span> message_dependencies_are_necessary; [|<span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_produce (pre_loaded_with_all_messages_vlsm X) 
  <span class="nl">?s1</span> m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk30"><span class="nb">unfold</span> can_produce.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce
  (pre_loaded_with_all_messages_vlsm X) <span class="nl">?s1</span> (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk31"><span class="nb">rewrite</span> &lt;- Houtput.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_can_produce
  (pre_loaded_with_all_messages_vlsm X) <span class="nl">?s1</span>
  (output item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk32"><span class="nb">eapply</span> can_produce_from_valid_trace; [|<span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) <span class="nl">?si</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk33"><span class="nb">eapply</span> valid_trace_forget_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm X) <span class="nl">?si</span> <span class="nl">?f</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (proj1 Htr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk34">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">oracle_stepwise_props <span class="nl">?selector</span> (has_been_observed X)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> has_been_observed_from_sent_received_stepwise_props.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures (pre_loaded_with_all_messages_vlsm X)
  (destination item) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk36"><span class="nb">eapply</span> elem_of_trace_in_futures_left; [|<span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Houtput</var><span class="hyp-type"><b>: </b><span>field_selector output m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm X) <span class="nl">?is</span> s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (proj1 Htr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If the <span class="inlinecode"><span class="id" title="var">valid</span></span>ity predicate has the <span class="inlinecode"><span class="id" title="var">message_dependencies_full_node_condition_prop</span></span>erty,
then if a message <span class="inlinecode"><span class="id" title="var">has_been_received</span></span> in a state <code>s</code>, any of its direct
dependencies <span class="inlinecode"><span class="id" title="var">has_been_observed</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk37"><span class="kn">Lemma</span> <span class="nf">full_node_has_been_received</span>
  (<span class="nv">Hfull</span> : message_dependencies_full_node_condition_prop)
  <span class="nv">s</span>
  (<span class="nv">Hs</span> : valid_state_prop (pre_loaded_with_all_messages_vlsm X) s)
  <span class="nv">m</span>
  (<span class="nv">Hreceived</span> : has_been_received X s m)
  : <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_rel dm m -&gt; has_been_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk38"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  msg_dep_rel dm m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk39"><span class="nb">intros</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3a"><span class="nb">apply</span> proper_received <span class="kr">in</span> Hreceived; [|<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  X (field_selector input) s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3b"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> [<span class="kr">is</span> [tr Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  X (field_selector input) s m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3c"><span class="nb">specialize</span> (Hreceived _ _ Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>trace_has_message (field_selector input) m
  tr</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3d"><span class="nb">apply</span> Exists_exists <span class="kr">in</span> Hreceived <span class="kr">as</span> [item [Hitem Hinput]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>item âˆˆ tr</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3e"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Hitem <span class="kr">as</span> [pre [suf Heqtr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk3f"><span class="nb">eapply</span> in_futures_preserving_oracle_from_stepwise <span class="kr">with</span> (s1 := finite_trace_last <span class="kr">is</span> pre)
  ; [<span class="nb">apply</span> has_been_observed_from_sent_received_stepwise_props|..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures (pre_loaded_with_all_messages_vlsm X)
  (finite_trace_last <span class="kr">is</span> pre) s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk40" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk40"><hr></label><div class="goal-conclusion">has_been_observed X (finite_trace_last <span class="kr">is</span> pre) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk41">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures (pre_loaded_with_all_messages_vlsm X)
  (finite_trace_last <span class="kr">is</span> pre) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk42"><span class="kr">exists</span> (<span class="nv">item</span>  :: suf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm X)
  (finite_trace_last <span class="kr">is</span> pre) s (item :: suf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk43"><span class="nb">eapply</span> finite_valid_trace_from_to_app_split.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s
  (pre ++ item :: suf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk44"><span class="nb">rewrite</span> &lt;- Heqtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Htr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk45">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X (finite_trace_last <span class="kr">is</span> pre) dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk46"><span class="nb">eapply</span> Hfull; [|<span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X <span class="nl">?l</span> (finite_trace_last <span class="kr">is</span> pre, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk47"><span class="nb">replace</span> (Some m) <span class="kr">with</span> (input item) <span class="bp">by</span> <span class="bp">assumption</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>field_selector input m item</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X <span class="nl">?l</span> (finite_trace_last <span class="kr">is</span> pre, input item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk48"><span class="nb">clear</span> Hinput.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vvalid X <span class="nl">?l</span> (finite_trace_last <span class="kr">is</span> pre, input item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk49"><span class="nb">eapply</span> (input_valid_transition_is_valid (pre_loaded_with_all_messages_vlsm X)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm X) <span class="nl">?l</span>
  (finite_trace_last <span class="kr">is</span> pre, input item) (<span class="nl">?s&#39;</span>, <span class="nl">?om&#39;</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4a"><span class="nb">eapply</span> input_valid_transition_to; [|<span class="nb">simpl</span>; <span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4b"><span class="nb">eapply</span> valid_trace_forget_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> s tr</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item :: suf</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (pre_loaded_with_all_messages_vlsm X) <span class="kr">is</span> <span class="nl">?f</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Htr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
By combining Lemmas <span class="inlinecode"><span class="id" title="var">msg_dep_has_been_sent</span></span> and <span class="inlinecode"><span class="id" title="var">full_node_has_been_received</span></span>,
<span class="inlinecode"><span class="id" title="var">msg_dep_rel</span></span> reflects the <span class="inlinecode"><span class="id" title="var">has_been_observed</span></span> predicate.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4c"><span class="kn">Lemma</span> <span class="nf">msg_dep_full_node_reflects_has_been_observed</span>
  `{MessageDependencies}
  (Hfull : message_dependencies_full_node_condition_prop)
  s
  (Hs : valid_state_prop (pre_loaded_with_all_messages_vlsm X) s)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel dm m -&gt;
    has_been_observed X s m -&gt;
    has_been_observed X s dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m
  â†’ has_been_observed X s m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel dm m
  â†’ has_been_observed X s m â†’ has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk4e"><span class="nb">intros</span> dm m Hdm [Hsent|Hreceived].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk4f"><hr></label><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk50">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> msg_dep_has_been_sent; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk51">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HasBeenSentCapability X</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>HasBeenReceivedCapability X</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MessageDependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span>message_dependencies_full_node_condition_prop</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (pre_loaded_with_all_messages_vlsm X) s</span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel dm m</span></span></span><br><span><var>Hreceived</var><span class="hyp-type"><b>: </b><span>has_been_received X s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed X s dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> full_node_has_been_received; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Given the VLSM for which it&#39;s defined, the other arguments (message,</span>
<span class="c">message_dependencies function, [HasBeenSentCapability] and</span>
<span class="c">[HasBeenReceivedCapability]) can be inferred from that.</span>
<span class="c">*)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Hint Mode</span> MessageDependencies - - ! - - : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies message_dependencies (IM i)}
  .</span></span></pre><div class="doc">
If all of the components satisfy the <span class="inlinecode"><span class="id" title="var">MessageDependencies</span></span> assumptions,
then their free composition will also do so.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk52"><span class="kn">Global Instance</span> <span class="nf">composite_message_dependencies</span>
  : MessageDependencies message_dependencies (free_composite_vlsm IM).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies message_dependencies
  (free_composite_vlsm IM)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies message_dependencies
  (free_composite_vlsm IM)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk54"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">m</span> : message) (<span class="nv">s</span> : state),
  can_produce
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) s m
  â†’ message_dependencies_full_node_condition
      message_dependencies (free_composite_vlsm IM) s
      m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk55"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) m
  â†’ can_emit
      (pre_loaded_vlsm 
         (free_composite_vlsm IM)
         (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
            msg âˆˆ message_dependencies m)) m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk56">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">m</span> : message) (<span class="nv">s</span> : state),
  can_produce
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) s m
  â†’ message_dependencies_full_node_condition
      message_dependencies (free_composite_vlsm IM) s
      m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk57"><span class="nb">intros</span> m s ((<span class="kr">is</span>, iom) &amp; (i, li) &amp; Ht) dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (<span class="kr">is</span>, iom) 
  (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (free_composite_vlsm IM) s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk58"><span class="nb">apply</span> composite_has_been_observed_free_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (<span class="kr">is</span>, iom) 
  (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_observed IM s dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk59"><span class="nb">eapply</span> composite_has_been_observed_from_component.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (<span class="kr">is</span>, iom) 
  (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_observed (IM <span class="nl">?i</span>) (s <span class="nl">?i</span>) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5a"><span class="nb">eapply</span> message_dependencies_are_necessary; [<span class="nb">typeclasses eauto</span>| |<span class="bp">eassumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (<span class="kr">is</span>, iom) 
  (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_produce
  (pre_loaded_with_all_messages_vlsm (IM <span class="nl">?i</span>)) (s <span class="nl">?i</span>) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5b"><span class="kr">exists</span> (<span class="nv">is</span> <span class="nv">i</span>, iom), li.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) 
  (existT i li) (<span class="kr">is</span>, iom) 
  (s, Some m)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm (IM i)) li
  (<span class="kr">is</span> i, iom) (s i, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5c"><span class="nb">revert</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) (existT i li) (<span class="kr">is</span>, iom)
  (s, Some m)
â†’ input_valid_transition
    (pre_loaded_with_all_messages_vlsm (IM i)) li
    (<span class="kr">is</span> i, iom) (s i, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5d"><span class="nb">apply</span>
      (VLSM_projection_input_valid_transition (preloaded_component_projection IM _))
      <span class="kr">with</span> (lY := li).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_project_label IM i (existT i li) = Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5e"><span class="nb">unfold</span> composite_project_label; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (i = i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    Some (eq_rect_r (<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) li e)
| <span class="nb">right</span> _ =&gt; None
<span class="kr">end</span> = Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk5f">case_decide <span class="kr">as</span> Heqi; [|<span class="bp">contradiction</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br><span><var>Heqi</var><span class="hyp-type"><b>: </b><span>i = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (eq_rect_r (<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) li Heqi) =
Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk60"><span class="nb">replace</span> Heqi <span class="kr">with</span> (@eq_refl index i) <span class="bp">by</span> (<span class="nb">apply</span> Eqdep_dec.UIP_dec; <span class="bp">assumption</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>vlabel (IM i)</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ message_dependencies m</span></span></span><br><span><var>Heqi</var><span class="hyp-type"><b>: </b><span>i = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some
  (eq_rect_r (<span class="kr">Î»</span> <span class="nv">n</span> : index, vlabel (IM n)) li eq_refl) =
Some li</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk61">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  can_emit
    (pre_loaded_with_all_messages_vlsm
       (free_composite_vlsm IM)) m
  â†’ can_emit
      (pre_loaded_vlsm (free_composite_vlsm IM)
         (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
            msg âˆˆ message_dependencies m)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk62"><span class="nb">intros</span> m Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm
     (free_composite_vlsm IM)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk63"><span class="nb">apply</span> can_emit_composite_project <span class="kr">in</span> Hemit <span class="kr">as</span> [j Hemitj].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_with_all_messages_vlsm (IM j))
  m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk64"><span class="nb">eapply</span> message_dependencies_are_sufficient <span class="kr">in</span> Hemitj; [|<span class="nb">typeclasses eauto</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hemitj</var><span class="hyp-type"><b>: </b><span>can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message,
        msg âˆˆ message_dependencies m)) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk65"><span class="nb">revert</span> Hemitj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  m
â†’ can_emit
    (pre_loaded_vlsm (free_composite_vlsm IM)
       (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk66"><span class="nb">eapply</span> VLSM_full_projection_can_emit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_full_projection
  (pre_loaded_vlsm (IM j)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  (pre_loaded_vlsm (free_composite_vlsm IM)
     (<span class="kr">Î»</span> <span class="nv">msg</span> : message, msg âˆˆ message_dependencies m))
  <span class="nl">?label_project</span> <span class="nl">?state_project</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk67"><span class="nb">apply</span> lift_to_composite_generalized_preloaded_vlsm_full_projection.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m0</span> : message,
  m0 âˆˆ message_dependencies m
  â†’ m0 âˆˆ message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk68"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_free_validity</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">X</span> := free_composite_vlsm IM)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
    valid_message_prop X m -&gt; valid_message_prop X dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk69"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6a"><span class="nb">intros</span> dm m Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6b"><span class="nb">rewrite</span> !emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m âˆ¨ can_emit X m
â†’ initial_message_prop dm âˆ¨ can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6c"><span class="nb">intros</span> [[i [[im Him] _]] | Hemit]
  ; [<span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM | <span class="nb">right</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6d"><span class="nb">pose proof</span> (vlsm_is_pre_loaded_with_False X) <span class="kr">as</span> XeqXFalse.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6e"><span class="nb">apply</span> (VLSM_eq_can_emit XeqXFalse).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  {|
    vtype := vtype X;
    vmachine :=
      machine
        (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
  |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk6f"><span class="nb">cut</span> (valid_message_prop (pre_loaded_vlsm X (<span class="kr">fun</span> <span class="nv">_</span> =&gt; <span class="kt">False</span>)) dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm
â†’ can_emit
    {|
      vtype := vtype X;
      vmachine :=
        machine
          (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    |} dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk70"><hr></label><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk71">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm
â†’ can_emit
    {|
      vtype := vtype X;
      vmachine :=
        machine
          (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk72"><span class="nb">clear</span> -no_initial_messages_in_IM.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm
â†’ can_emit
    {|
      vtype := vtype X;
      vmachine :=
        machine
          (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk73"><span class="nb">rewrite</span> emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop dm
âˆ¨ can_emit (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    dm
â†’ can_emit
    {|
      vtype := vtype X;
      vmachine :=
        machine
          (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk74"><span class="nb">intros</span> [[[i [[im Him] _]] | Hpreloaded] | Hemit]; <span class="nb">intuition</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit
  {|
    vtype := vtype X;
    vmachine :=
      machine
        (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
  |} dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk75">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk76"><span class="nb">eapply</span> msg_dep_reflects_validity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies <span class="nl">?message_dependencies</span> X</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk77" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk77"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ vinitial_message_prop X m</div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk78" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk78"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> <span class="nv">m0</span> : message,
  msg_dep_rel <span class="nl">?message_dependencies</span> dm0 m0
  â†’ <span class="kt">False</span> â†’ <span class="kt">False</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk79" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk79"><hr></label><div class="goal-conclusion">msg_dep_rel <span class="nl">?message_dependencies</span> dm <span class="nl">?m</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk7a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk7a"><hr></label><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) 
  <span class="nl">?m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies <span class="nl">?message_dependencies</span> X</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_message_dependencies.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ vinitial_message_prop X m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7d"><span class="nb">intros</span> _ [i [[im Him] _]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ <span class="kt">False</span> â†’ <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intuition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk7f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_rel message_dependencies dm <span class="nl">?m</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk80">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop
  (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk81"><span class="nb">apply</span> emitted_messages_are_valid_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit X m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m
âˆ¨ can_emit (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk82"><span class="nb">apply</span> (VLSM_eq_can_emit XeqXFalse) <span class="kr">in</span> Hemit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>dm, m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_rel message_dependencies dm m</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>can_emit
  {|
    vtype := vtype X;
    vmachine :=
      machine
        (pre_loaded_vlsm X
           (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
  |} m</span></span></span><br><span><var>XeqXFalse</var><span class="hyp-type"><b>: </b><span>VLSM_eq X
  (pre_loaded_vlsm X
     (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m
âˆ¨ can_emit (pre_loaded_vlsm X (<span class="kr">Î»</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
    m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk83"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_happens_before_free_validity</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">X</span> := free_composite_vlsm IM)
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    valid_message_prop X m -&gt; valid_message_prop X dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk84"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_happens_before message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk85"><span class="nb">apply</span> msg_dep_happens_before_reflect.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop X m â†’ valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk86"><span class="nb">apply</span> msg_dep_reflects_free_validity.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">no_initial_messages_in_IM_prop IM</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk87"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_composite_no_initial_valid_messages_emitted_by_sender</span>
  {<span class="nv">validator</span> : <span class="kt">Type</span>}
  (<span class="nv">sender</span> : message -&gt; option validator)
  (<span class="nv">A</span> : validator -&gt; index)
  (<span class="nv">Hchannel</span> : channel_authentication_prop  IM A sender)
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">X</span> := free_composite_vlsm IM)
  : <span class="kr">forall</span> <span class="nv">m</span>, valid_message_prop X m -&gt;
    <span class="kr">forall</span> <span class="nv">dm</span>, msg_dep_happens_before message_dependencies dm m -&gt;
    <span class="kr">exists</span> <span class="nv">v</span>, sender dm = Some v /\
      can_emit (pre_loaded_with_all_messages_vlsm (IM (A v))) dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  valid_message_prop X m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_happens_before message_dependencies dm m
      â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
          sender dm = Some v
          âˆ§ can_emit
              (pre_loaded_with_all_messages_vlsm
                 (IM (A v))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk88"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  valid_message_prop X m
  â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
      msg_dep_happens_before message_dependencies dm m
      â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
          sender dm = Some v
          âˆ§ can_emit
              (pre_loaded_with_all_messages_vlsm
                 (IM (A v))) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk89"><span class="nb">intros</span> m Hm dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
  sender dm = Some v
  âˆ§ can_emit
      (pre_loaded_with_all_messages_vlsm (IM (A v)))
      dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8a"><span class="nb">cut</span> (valid_message_prop X dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X dm
â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
    sender dm = Some v
    âˆ§ can_emit
        (pre_loaded_with_all_messages_vlsm (IM (A v)))
        dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk8b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk8b"><hr></label><div class="goal-conclusion">valid_message_prop X dm</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X dm
â†’ <span class="kr">âˆƒ</span> <span class="nv">v</span> : validator,
    sender dm = Some v
    âˆ§ can_emit
        (pre_loaded_with_all_messages_vlsm (IM (A v)))
        dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> composite_no_initial_valid_messages_emitted_by_sender; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>validator</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message â†’ option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator â†’ index</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>valid_message_prop X m</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">eapply</span> msg_dep_reflects_happens_before_free_validity; <span class="bp">eassumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_sub_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  `{EqDecision index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies message_dependencies (IM i)}
  (indices : <span class="nb">set</span> index)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8e"><span class="kn">Lemma</span> <span class="nf">msg_dep_reflects_sub_free_validity</span>
  (<span class="nv">no_initial_messages_in_IM</span> : no_initial_messages_in_IM_prop IM)
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hreflects</span> : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt; P m -&gt; P dm)
  (<span class="nv">X</span> := free_composite_vlsm (sub_IM IM indices))
  : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, msg_dep_rel message_dependencies dm m -&gt;
    valid_message_prop (pre_loaded_vlsm X P) m -&gt;
    valid_message_prop (pre_loaded_vlsm X P) dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop (pre_loaded_vlsm X P) m
    â†’ valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk8f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ valid_message_prop (pre_loaded_vlsm X P) m
    â†’ valid_message_prop (pre_loaded_vlsm X P) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk90"><span class="nb">eapply</span> msg_dep_reflects_validity; [| |<span class="bp">assumption</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies message_dependencies X</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk91" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk91"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ vinitial_message_prop X m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk92">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MessageDependencies message_dependencies X</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk93">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message, Â¬ vinitial_message_prop X m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk94"><span class="nb">intros</span> m [sub_i [[im Him] Heqm]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index indices</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>`(im â†¾ Him) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk95">destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index â†’ VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">i</span> : index,
  MessageDependencies message_dependencies (IM i)</span></span></span><br><span><var>indices</var><span class="hyp-type"><b>: </b><span><span class="nb">set</span> index</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>Hreflects</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> <span class="nv">m</span> : message,
  msg_dep_rel message_dependencies dm m
  â†’ P m â†’ P dm</span></span></span><br><span><var>X</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm (sub_IM IM indices)</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop indices i</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">contradict</span> Him; <span class="nb">apply</span> no_initial_messages_in_IM.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_sub_composite_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_full_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">FullMessageDependencies</span>
  (<span class="nv">message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  (<span class="nv">full_message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  :=
  { full_message_dependencies_happens_before
      : <span class="kr">forall</span> <span class="nv">dm</span> <span class="nv">m</span>, dm âˆˆ full_message_dependencies m &lt;-&gt; msg_dep_happens_before message_dependencies dm m
  ; full_message_dependencies_irreflexive
      : <span class="kr">forall</span> <span class="nv">m</span>, m âˆ‰ full_message_dependencies m
  ; full_message_dependencies_nodups
      : <span class="kr">forall</span> <span class="nv">m</span>, NoDup (full_message_dependencies m)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_full_message_dependencies</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* given the message type, we can usually look up the functions for</span>
<span class="c">message dependencies *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global</span> <span class="kn">Hint Mode</span> FullMessageDependencies ! - - : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">full_message_dependencies_happens_before</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  (<span class="nv">full_message_dependencies</span> : message -&gt; <span class="nb">set</span> message)
  `{FullMessageDependencies _ message_dependencies full_message_dependencies}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk96"><span class="kn">Global Instance</span> <span class="nf">msg_dep_happens_before_irrefl</span> :
  Irreflexive (msg_dep_happens_before message_dependencies).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Irreflexive
  (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk97"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Irreflexive
  (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk98"><span class="nb">intros</span> m Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk99"><span class="bp">contradict</span> Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Â¬ msg_dep_happens_before message_dependencies m m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9a"><span class="nb">rewrite</span> &lt;- full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m âˆ‰ full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> full_message_dependencies_irreflexive.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global Instance</span> <span class="nf">msg_dep_happens_before_strict</span> : StrictOrder (msg_dep_happens_before message_dependencies) := {}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9b"><span class="kn">Lemma</span> <span class="nf">msg_dep_happens_before_wf</span> : well_founded (msg_dep_happens_before message_dependencies).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9d"><span class="nb">cut</span> (<span class="kr">forall</span> <span class="nv">n</span> <span class="nv">m</span>, length (full_message_dependencies m) &lt; n -&gt; Acc (msg_dep_happens_before message_dependencies) m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> (<span class="nv">n</span> : nat) (<span class="nv">m</span> : message),
   length (full_message_dependencies m) &lt; n
   â†’ Acc (msg_dep_happens_before message_dependencies)
       m)
â†’ <span class="kn">wf</span> (msg_dep_happens_before message_dependencies)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chk9e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chk9e"><hr></label><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">n</span> : nat) (<span class="nv">m</span> : message),
  length (full_message_dependencies m) &lt; n
  â†’ Acc (msg_dep_happens_before message_dependencies)
      m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chk9f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> (<span class="nv">n</span> : nat) (<span class="nv">m</span> : message),
   length (full_message_dependencies m) &lt; n
   â†’ Acc (msg_dep_happens_before message_dependencies)
       m)
â†’ <span class="kn">wf</span> (msg_dep_happens_before message_dependencies)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka0"><span class="nb">intros</span> Hn m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">n</span> : nat) (<span class="nv">m</span> : message),
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Acc (msg_dep_happens_before message_dependencies) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka1"><span class="nb">apply</span> (Hn (S (length (full_message_dependencies m)))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> (<span class="nv">n</span> : nat) (<span class="nv">m</span> : message),
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (full_message_dependencies m) &lt;
S (length (full_message_dependencies m))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka2">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> (<span class="nv">n</span> : nat) (<span class="nv">m</span> : message),
  length (full_message_dependencies m) &lt; n
  â†’ Acc (msg_dep_happens_before message_dependencies)
      m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka3"><span class="nb">induction</span> n <span class="kr">as</span> [|n IHn]; [<span class="bp">lia</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; S n
  â†’ Acc (msg_dep_happens_before message_dependencies)
      m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka4"><span class="nb">intros</span> m Hm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Acc (msg_dep_happens_before message_dependencies) m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka5"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ Acc (msg_dep_happens_before message_dependencies)
      y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka6"><span class="nb">intros</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Acc (msg_dep_happens_before message_dependencies) dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka7"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (full_message_dependencies dm) &lt; n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka8"><span class="nb">unfold</span> lt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (full_message_dependencies dm)) â‰¤ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chka9"><span class="nb">transitivity</span> (length (full_message_dependencies m)); [|<span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (length (full_message_dependencies dm))
â‰¤ length (full_message_dependencies m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkaa"><span class="nb">rewrite</span> &lt;- (cons_length dm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (dm :: full_message_dependencies dm)
â‰¤ length (full_message_dependencies m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkab"><span class="nb">apply</span> NoDup_subseteq_length.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (dm :: full_message_dependencies dm)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkac"><hr></label><div class="goal-conclusion">dm :: full_message_dependencies dm
âŠ† full_message_dependencies m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkad">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (dm :: full_message_dependencies dm)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkae"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dm âˆ‰ full_message_dependencies dm</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkaf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkaf"><hr></label><div class="goal-conclusion">NoDup (full_message_dependencies dm)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dm âˆ‰ full_message_dependencies dm</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> full_message_dependencies_irreflexive.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (full_message_dependencies dm)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> full_message_dependencies_nodups.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dm :: full_message_dependencies dm
âŠ† full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb3"><span class="nb">intros</span> m&#39; Hm&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ dm :: full_message_dependencies dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m&#39; âˆˆ full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb4"><span class="nb">apply</span> elem_of_cons <span class="kr">in</span> Hm&#39; <span class="kr">as</span> [-&gt; | Hm&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dm âˆˆ full_message_dependencies m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="MessageDependencies-v-chkb5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ full_message_dependencies dm</span></span></span><br></div><label class="goal-separator" for="MessageDependencies-v-chkb5"><hr></label><div class="goal-conclusion">m&#39; âˆˆ full_message_dependencies m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">dm âˆˆ full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> full_message_dependencies_happens_before; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm'</var><span class="hyp-type"><b>: </b><span>m&#39; âˆˆ full_message_dependencies dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m&#39; âˆˆ full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb8"><span class="nb">revert</span> Hm&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m&#39; âˆˆ full_message_dependencies dm
â†’ m&#39; âˆˆ full_message_dependencies m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkb9"><span class="nb">setoid_rewrite</span> full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies m&#39; dm
â†’ msg_dep_happens_before message_dependencies m&#39; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkba"><span class="nb">intro</span> Hm&#39;dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">m</span> : message,
  length (full_message_dependencies m) &lt; n
  â†’ Acc
      (msg_dep_happens_before
         message_dependencies) m</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>length (full_message_dependencies m) &lt; S n</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies dm m</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm'dm</var><span class="hyp-type"><b>: </b><span>msg_dep_happens_before message_dependencies m&#39;
  dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies m&#39; m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">transitivity</span> dm; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbb"><span class="kn">Lemma</span> <span class="nf">FullMessageDependencies_ind</span>
  (<span class="nv">P</span> : message -&gt; <span class="kt">Prop</span>)
  <span class="nv">m</span>
  (<span class="nv">IHm</span> : <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ full_message_dependencies m -&gt;
    (<span class="kr">forall</span> <span class="nv">dm0</span>, dm0 âˆˆ full_message_dependencies dm -&gt; P dm0) -&gt; P dm)
  : <span class="kr">forall</span> <span class="nv">dm</span>, dm âˆˆ full_message_dependencies m -&gt; P dm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbd"><span class="nb">induction</span> m  <span class="kr">as</span> (m &amp; Hm) <span class="nb">using</span> (well_founded_ind msg_dep_happens_before_wf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m â†’ P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbe"><span class="nb">intros</span> dm Hdm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P dm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkbf"><span class="nb">apply</span> IHm; [<span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm â†’ P dm0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc0"><span class="nb">apply</span> Hm; [<span class="nb">apply</span> full_message_dependencies_happens_before; <span class="bp">assumption</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
  dm0 âˆˆ full_message_dependencies dm
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm1</span> : message,
       dm1 âˆˆ full_message_dependencies dm0 â†’ P dm1)
    â†’ P dm0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc1"><span class="nb">intros</span> dm0 Hdm0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>dm0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm0</var><span class="hyp-type"><b>: </b><span>dm0 âˆˆ full_message_dependencies dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">âˆ€</span> <span class="nv">dm1</span> : message,
   dm1 âˆˆ full_message_dependencies dm0 â†’ P dm1)
â†’ P dm0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="MessageDependencies-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="MessageDependencies-v-chkc2"><span class="nb">apply</span> IHm, full_message_dependencies_happens_before.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="nb">set</span> message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies message_dependencies
  full_message_dependencies</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>message â†’ <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">y</span> : message,
  msg_dep_happens_before message_dependencies y m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
       dm âˆˆ full_message_dependencies y
       â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
            dm0 âˆˆ full_message_dependencies dm
            â†’ P dm0) â†’ 
         P dm)
    â†’ <span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
        dm âˆˆ full_message_dependencies y â†’ P dm</span></span></span><br><span><var>IHm</var><span class="hyp-type"><b>: </b><span><span class="kr">âˆ€</span> <span class="nv">dm</span> : message,
  dm âˆˆ full_message_dependencies m
  â†’ (<span class="kr">âˆ€</span> <span class="nv">dm0</span> : message,
       dm0 âˆˆ full_message_dependencies dm
       â†’ P dm0) â†’ P dm</span></span></span><br><span><var>dm</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm</var><span class="hyp-type"><b>: </b><span>dm âˆˆ full_message_dependencies m</span></span></span><br><span><var>dm0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hdm0</var><span class="hyp-type"><b>: </b><span>dm0 âˆˆ full_message_dependencies dm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">msg_dep_happens_before message_dependencies dm0 m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">transitivity</span> dm; <span class="nb">apply</span> full_message_dependencies_happens_before; <span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">full_message_dependencies_happens_before</span>.</span></span></pre></article></body></html>